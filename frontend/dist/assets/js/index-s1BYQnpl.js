import{r as Ci,a as Wf,g as jd}from"./react-vendor-BYA32aEE.js";import{r as x,R as Z,u as ns,N as qf,O as Nd,a as Td,b as Os,c as Sd,L as Is,d as kd,e as zf,f as Hf,g as Kf}from"./router-vendor-BY4xzCha.js";import{z,F as Qf}from"./notification-vendor-DkZGVbH3.js";import{t as Zf,c as Yf}from"./utils-vendor-BkLtITBR.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();var aa={exports:{}},rr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vo;function Gf(){if(Vo)return rr;Vo=1;var e=Ci(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,n=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var d,h={},f=null,y=null;u!==void 0&&(f=""+u),c.key!==void 0&&(f=""+c.key),c.ref!==void 0&&(y=c.ref);for(d in c)r.call(c,d)&&!i.hasOwnProperty(d)&&(h[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)h[d]===void 0&&(h[d]=c[d]);return{$$typeof:t,type:l,key:f,ref:y,props:h,_owner:n.current}}return rr.Fragment=s,rr.jsx=o,rr.jsxs=o,rr}var Fo;function Xf(){return Fo||(Fo=1,aa.exports=Gf()),aa.exports}var a=Xf(),Hr={},Lo;function Jf(){if(Lo)return Hr;Lo=1;var e=Wf();return Hr.createRoot=e.createRoot,Hr.hydrateRoot=e.hydrateRoot,Hr}var em=Jf();const tm=jd(em);var Qs=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xs=typeof window>"u"||"Deno"in globalThis;function Ke(){}function sm(e,t){return typeof e=="function"?e(t):e}function Va(e){return typeof e=="number"&&e>=0&&e!==1/0}function Cd(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Gt(e,t){return typeof e=="function"?e(t):e}function ft(e,t){return typeof e=="function"?e(t):e}function Io(e,t){const{type:s="all",exact:r,fetchStatus:n,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==_i(o,t.options))return!1}else if(!wr(t.queryKey,o))return!1}if(s!=="all"){const c=t.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||n&&n!==t.state.fetchStatus||i&&!i(t))}function Uo(e,t){const{exact:s,status:r,predicate:n,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(s){if(vs(t.options.mutationKey)!==vs(i))return!1}else if(!wr(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||n&&!n(t))}function _i(e,t){return(t?.queryKeyHashFn||vs)(e)}function vs(e){return JSON.stringify(e,(t,s)=>Fa(s)?Object.keys(s).sort().reduce((r,n)=>(r[n]=s[n],r),{}):s)}function wr(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>wr(e[s],t[s])):!1}var rm=Object.prototype.hasOwnProperty;function _d(e,t){if(e===t)return e;const s=Bo(e)&&Bo(t);if(!s&&!(Fa(e)&&Fa(t)))return t;const n=(s?e:Object.keys(e)).length,i=s?t:Object.keys(t),o=i.length,l=s?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=s?u:i[u],h=e[d],f=t[d];if(h===f){l[d]=h,(s?u<n:rm.call(e,d))&&c++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){l[d]=f;continue}const y=_d(h,f);l[d]=y,y===h&&c++}return n===o&&c===n?e:l}function yn(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function Bo(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Fa(e){if(!$o(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!$o(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function $o(e){return Object.prototype.toString.call(e)==="[object Object]"}function nm(e){return new Promise(t=>{setTimeout(t,e)})}function La(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?_d(e,t):t}function am(e,t,s=0){const r=[...e,t];return s&&r.length>s?r.slice(1):r}function im(e,t,s=0){const r=[t,...e];return s&&r.length>s?r.slice(0,-1):r}var Pi=Symbol();function Pd(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Pi?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Ad(e,t){return typeof e=="function"?e(...t):!!e}var om=class extends Qs{#t;#e;#s;constructor(){super(),this.#s=e=>{if(!xs&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#s=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},Ai=new om,lm=class extends Qs{#t=!0;#e;#s;constructor(){super(),this.#s=e=>{if(!xs&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#e||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#s=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#t}},xn=new lm;function Ia(){let e,t;const s=new Promise((n,i)=>{e=n,t=i});s.status="pending",s.catch(()=>{});function r(n){Object.assign(s,n),delete s.resolve,delete s.reject}return s.resolve=n=>{r({status:"fulfilled",value:n}),e(n)},s.reject=n=>{r({status:"rejected",reason:n}),t(n)},s}function cm(e){return Math.min(1e3*2**e,3e4)}function Dd(e){return(e??"online")==="online"?xn.isOnline():!0}var Ua=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Ed(e){let t=!1,s=0,r;const n=Ia(),i=()=>n.status!=="pending",o=p=>{if(!i()){const g=new Ua(p);f(g),e.onCancel?.(g)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>Ai.isFocused()&&(e.networkMode==="always"||xn.isOnline())&&e.canRun(),d=()=>Dd(e.networkMode)&&e.canRun(),h=p=>{i()||(r?.(),n.resolve(p))},f=p=>{i()||(r?.(),n.reject(p))},y=()=>new Promise(p=>{r=g=>{(i()||u())&&p(g)},e.onPause?.()}).then(()=>{r=void 0,i()||e.onContinue?.()}),m=()=>{if(i())return;let p;const g=s===0?e.initialPromise:void 0;try{p=g??e.fn()}catch(v){p=Promise.reject(v)}Promise.resolve(p).then(h).catch(v=>{if(i())return;const b=e.retry??(xs?0:3),j=e.retryDelay??cm,P=typeof j=="function"?j(s,v):j,_=b===!0||typeof b=="number"&&s<b||typeof b=="function"&&b(s,v);if(t||!_){f(v);return}s++,e.onFail?.(s,v),nm(P).then(()=>u()?void 0:y()).then(()=>{t?f(v):m()})})};return{promise:n,status:()=>n.status,cancel:o,continue:()=>(r?.(),n),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?m():y().then(m),n)}}var dm=e=>setTimeout(e,0);function um(){let e=[],t=0,s=l=>{l()},r=l=>{l()},n=dm;const i=l=>{t?e.push(l):n(()=>{s(l)})},o=()=>{const l=e;e=[],l.length&&n(()=>{r(()=>{l.forEach(c=>{s(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{s=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{n=l}}}var Ve=um(),Rd=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Va(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xs?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},hm=class extends Rd{#t;#e;#s;#r;#n;#i;#o;constructor(e){super(),this.#o=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#s=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=fm(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(e,t){const s=La(this.state.data,e,this.options);return this.#a({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(Ke).catch(Ke):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>ft(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Pi||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Gt(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Cd(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const s=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},n=()=>{const l=Pd(this.options,t),u=(()=>{const d={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(d),d})();return this.#o=!1,this.options.persister?this.options.persister(l,u,this):l(u)},o=(()=>{const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:n};return r(l),l})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#a({type:"fetch",meta:o.fetchOptions?.meta}),this.#n=Ed({initialPromise:t?.initialPromise,fn:o.fetchFn,onCancel:l=>{l instanceof Ua&&l.revert&&this.setState({...this.#e,fetchStatus:"idle"}),s.abort()},onFail:(l,c)=>{this.#a({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const l=await this.#n.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#s.config.onSuccess?.(l,this),this.#s.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof Ua){if(l.silent)return this.#n.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#a({type:"error",error:l}),this.#s.config.onError?.(l,this),this.#s.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#a(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Md(s.data,this.options),fetchMeta:e.meta??null};case"success":const r={...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=e.manual?r:void 0,r;case"error":const n=e.error;return{...s,error:n,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),Ve.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:e})})}};function Md(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Dd(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function fm(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,r=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var mm=class extends Qs{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,s){const r=t.queryKey,n=t.queryHash??_i(r,t);let i=this.get(n);return i||(i=new hm({client:e,queryKey:r,queryHash:n,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(r)}),this.add(i)),i}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ve.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>Io(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>Io(e,s)):t}notify(e){Ve.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Ve.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ve.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},pm=class extends Rd{#t;#e;#s;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||Od(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})};this.#s=Ed({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(n,i)=>{this.#r({type:"failed",failureCount:n,error:i})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const s=this.state.status==="pending",r=!this.#s.canStart();try{if(s)t();else{this.#r({type:"pending",variables:e,isPaused:r}),await this.#e.config.onMutate?.(e,this);const i=await this.options.onMutate?.(e);i!==this.state.context&&this.#r({type:"pending",context:i,variables:e,isPaused:r})}const n=await this.#s.start();return await this.#e.config.onSuccess?.(n,e,this.state.context,this),await this.options.onSuccess?.(n,e,this.state.context),await this.#e.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,e,this.state.context),this.#r({type:"success",data:n}),n}catch(n){try{throw await this.#e.config.onError?.(n,e,this.state.context,this),await this.options.onError?.(n,e,this.state.context),await this.#e.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,n,e,this.state.context),n}finally{this.#r({type:"error",error:n})}}finally{this.#e.runNext(this)}}#r(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Ve.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function Od(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gm=class extends Qs{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#s=0}#t;#e;#s;build(e,t,s){const r=new pm({mutationCache:this,mutationId:++this.#s,options:e.defaultMutationOptions(t),state:s});return this.add(r),r}add(e){this.#t.add(e);const t=Kr(e);if(typeof t=="string"){const s=this.#e.get(t);s?s.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=Kr(e);if(typeof t=="string"){const s=this.#e.get(t);if(s)if(s.length>1){const r=s.indexOf(e);r!==-1&&s.splice(r,1)}else s[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Kr(e);if(typeof t=="string"){const r=this.#e.get(t)?.find(n=>n.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=Kr(e);return typeof t=="string"?this.#e.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Ve.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(s=>Uo(t,s))}findAll(e={}){return this.getAll().filter(t=>Uo(e,t))}notify(e){Ve.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Ve.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ke))))}};function Kr(e){return e.options.scope?.id}function Wo(e){return{onFetch:(t,s)=>{const r=t.options,n=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let d=!1;const h=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(t.signal.aborted?d=!0:t.signal.addEventListener("abort",()=>{d=!0}),t.signal)})},f=Pd(t.options,t.fetchOptions),y=async(m,p,g)=>{if(d)return Promise.reject();if(p==null&&m.pages.length)return Promise.resolve(m);const b=(()=>{const M={client:t.client,queryKey:t.queryKey,pageParam:p,direction:g?"backward":"forward",meta:t.options.meta};return h(M),M})(),j=await f(b),{maxPages:P}=t.options,_=g?im:am;return{pages:_(m.pages,j,P),pageParams:_(m.pageParams,p,P)}};if(n&&i.length){const m=n==="backward",p=m?ym:qo,g={pages:i,pageParams:o},v=p(r,g);l=await y(g,v,m)}else{const m=e??i.length;do{const p=c===0?o[0]??r.initialPageParam:qo(r,l);if(c>0&&p==null)break;l=await y(l,p),c++}while(c<m)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s):t.fetchFn=u}}}function qo(e,{pages:t,pageParams:s}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,s[r],s):void 0}function ym(e,{pages:t,pageParams:s}){return t.length>0?e.getPreviousPageParam?.(t[0],t,s[0],s):void 0}var xm=class{#t;#e;#s;#r;#n;#i;#o;#a;constructor(e={}){this.#t=e.queryCache||new mm,this.#e=e.mutationCache||new gm,this.#s=e.defaultOptions||{},this.#r=new Map,this.#n=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=Ai.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#a=xn.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=this.#t.build(this,t),r=s.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Gt(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:s})=>{const r=s.data;return[t,r]})}setQueryData(e,t,s){const r=this.defaultQueryOptions({queryKey:e}),i=this.#t.get(r.queryHash)?.state.data,o=sm(t,i);if(o!==void 0)return this.#t.build(this,r).setData(o,{...s,manual:!0})}setQueriesData(e,t,s){return Ve.batch(()=>this.#t.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,s)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;Ve.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=this.#t;return Ve.batch(()=>(s.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},r=Ve.batch(()=>this.#t.findAll(e).map(n=>n.cancel(s)));return Promise.all(r).then(Ke).catch(Ke)}invalidateQueries(e,t={}){return Ve.batch(()=>(this.#t.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},r=Ve.batch(()=>this.#t.findAll(e).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let i=n.fetch(void 0,s);return s.throwOnError||(i=i.catch(Ke)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Ke)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=this.#t.build(this,t);return s.isStaleByTime(Gt(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ke).catch(Ke)}fetchInfiniteQuery(e){return e.behavior=Wo(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ke).catch(Ke)}ensureInfiniteQueryData(e){return e.behavior=Wo(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return xn.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#s}setDefaultOptions(e){this.#s=e}setQueryDefaults(e,t){this.#r.set(vs(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#r.values()],s={};return t.forEach(r=>{wr(e,r.queryKey)&&Object.assign(s,r.defaultOptions)}),s}setMutationDefaults(e,t){this.#n.set(vs(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],s={};return t.forEach(r=>{wr(e,r.mutationKey)&&Object.assign(s,r.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#s.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=_i(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Pi&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#s.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},vm=class extends Qs{constructor(e,t){super(),this.options=t,this.#t=e,this.#a=null,this.#o=Ia(),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#s=void 0;#r=void 0;#n;#i;#o;#a;#p;#h;#f;#c;#d;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),zo(this.#e,this.options)?this.#u():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ba(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ba(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,s=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ft(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#j(),this.#e.setOptions(this.options),t._defaulted&&!yn(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&Ho(this.#e,s,this.options,t)&&this.#u(),this.updateResult(),r&&(this.#e!==s||ft(this.options.enabled,this.#e)!==ft(t.enabled,this.#e)||Gt(this.options.staleTime,this.#e)!==Gt(t.staleTime,this.#e))&&this.#g();const n=this.#y();r&&(this.#e!==s||ft(this.options.enabled,this.#e)!==ft(t.enabled,this.#e)||n!==this.#l)&&this.#x(n)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),s=this.createResult(t,e);return wm(this,s)&&(this.#r=s,this.#i=this.options,this.#n=this.#e.state),s}getCurrentResult(){return this.#r}trackResult(e,t){return new Proxy(e,{get:(s,r)=>(this.trackProp(r),t?.(r),r==="promise"&&!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,r))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),s=this.#t.getQueryCache().build(this.#t,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.#u({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#u(e){this.#j();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Ke)),t}#g(){this.#b();const e=Gt(this.options.staleTime,this.#e);if(xs||this.#r.isStale||!Va(e))return;const s=Cd(this.#r.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#r.isStale||this.updateResult()},s)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#x(e){this.#w(),this.#l=e,!(xs||ft(this.options.enabled,this.#e)===!1||!Va(this.#l)||this.#l===0)&&(this.#d=setInterval(()=>{(this.options.refetchIntervalInBackground||Ai.isFocused())&&this.#u()},this.#l))}#v(){this.#g(),this.#x(this.#y())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#d&&(clearInterval(this.#d),this.#d=void 0)}createResult(e,t){const s=this.#e,r=this.options,n=this.#r,i=this.#n,o=this.#i,c=e!==s?e.state:this.#s,{state:u}=e;let d={...u},h=!1,f;if(t._optimisticResults){const T=this.hasListeners(),q=!T&&zo(e,t),te=T&&Ho(e,s,t,r);(q||te)&&(d={...d,...Md(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:y,errorUpdatedAt:m,status:p}=d;f=d.data;let g=!1;if(t.placeholderData!==void 0&&f===void 0&&p==="pending"){let T;n?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(T=n.data,g=!0):T=typeof t.placeholderData=="function"?t.placeholderData(this.#f?.state.data,this.#f):t.placeholderData,T!==void 0&&(p="success",f=La(n?.data,T,t),h=!0)}if(t.select&&f!==void 0&&!g)if(n&&f===i?.data&&t.select===this.#p)f=this.#h;else try{this.#p=t.select,f=t.select(f),f=La(n?.data,f,t),this.#h=f,this.#a=null}catch(T){this.#a=T}this.#a&&(y=this.#a,f=this.#h,m=Date.now(),p="error");const v=d.fetchStatus==="fetching",b=p==="pending",j=p==="error",P=b&&v,_=f!==void 0,F={status:p,fetchStatus:d.fetchStatus,isPending:b,isSuccess:p==="success",isError:j,isInitialLoading:P,isLoading:P,data:f,dataUpdatedAt:d.dataUpdatedAt,error:y,errorUpdatedAt:m,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:v,isRefetching:v&&!b,isLoadingError:j&&!_,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:j&&_,isStale:Di(e,t),refetch:this.refetch,promise:this.#o,isEnabled:ft(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const T=ue=>{F.status==="error"?ue.reject(F.error):F.data!==void 0&&ue.resolve(F.data)},q=()=>{const ue=this.#o=F.promise=Ia();T(ue)},te=this.#o;switch(te.status){case"pending":e.queryHash===s.queryHash&&T(te);break;case"fulfilled":(F.status==="error"||F.data!==te.value)&&q();break;case"rejected":(F.status!=="error"||F.error!==te.reason)&&q();break}}return F}updateResult(){const e=this.#r,t=this.createResult(this.#e,this.options);if(this.#n=this.#e.state,this.#i=this.options,this.#n.data!==void 0&&(this.#f=this.#e),yn(t,e))return;this.#r=t;const s=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,n=typeof r=="function"?r():r;if(n==="all"||!n&&!this.#m.size)return!0;const i=new Set(n??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#r).some(o=>{const l=o;return this.#r[l]!==e[l]&&i.has(l)})};this.#N({listeners:s()})}#j(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#s=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#N(e){Ve.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function bm(e,t){return ft(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function zo(e,t){return bm(e,t)||e.state.data!==void 0&&Ba(e,t,t.refetchOnMount)}function Ba(e,t,s){if(ft(t.enabled,e)!==!1&&Gt(t.staleTime,e)!=="static"){const r=typeof s=="function"?s(e):s;return r==="always"||r!==!1&&Di(e,t)}return!1}function Ho(e,t,s,r){return(e!==t||ft(r.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&Di(e,s)}function Di(e,t){return ft(t.enabled,e)!==!1&&e.isStaleByTime(Gt(t.staleTime,e))}function wm(e,t){return!yn(e.getCurrentResult(),t)}var jm=class extends Qs{#t;#e=void 0;#s;#r;constructor(t,s){super(),this.#t=t,this.setOptions(s),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const s=this.options;this.options=this.#t.defaultMutationOptions(t),yn(this.options,s)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),s?.mutationKey&&this.options.mutationKey&&vs(s.mutationKey)!==vs(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(t){this.#n(),this.#i(t)}getCurrentResult(){return this.#e}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#n(),this.#i()}mutate(t,s){return this.#r=s,this.#s?.removeObserver(this),this.#s=this.#t.getMutationCache().build(this.#t,this.options),this.#s.addObserver(this),this.#s.execute(t)}#n(){const t=this.#s?.state??Od();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#i(t){Ve.batch(()=>{if(this.#r&&this.hasListeners()){const s=this.#e.variables,r=this.#e.context;t?.type==="success"?(this.#r.onSuccess?.(t.data,s,r),this.#r.onSettled?.(t.data,null,s,r)):t?.type==="error"&&(this.#r.onError?.(t.error,s,r),this.#r.onSettled?.(void 0,t.error,s,r))}this.listeners.forEach(s=>{s(this.#e)})})}},Vd=x.createContext(void 0),be=e=>{const t=x.useContext(Vd);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Nm=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(Vd.Provider,{value:e,children:t})),Fd=x.createContext(!1),Tm=()=>x.useContext(Fd);Fd.Provider;function Sm(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var km=x.createContext(Sm()),Cm=()=>x.useContext(km),_m=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Pm=e=>{x.useEffect(()=>{e.clearReset()},[e])},Am=({result:e,errorResetBoundary:t,throwOnError:s,query:r,suspense:n})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(n&&e.data===void 0||Ad(s,[e.error,r])),Dm=e=>{if(e.suspense){const s=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>s(r(...n)):s(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Em=(e,t)=>e.isLoading&&e.isFetching&&!t,Rm=(e,t)=>e?.suspense&&t.isPending,Ko=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function Mm(e,t,s){const r=Tm(),n=Cm(),i=be(),o=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=r?"isRestoring":"optimistic",Dm(o),_m(o,n),Pm(n);const l=!i.getQueryCache().get(o.queryHash),[c]=x.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),d=!r&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(h=>{const f=d?c.subscribe(Ve.batchCalls(h)):Ke;return c.updateResult(),f},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(o)},[o,c]),Rm(o,u))throw Ko(o,c,n);if(Am({result:u,errorResetBoundary:n,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!xs&&Em(u,r)&&(l?Ko(o,c,n):i.getQueryCache().get(o.queryHash)?.promise)?.catch(Ke).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?u:c.trackResult(u)}function ze(e,t){return Mm(e,vm)}function Ce(e,t){const s=be(),[r]=x.useState(()=>new jm(s,e));x.useEffect(()=>{r.setOptions(e)},[r,e]);const n=x.useSyncExternalStore(x.useCallback(o=>r.subscribe(Ve.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=x.useCallback((o,l)=>{r.mutate(o,l).catch(Ke)},[r]);if(n.error&&Ad(r.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:i,mutateAsync:n.mutate}}const Qe=(...e)=>e.filter(Boolean).join(" "),Om="inline-flex items-center justify-center gap-2 font-medium rounded-[var(--radius-md)] transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2",Vm={primary:"bg-[var(--color-semantic-primary-500)] text-[var(--color-semantic-primary-contrast)] hover:bg-[var(--color-semantic-primary-600)] focus-visible:ring-[var(--color-semantic-primary-200)]",secondary:"bg-[var(--color-semantic-secondary-100)] text-[var(--color-semantic-secondary-700)] hover:bg-[var(--color-semantic-secondary-200)] focus-visible:ring-[var(--color-semantic-secondary-200)]",outline:"border border-[var(--color-border-default)] bg-transparent text-[var(--color-text-primary)] hover:bg-[var(--color-surface-muted)] focus-visible:ring-[var(--color-border-focus)]",ghost:"bg-transparent text-[var(--color-text-secondary)] hover:bg-[var(--color-surface-muted)] hover:text-[var(--color-text-primary)] focus-visible:ring-[var(--color-border-focus)]",destructive:"bg-[var(--color-semantic-danger-500)] text-[var(--color-semantic-danger-contrast)] hover:bg-[var(--color-semantic-danger-600)] focus-visible:ring-[var(--color-semantic-danger-200)]"},Fm={sm:"h-9 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-11 px-5 text-base",icon:"h-10 w-10 p-0"},se=x.forwardRef(({variant:e="primary",size:t="md",className:s,children:r,loading:n=!1,startIcon:i,endIcon:o,disabled:l,...c},u)=>{const d=l||n;return a.jsxs("button",{ref:u,"data-variant":e,"data-size":t,className:Qe(Om,Vm[e],Fm[t],d&&"cursor-not-allowed opacity-60",s),disabled:d,"aria-busy":n?"true":void 0,...c,children:[n?a.jsx("span",{className:"inline-flex h-4 w-4 animate-spin rounded-full border-2 border-[var(--color-semantic-primary-100)] border-r-transparent","aria-hidden":"true"}):i&&a.jsx("span",{className:"inline-flex",children:i}),a.jsx("span",{className:"whitespace-nowrap",children:r}),!n&&o?a.jsx("span",{className:"inline-flex",children:o}):null]})});se.displayName="Button";const Ld=x.createContext(void 0),Ei=()=>{const e=x.useContext(Ld);if(!e)throw new Error("useThemeMode phải được sử dụng trong ThemeContext.Provider");return e};let Lm=class{config;constructor(t){this.config=t}t(t,s){const r=s?.defaultValue,n={...s};delete n.defaultValue;const i=t.split(".");let o=this.config.messages[this.config.locale]||this.config.messages[this.config.fallbackLocale];for(const l of i)if(o&&typeof o=="object"&&l in o)o=o[l];else{o=this.config.messages[this.config.fallbackLocale];for(const c of i)if(o&&typeof o=="object"&&c in o)o=o[c];else return r||t;break}return typeof o!="string"?r||t:n?o.replace(/\{(\w+)\}/g,(l,c)=>n[c]?.toString()||l):o}setLocale(t){this.config.locale=t}getLocale(){return this.config.locale}};const Im={en:{dashboard:{title:"Dashboard",description:"Overview of your projects and tasks",widgets:"Widgets",alerts:"Alerts",alertsDescription:"Recent notifications and alerts",preferences:"Preferences",totalProjects:"Total Projects",totalTasks:"Total Tasks",pendingTasks:"Pending Tasks",teamMembers:"Team Members",refresh:"Refresh",customize:"Customize",quickActions:"Quick Actions",quickActionsDescription:"Common tasks and shortcuts",newProject:"New Project",newTask:"New Task",addMember:"Add Member",reports:"Reports",noAlerts:"No alerts at this time",metricsError:"Failed to load metrics",alertsError:"Failed to load alerts",errorTitle:"Failed to load dashboard",errorDescription:"Please try refreshing the page",retry:"Retry",noWidgets:"No widgets yet",noWidgetsDescription:"Add widgets to customize your dashboard",addWidget:"Add widget:",editMode:"Edit Mode",done:"Done",refreshSuccess:"Dashboard refreshed successfully",navigatingToProjects:"Navigating to projects...",newTaskComingSoon:"New task functionality coming soon",addMemberComingSoon:"Add member functionality coming soon",reportsComingSoon:"Reports functionality coming soon",actionNotImplemented:"This action is not yet implemented"},alerts:{title:"Alerts Center",description:"Manage and monitor system alerts",filters:"Filters",filterAll:"All",filterUnread:"Unread",filterRead:"Read",filterCritical:"Critical",filterHigh:"High",filterMedium:"Medium",filterLow:"Low",markAllRead:"Mark All Read",refresh:"Refresh",errorTitle:"Failed to load alerts",errorDescription:"Please try refreshing the page",retry:"Retry",noAlerts:"No alerts found",noAlertsDescription:"No alerts at this time",noFilteredAlerts:"No alerts match the current filter",selectedCount:"Selected",bulkMarkRead:"Mark as Read",clearSelection:"Clear Selection",selectAll:"Select all",unread:"Unread",source:"Source",type:"Type",markRead:"Mark as Read",refreshSuccess:"Alerts refreshed successfully",markReadSuccess:"Alert marked as read",markReadError:"Failed to mark alert as read",markAllReadSuccess:"All alerts marked as read",markAllReadError:"Failed to mark all alerts as read",bulkMarkReadSuccess:"Selected alerts marked as read",bulkMarkReadError:"Failed to mark selected alerts as read"},preferences:{title:"Preferences",description:"Customize your dashboard experience",theme:{title:"Theme Settings",description:"Customize the appearance of your dashboard",mode:"Theme Mode",light:"Light",dark:"Dark",auto:"Auto",preview:"Preview"},layout:{title:"Layout Settings",description:"Configure how content is displayed",type:"Layout Type",grid:"Grid",list:"List",compact:"Compact",density:"Density",comfortable:"Comfortable",spacious:"Spacious"},notifications:{title:"Notification Settings",description:"Configure how you receive notifications",enabled:"Enable Notifications",enabledDescription:"Receive system notifications",sound:"Sound Notifications",soundDescription:"Play sound for notifications",desktop:"Desktop Notifications",desktopDescription:"Show desktop notifications"},widgets:{title:"Widget Settings",description:"Configure widget behavior and appearance",defaultSize:"Default Widget Size",small:"Small",medium:"Medium",large:"Large",xlarge:"Extra Large",autoRefresh:"Auto Refresh Widgets",autoRefreshDescription:"Automatically refresh widget data",showTitles:"Show Widget Titles",showTitlesDescription:"Display titles on widgets"},refresh:{title:"Refresh Settings",description:"Configure data refresh intervals",interval:"Refresh Interval (seconds)"},unsavedChanges:"Unsaved changes",reset:"Reset",save:"Save Preferences",saved:"Preferences saved!",resetToDefaults:"Reset to Defaults",currentTheme:"Current Theme",currentThemeDescription:"Active theme mode",errorTitle:"Failed to load preferences",errorDescription:"Please try refreshing the page",retry:"Retry",help:{title:"Need Help?",description:"Your preferences are automatically saved and synced across all your devices.",theme:"Auto theme will follow your system preference (light/dark mode).",refresh:"Refresh intervals are applied to all dashboard widgets and data."}},common:{loading:"Loading...",error:"An error occurred",success:"Success",cancel:"Cancel",save:"Save",delete:"Delete",tenant:"Tenant",toggleTheme:"Toggle theme",darkMode:"Dark mode",lightMode:"Light mode"},admin:{dashboard:{title:"Admin Dashboard",description:"System overview and quick actions",totalUsers:"Total Users",totalProjects:"Total Projects",activeTenants:"Active Tenants",activeSessions:"Active Sessions",acrossAllTenants:"Across all tenants",systemWide:"System-wide",ofTotal:"of {total} total",currentlyOnline:"Currently online",export:"Export",exportComingSoon:"Export functionality coming soon",exportUrlNotAvailable:"Export URL not available",quickActions:"Quick Actions",manageUsers:"Manage Users",manageTenants:"Manage Tenants",viewProjects:"View Projects",settings:"Settings",loadingDashboard:"Loading dashboard...",failedToLoadDashboard:"Failed to load dashboard",failedToLoadDashboardDescription:"There was an error loading the dashboard data. Please try again."},users:{title:"User Management",description:"Manage system users and permissions",search:"Search users...",status:"Status",priority:"Priority",allStatus:"All Status",allPriorities:"All Priorities",planning:"Planning",active:"Active",onHold:"On Hold",completed:"Completed",cancelled:"Cancelled",urgent:"Urgent",high:"High",medium:"Medium",low:"Low",newUser:"New User",view:"View",edit:"Edit",delete:"Delete",progress:"Progress",members:"members",loadingUsers:"Loading users...",failedToLoadUsers:"Failed to load users",failedToLoadUsersDescription:"There was an error loading the users. Please try again.",noUsersFound:"No users found",noUsersFoundDescription:"Try adjusting your filters or create a new user.",deleteUserConfirm:"Are you sure you want to delete this user?",userDeletedSuccess:"User deleted successfully",userDeleteError:"Failed to delete user",previous:"Previous",next:"Next",showing:"Showing {from} to {to} of {total} results"},roles:{title:"Roles & Permissions",description:"Manage user roles and system permissions",newRole:"New Role",edit:"Edit",delete:"Delete",name:"Name",roleDescription:"Description",userCount:"User Count",permissions:"Permissions",actions:"Actions",systemPermissionsOverview:"System Permissions Overview",management:"Management",noPermissionsAvailable:"No permissions available",loadingRoles:"Loading roles...",failedToLoadRoles:"Failed to load roles",failedToLoadRolesDescription:"There was an error loading the roles. Please try again.",noRolesFound:"No roles found",noRolesFoundDescription:"Try adjusting your filters or create a new role.",deleteRoleConfirm:"Are you sure you want to delete this role?",roleDeletedSuccess:"Role deleted successfully",roleDeleteError:"Failed to delete role",previous:"Previous",next:"Next",showing:"Showing {from} to {to} of {total} results"},tenants:{title:"Tenant Management",description:"Manage system tenants and organizations",search:"Search tenants...",status:"Status",plan:"Plan",allStatus:"All Status",allPlans:"All Plans",active:"Active",inactive:"Inactive",suspended:"Suspended",basic:"Basic",premium:"Premium",enterprise:"Enterprise",newTenant:"New Tenant",name:"Name",domain:"Domain",users:"Users",created:"Created",actions:"Actions",toggleStatus:"Toggle Status",suspend:"Suspend",activate:"Activate",edit:"Edit",delete:"Delete",loadingTenants:"Loading tenants...",failedToLoadTenants:"Failed to load tenants",failedToLoadTenantsDescription:"There was an error loading the tenants. Please try again.",noTenantsFound:"No tenants found",noTenantsFoundDescription:"Try adjusting your filters or create a new tenant.",deleteTenantConfirm:"Are you sure you want to delete this tenant?",tenantDeletedSuccess:"Tenant deleted successfully",tenantDeleteError:"Failed to delete tenant",previous:"Previous",next:"Next",showing:"Showing {from} to {to} of {total} results"}},projects:{title:"Projects",description:"Manage your projects and track progress",search:"Search projects...",status:"Status",priority:"Priority",allStatus:"All Status",allPriorities:"All Priorities",planning:"Planning",active:"Active",onHold:"On Hold",completed:"Completed",cancelled:"Cancelled",urgent:"Urgent",high:"High",medium:"Medium",low:"Low",newProject:"New Project",view:"View",edit:"Edit",delete:"Delete",progress:"Progress",members:"members",loadingProjects:"Loading projects...",failedToLoadProjects:"Failed to load projects",failedToLoadProjectsDescription:"There was an error loading the projects. Please try again.",noProjectsFound:"No projects found",noProjectsFoundDescription:"Try adjusting your filters or create a new project.",deleteProjectConfirm:"Are you sure you want to delete this project?",projectDeletedSuccess:"Project deleted successfully",projectDeleteError:"Failed to delete project",previous:"Previous",next:"Next",showing:"Showing {from} to {to} of {total} results",detail:{backToProjects:"Back to Projects",editProject:"Edit Project",addTask:"Add Task",deleteProject:"Delete Project",deleteProjectConfirm:"Are you sure you want to delete this project? This action cannot be undone.",projectDeletedSuccess:"Project deleted successfully",projectDeleteError:"Failed to delete project",editProjectComingSoon:"Edit project functionality coming soon",addTaskComingSoon:"Add task functionality coming soon",loadingProject:"Loading project...",failedToLoadProject:"Failed to load project",failedToLoadProjectDescription:"There was an error loading the project. Please try again.",projectInfo:"Project Information",startDate:"Start Date",endDate:"End Date",teamSize:"Team Size",recentDocuments:"Recent Documents",noDocumentsYet:"No documents yet",updated:"Updated"}},documents:{title:"Documents",description:"Manage and organize your project documents",search:"Search documents...",fileType:"File Type",project:"Project",allTypes:"All Types",allProjects:"All Projects",pdf:"PDF",word:"Word",wordDocx:"Word (DOCX)",excel:"Excel",excelXlsx:"Excel (XLSX)",jpeg:"JPEG",png:"PNG",upload:"Upload",view:"View",download:"Download",edit:"Edit",delete:"Delete",name:"Name",type:"Type",size:"Size",uploadedBy:"Uploaded by",uploadedAt:"Uploaded at",category:"Category",loadingDocuments:"Loading documents...",failedToLoadDocuments:"Failed to load documents",failedToLoadDocumentsDescription:"There was an error loading the documents. Please try again.",noDocumentsFound:"No documents found",noDocumentsFoundDescription:"Try adjusting your filters or upload a new document.",deleteDocumentConfirm:"Are you sure you want to delete this document?",documentDeletedSuccess:"Document deleted successfully",documentDeleteError:"Failed to delete document",downloadDocumentSuccess:"Document downloaded successfully",downloadDocumentError:"Failed to download document",previous:"Previous",next:"Next",showing:"Showing {from} to {to} of {total} results"}},vi:{dashboard:{title:"Bảng điều khiển",description:"Tổng quan về dự án và nhiệm vụ của bạn",widgets:"Widgets",alerts:"Cảnh báo",alertsDescription:"Thông báo và cảnh báo gần đây",preferences:"Tùy chọn",totalProjects:"Tổng dự án",totalTasks:"Tổng nhiệm vụ",pendingTasks:"Nhiệm vụ chờ",teamMembers:"Thành viên nhóm",refresh:"Làm mới",customize:"Tùy chỉnh",quickActions:"Thao tác nhanh",quickActionsDescription:"Các tác vụ và phím tắt thông dụng",newProject:"Dự án mới",newTask:"Nhiệm vụ mới",addMember:"Thêm thành viên",reports:"Báo cáo",noAlerts:"Không có cảnh báo nào",metricsError:"Không thể tải số liệu",alertsError:"Không thể tải cảnh báo",errorTitle:"Không thể tải bảng điều khiển",errorDescription:"Vui lòng thử làm mới trang",retry:"Thử lại",noWidgets:"Chưa có widget nào",noWidgetsDescription:"Thêm widget để tùy chỉnh bảng điều khiển",addWidget:"Thêm widget:",editMode:"Chế độ chỉnh sửa",done:"Hoàn thành"},alerts:{title:"Trung tâm cảnh báo",description:"Quản lý và theo dõi cảnh báo hệ thống",filters:"Bộ lọc",filterAll:"Tất cả",filterUnread:"Chưa đọc",filterRead:"Đã đọc",filterCritical:"Nghiêm trọng",filterHigh:"Cao",filterMedium:"Trung bình",filterLow:"Thấp",markAllRead:"Đánh dấu tất cả đã đọc",refresh:"Làm mới",errorTitle:"Không thể tải cảnh báo",errorDescription:"Vui lòng thử làm mới trang",retry:"Thử lại",noAlerts:"Không có cảnh báo nào",noAlertsDescription:"Không có cảnh báo nào tại thời điểm này",noFilteredAlerts:"Không có cảnh báo nào phù hợp với bộ lọc hiện tại",selectedCount:"Đã chọn",bulkMarkRead:"Đánh dấu đã đọc",clearSelection:"Bỏ chọn",selectAll:"Chọn tất cả",unread:"Chưa đọc",source:"Nguồn",type:"Loại",markRead:"Đánh dấu đã đọc"},preferences:{title:"Tùy chỉnh",description:"Tùy chỉnh trải nghiệm bảng điều khiển",theme:{title:"Cài đặt giao diện",description:"Tùy chỉnh giao diện bảng điều khiển",mode:"Chế độ giao diện",light:"Sáng",dark:"Tối",auto:"Tự động",preview:"Xem trước"},layout:{title:"Cài đặt bố cục",description:"Cấu hình cách hiển thị nội dung",type:"Loại bố cục",grid:"Lưới",list:"Danh sách",compact:"Gọn",density:"Mật độ",comfortable:"Thoải mái",spacious:"Rộng rãi"},notifications:{title:"Cài đặt thông báo",description:"Cấu hình cách nhận thông báo",enabled:"Bật thông báo",enabledDescription:"Nhận thông báo hệ thống",sound:"Thông báo âm thanh",soundDescription:"Phát âm thanh cho thông báo",desktop:"Thông báo desktop",desktopDescription:"Hiển thị thông báo desktop"},widgets:{title:"Cài đặt widget",description:"Cấu hình hành vi và giao diện widget",defaultSize:"Kích thước widget mặc định",small:"Nhỏ",medium:"Trung bình",large:"Lớn",xlarge:"Rất lớn",autoRefresh:"Tự động làm mới widget",autoRefreshDescription:"Tự động làm mới dữ liệu widget",showTitles:"Hiển thị tiêu đề widget",showTitlesDescription:"Hiển thị tiêu đề trên widget"},refresh:{title:"Cài đặt làm mới",description:"Cấu hình khoảng thời gian làm mới dữ liệu",interval:"Khoảng thời gian làm mới (giây)"},unsavedChanges:"Có thay đổi chưa lưu",reset:"Đặt lại",save:"Lưu tùy chỉnh",saved:"Đã lưu tùy chỉnh!",resetToDefaults:"Đặt lại mặc định",currentTheme:"Giao diện hiện tại",currentThemeDescription:"Chế độ giao diện đang hoạt động",errorTitle:"Không thể tải tùy chỉnh",errorDescription:"Vui lòng thử làm mới trang",retry:"Thử lại",help:{title:"Cần trợ giúp?",description:"Tùy chỉnh của bạn được tự động lưu và đồng bộ trên tất cả thiết bị.",theme:"Giao diện tự động sẽ theo tùy chỉnh hệ thống (chế độ sáng/tối).",refresh:"Khoảng thời gian làm mới được áp dụng cho tất cả widget và dữ liệu bảng điều khiển."}},auth:{login:{title:"Chào mừng trở lại",subtitle:"Đăng nhập vào tài khoản của bạn",formTitle:"Đăng nhập",formDescription:"Nhập thông tin đăng nhập để truy cập tài khoản",email:"Địa chỉ Email",emailPlaceholder:"Nhập email của bạn",password:"Mật khẩu",passwordPlaceholder:"Nhập mật khẩu của bạn",remember:"Ghi nhớ đăng nhập",forgotPassword:"Quên mật khẩu?",submit:"Đăng nhập",or:"Hoặc",noAccount:"Chưa có tài khoản?",signUp:"Đăng ký",terms:"Bằng cách đăng nhập, bạn đồng ý với Điều khoản Dịch vụ và Chính sách Bảo mật của chúng tôi"},forgotPassword:{title:"Quên mật khẩu?",subtitle:"Nhập email để nhận hướng dẫn đặt lại",formTitle:"Đặt lại mật khẩu",formDescription:"Chúng tôi sẽ gửi cho bạn liên kết để đặt lại mật khẩu",email:"Địa chỉ Email",emailPlaceholder:"Nhập email của bạn",submit:"Gửi liên kết đặt lại",backToLogin:"Quay lại đăng nhập",successTitle:"Email đã được gửi!",successDescription:"Kiểm tra email để nhận hướng dẫn đặt lại mật khẩu",successMessage:"Chúng tôi đã gửi liên kết đặt lại mật khẩu đến địa chỉ email của bạn. Vui lòng kiểm tra hộp thư và làm theo hướng dẫn để đặt lại mật khẩu.",tryAgain:"Thử lại"},resetPassword:{title:"Đặt lại mật khẩu",subtitle:"Nhập mật khẩu mới",formTitle:"Mật khẩu mới",formDescription:"Chọn mật khẩu mạnh cho tài khoản của bạn",password:"Mật khẩu mới",passwordPlaceholder:"Nhập mật khẩu mới",confirmPassword:"Xác nhận mật khẩu",confirmPasswordPlaceholder:"Xác nhận mật khẩu mới",passwordRequirements:"Mật khẩu phải có ít nhất 8 ký tự",submit:"Đặt lại mật khẩu",backToLogin:"Quay lại đăng nhập",successTitle:"Đặt lại mật khẩu thành công!",successDescription:"Mật khẩu của bạn đã được đặt lại thành công",successMessage:"Bây giờ bạn có thể đăng nhập bằng mật khẩu mới.",signIn:"Đăng nhập"},twoFactor:{title:"Xác thực hai yếu tố",description:"Nhập mã 6 chữ số từ ứng dụng xác thực của bạn",code:"Mã xác thực",help:"Kiểm tra ứng dụng xác thực của bạn để lấy mã hiện tại",cancel:"Hủy",verify:"Xác thực",resend:"Gửi lại mã",resendCooldown:"Gửi lại sau {seconds}s"}},common:{loading:"Đang tải...",error:"Đã xảy ra lỗi",success:"Thành công",cancel:"Hủy",save:"Lưu",delete:"Xóa",tenant:"Tenant",toggleTheme:"Bật/tắt chế độ sáng tối",darkMode:"Chế độ tối",lightMode:"Chế độ sáng"},admin:{dashboard:{title:"Bảng điều khiển Admin",description:"Tổng quan hệ thống và thao tác nhanh",totalUsers:"Tổng người dùng",totalProjects:"Tổng dự án",activeTenants:"Tenant hoạt động",activeSessions:"Phiên hoạt động",acrossAllTenants:"Trên tất cả tenant",systemWide:"Toàn hệ thống",ofTotal:"trong tổng số {total}",currentlyOnline:"Đang trực tuyến",export:"Xuất",exportComingSoon:"Tính năng xuất sẽ sớm có",exportUrlNotAvailable:"URL xuất không khả dụng",quickActions:"Thao tác nhanh",manageUsers:"Quản lý người dùng",manageTenants:"Quản lý tenant",viewProjects:"Xem dự án",settings:"Cài đặt",loadingDashboard:"Đang tải bảng điều khiển...",failedToLoadDashboard:"Không thể tải bảng điều khiển",failedToLoadDashboardDescription:"Có lỗi khi tải dữ liệu bảng điều khiển. Vui lòng thử lại."},users:{title:"Quản lý người dùng",description:"Quản lý người dùng hệ thống và quyền hạn",search:"Tìm kiếm người dùng...",status:"Trạng thái",priority:"Độ ưu tiên",allStatus:"Tất cả trạng thái",allPriorities:"Tất cả độ ưu tiên",planning:"Lập kế hoạch",active:"Hoạt động",onHold:"Tạm dừng",completed:"Hoàn thành",cancelled:"Đã hủy",urgent:"Khẩn cấp",high:"Cao",medium:"Trung bình",low:"Thấp",newUser:"Người dùng mới",view:"Xem",edit:"Chỉnh sửa",delete:"Xóa",progress:"Tiến độ",members:"thành viên",loadingUsers:"Đang tải người dùng...",failedToLoadUsers:"Không thể tải người dùng",failedToLoadUsersDescription:"Có lỗi khi tải người dùng. Vui lòng thử lại.",noUsersFound:"Không tìm thấy người dùng",noUsersFoundDescription:"Thử điều chỉnh bộ lọc hoặc tạo người dùng mới.",deleteUserConfirm:"Bạn có chắc chắn muốn xóa người dùng này?",userDeletedSuccess:"Đã xóa người dùng thành công",userDeleteError:"Không thể xóa người dùng",previous:"Trước",next:"Tiếp",showing:"Hiển thị {from} đến {to} trong tổng số {total} kết quả"},roles:{title:"Vai trò & Quyền hạn",description:"Quản lý vai trò người dùng và quyền hệ thống",newRole:"Vai trò mới",edit:"Chỉnh sửa",delete:"Xóa",name:"Tên",roleDescription:"Mô tả",userCount:"Số người dùng",permissions:"Quyền hạn",actions:"Hành động",systemPermissionsOverview:"Tổng quan quyền hệ thống",management:"Quản lý",noPermissionsAvailable:"Không có quyền nào khả dụng",loadingRoles:"Đang tải vai trò...",failedToLoadRoles:"Không thể tải vai trò",failedToLoadRolesDescription:"Có lỗi khi tải vai trò. Vui lòng thử lại.",noRolesFound:"Không tìm thấy vai trò",noRolesFoundDescription:"Thử điều chỉnh bộ lọc hoặc tạo vai trò mới.",deleteRoleConfirm:"Bạn có chắc chắn muốn xóa vai trò này?",roleDeletedSuccess:"Đã xóa vai trò thành công",roleDeleteError:"Không thể xóa vai trò",previous:"Trước",next:"Tiếp",showing:"Hiển thị {from} đến {to} trong tổng số {total} kết quả"},tenants:{title:"Quản lý Tenant",description:"Quản lý tenant và tổ chức hệ thống",search:"Tìm kiếm tenant...",status:"Trạng thái",plan:"Gói",allStatus:"Tất cả trạng thái",allPlans:"Tất cả gói",active:"Hoạt động",inactive:"Không hoạt động",suspended:"Tạm dừng",basic:"Cơ bản",premium:"Cao cấp",enterprise:"Doanh nghiệp",newTenant:"Tenant mới",name:"Tên",domain:"Miền",users:"Người dùng",created:"Đã tạo",actions:"Hành động",toggleStatus:"Chuyển trạng thái",suspend:"Tạm dừng",activate:"Kích hoạt",edit:"Chỉnh sửa",delete:"Xóa",loadingTenants:"Đang tải tenant...",failedToLoadTenants:"Không thể tải tenant",failedToLoadTenantsDescription:"Có lỗi khi tải tenant. Vui lòng thử lại.",noTenantsFound:"Không tìm thấy tenant",noTenantsFoundDescription:"Thử điều chỉnh bộ lọc hoặc tạo tenant mới.",deleteTenantConfirm:"Bạn có chắc chắn muốn xóa tenant này?",tenantDeletedSuccess:"Đã xóa tenant thành công",tenantDeleteError:"Không thể xóa tenant",previous:"Trước",next:"Tiếp",showing:"Hiển thị {from} đến {to} trong tổng số {total} kết quả"}},projects:{title:"Dự án",description:"Quản lý dự án và theo dõi tiến độ",search:"Tìm kiếm dự án...",status:"Trạng thái",priority:"Độ ưu tiên",allStatus:"Tất cả trạng thái",allPriorities:"Tất cả độ ưu tiên",planning:"Lập kế hoạch",active:"Hoạt động",onHold:"Tạm dừng",completed:"Hoàn thành",cancelled:"Đã hủy",urgent:"Khẩn cấp",high:"Cao",medium:"Trung bình",low:"Thấp",newProject:"Dự án mới",view:"Xem",edit:"Chỉnh sửa",delete:"Xóa",progress:"Tiến độ",members:"thành viên",loadingProjects:"Đang tải dự án...",failedToLoadProjects:"Không thể tải dự án",failedToLoadProjectsDescription:"Có lỗi khi tải dự án. Vui lòng thử lại.",noProjectsFound:"Không tìm thấy dự án",noProjectsFoundDescription:"Thử điều chỉnh bộ lọc hoặc tạo dự án mới.",deleteProjectConfirm:"Bạn có chắc chắn muốn xóa dự án này?",projectDeletedSuccess:"Đã xóa dự án thành công",projectDeleteError:"Không thể xóa dự án",previous:"Trước",next:"Tiếp",showing:"Hiển thị {from} đến {to} trong tổng số {total} kết quả",detail:{backToProjects:"Quay lại dự án",editProject:"Chỉnh sửa dự án",addTask:"Thêm nhiệm vụ",deleteProject:"Xóa dự án",deleteProjectConfirm:"Bạn có chắc chắn muốn xóa dự án này? Hành động này không thể hoàn tác.",projectDeletedSuccess:"Đã xóa dự án thành công",projectDeleteError:"Không thể xóa dự án",editProjectComingSoon:"Tính năng chỉnh sửa dự án sẽ sớm có",addTaskComingSoon:"Tính năng thêm nhiệm vụ sẽ sớm có",loadingProject:"Đang tải dự án...",failedToLoadProject:"Không thể tải dự án",failedToLoadProjectDescription:"Có lỗi khi tải dự án. Vui lòng thử lại.",projectInfo:"Thông tin dự án",startDate:"Ngày bắt đầu",endDate:"Ngày kết thúc",teamSize:"Kích thước nhóm",recentDocuments:"Tài liệu gần đây",noDocumentsYet:"Chưa có tài liệu",updated:"Đã cập nhật"}},documents:{title:"Tài liệu",description:"Quản lý và tổ chức tài liệu dự án",search:"Tìm kiếm tài liệu...",fileType:"Loại tệp",project:"Dự án",allTypes:"Tất cả loại",allProjects:"Tất cả dự án",pdf:"PDF",word:"Word",wordDocx:"Word (DOCX)",excel:"Excel",excelXlsx:"Excel (XLSX)",jpeg:"JPEG",png:"PNG",upload:"Tải lên",view:"Xem",download:"Tải xuống",edit:"Chỉnh sửa",delete:"Xóa",name:"Tên",type:"Loại",size:"Kích thước",uploadedBy:"Tải lên bởi",uploadedAt:"Tải lên lúc",category:"Danh mục",loadingDocuments:"Đang tải tài liệu...",failedToLoadDocuments:"Không thể tải tài liệu",failedToLoadDocumentsDescription:"Có lỗi khi tải tài liệu. Vui lòng thử lại.",noDocumentsFound:"Không tìm thấy tài liệu",noDocumentsFoundDescription:"Thử điều chỉnh bộ lọc hoặc tải lên tài liệu mới.",deleteDocumentConfirm:"Bạn có chắc chắn muốn xóa tài liệu này?",documentDeletedSuccess:"Đã xóa tài liệu thành công",documentDeleteError:"Không thể xóa tài liệu",downloadDocumentSuccess:"Đã tải xuống tài liệu thành công",downloadDocumentError:"Không thể tải xuống tài liệu",previous:"Trước",next:"Tiếp",showing:"Hiển thị {from} đến {to} trong tổng số {total} kết quả"}}},Um=(e="en")=>new Lm({locale:e,fallbackLocale:"en",messages:Im}),Id=x.createContext(void 0),St=()=>{const e=x.useContext(Id);if(!e)throw new Error("useI18n phải được sử dụng trong I18nContext.Provider");return e},Bm=({children:e,locale:t="en"})=>{const[s]=Z.useState(()=>Um(t)),r=Z.useMemo(()=>({t:(n,i)=>s.t(n,i),setLocale:n=>s.setLocale(n),getLocale:()=>s.getLocale()}),[s]);return a.jsx(Id.Provider,{value:r,children:e})},$m={},Qo=e=>{let t;const s=new Set,r=(d,h)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const y=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),s.forEach(m=>m(t,y))}},n=()=>t,c={setState:r,getState:n,getInitialState:()=>u,subscribe:d=>(s.add(d),()=>s.delete(d)),destroy:()=>{s.clear()}},u=t=e(r,n,c);return c},Wm=e=>e?Qo(e):Qo;var ia={exports:{}},oa={},la={exports:{}},ca={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zo;function qm(){if(Zo)return ca;Zo=1;var e=Ci();function t(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var s=typeof Object.is=="function"?Object.is:t,r=e.useState,n=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(h,f){var y=f(),m=r({inst:{value:y,getSnapshot:f}}),p=m[0].inst,g=m[1];return i(function(){p.value=y,p.getSnapshot=f,c(p)&&g({inst:p})},[h,y,f]),n(function(){return c(p)&&g({inst:p}),h(function(){c(p)&&g({inst:p})})},[h]),o(y),y}function c(h){var f=h.getSnapshot;h=h.value;try{var y=f();return!s(h,y)}catch{return!0}}function u(h,f){return f()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return ca.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,ca}var Yo;function zm(){return Yo||(Yo=1,la.exports=qm()),la.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Go;function Hm(){if(Go)return oa;Go=1;var e=Ci(),t=zm();function s(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var r=typeof Object.is=="function"?Object.is:s,n=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,c=e.useDebugValue;return oa.useSyncExternalStoreWithSelector=function(u,d,h,f,y){var m=i(null);if(m.current===null){var p={hasValue:!1,value:null};m.current=p}else p=m.current;m=l(function(){function v(M){if(!b){if(b=!0,j=M,M=f(M),y!==void 0&&p.hasValue){var F=p.value;if(y(F,M))return P=F}return P=M}if(F=P,r(j,M))return F;var T=f(M);return y!==void 0&&y(F,T)?(j=M,F):(j=M,P=T)}var b=!1,j,P,_=h===void 0?null:h;return[function(){return v(d())},_===null?void 0:function(){return v(_())}]},[d,h,f,y]);var g=n(u,m[0],m[1]);return o(function(){p.hasValue=!0,p.value=g},[g]),c(g),g},oa}var Xo;function Km(){return Xo||(Xo=1,ia.exports=Hm()),ia.exports}var Qm=Km();const Zm=jd(Qm),Ud={},{useDebugValue:Ym}=Z,{useSyncExternalStoreWithSelector:Gm}=Zm;let Jo=!1;const Xm=e=>e;function Jm(e,t=Xm,s){(Ud?"production":void 0)!=="production"&&s&&!Jo&&(Jo=!0);const r=Gm(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,s);return Ym(r),r}const ep=e=>{const t=typeof e=="function"?Wm(e):e,s=(r,n)=>Jm(t,r,n);return Object.assign(s,t),s},Bd=e=>ep,tp={};function sp(e,t){let s;try{s=e()}catch{return}return{getItem:n=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=s.getItem(n))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(n,i)=>s.setItem(n,JSON.stringify(i,void 0)),removeItem:n=>s.removeItem(n)}}const jr=e=>t=>{try{const s=e(t);return s instanceof Promise?s:{then(r){return jr(r)(s)},catch(r){return this}}}catch(s){return{then(r){return this},catch(r){return jr(r)(s)}}}},rp=(e,t)=>(s,r,n)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:g=>g,version:0,merge:(g,v)=>({...v,...g}),...t},o=!1;const l=new Set,c=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...g)=>{s(...g)},r,n);const d=jr(i.serialize),h=()=>{const g=i.partialize({...r()});let v;const b=d({state:g,version:i.version}).then(j=>u.setItem(i.name,j)).catch(j=>{v=j});if(v)throw v;return b},f=n.setState;n.setState=(g,v)=>{f(g,v),h()};const y=e((...g)=>{s(...g),h()},r,n);let m;const p=()=>{var g;if(!u)return;o=!1,l.forEach(b=>b(r()));const v=((g=i.onRehydrateStorage)==null?void 0:g.call(i,r()))||void 0;return jr(u.getItem.bind(u))(i.name).then(b=>{if(b)return i.deserialize(b)}).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==i.version){if(i.migrate)return i.migrate(b.state,b.version)}else return b.state}).then(b=>{var j;return m=i.merge(b,(j=r())!=null?j:y),s(m,!0),h()}).then(()=>{v?.(m,void 0),o=!0,c.forEach(b=>b(m))}).catch(b=>{v?.(void 0,b)})};return n.persist={setOptions:g=>{i={...i,...g},g.getStorage&&(u=g.getStorage())},clearStorage:()=>{u?.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:g=>(l.add(g),()=>{l.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},p(),m||y},np=(e,t)=>(s,r,n)=>{let i={storage:sp(()=>localStorage),partialize:p=>p,version:0,merge:(p,g)=>({...g,...p}),...t},o=!1;const l=new Set,c=new Set;let u=i.storage;if(!u)return e((...p)=>{s(...p)},r,n);const d=()=>{const p=i.partialize({...r()});return u.setItem(i.name,{state:p,version:i.version})},h=n.setState;n.setState=(p,g)=>{h(p,g),d()};const f=e((...p)=>{s(...p),d()},r,n);n.getInitialState=()=>f;let y;const m=()=>{var p,g;if(!u)return;o=!1,l.forEach(b=>{var j;return b((j=r())!=null?j:f)});const v=((g=i.onRehydrateStorage)==null?void 0:g.call(i,(p=r())!=null?p:f))||void 0;return jr(u.getItem.bind(u))(i.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==i.version){if(i.migrate)return[!0,i.migrate(b.state,b.version)]}else return[!1,b.state];return[!1,void 0]}).then(b=>{var j;const[P,_]=b;if(y=i.merge(_,(j=r())!=null?j:f),s(y,!0),P)return d()}).then(()=>{v?.(y,void 0),y=r(),o=!0,c.forEach(b=>b(y))}).catch(b=>{v?.(void 0,b)})};return n.persist={setOptions:p=>{i={...i,...p},p.storage&&(u=p.storage)},clearStorage:()=>{u?.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:p=>(l.add(p),()=>{l.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},i.skipHydration||m(),y||f},ap=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?rp(e,t):np(e,t),$d=ap;function Wd(e,t){return function(){return e.apply(t,arguments)}}const{toString:ip}=Object.prototype,{getPrototypeOf:Ri}=Object,{iterator:Un,toStringTag:qd}=Symbol,Bn=(e=>t=>{const s=ip.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),kt=e=>(e=e.toLowerCase(),t=>Bn(t)===e),$n=e=>t=>typeof t===e,{isArray:Zs}=Array,Nr=$n("undefined");function Mr(e){return e!==null&&!Nr(e)&&e.constructor!==null&&!Nr(e.constructor)&&tt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const zd=kt("ArrayBuffer");function op(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&zd(e.buffer),t}const lp=$n("string"),tt=$n("function"),Hd=$n("number"),Or=e=>e!==null&&typeof e=="object",cp=e=>e===!0||e===!1,ln=e=>{if(Bn(e)!=="object")return!1;const t=Ri(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(qd in e)&&!(Un in e)},dp=e=>{if(!Or(e)||Mr(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},up=kt("Date"),hp=kt("File"),fp=kt("Blob"),mp=kt("FileList"),pp=e=>Or(e)&&tt(e.pipe),gp=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||tt(e.append)&&((t=Bn(e))==="formdata"||t==="object"&&tt(e.toString)&&e.toString()==="[object FormData]"))},yp=kt("URLSearchParams"),[xp,vp,bp,wp]=["ReadableStream","Request","Response","Headers"].map(kt),jp=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Vr(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let r,n;if(typeof e!="object"&&(e=[e]),Zs(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{if(Mr(e))return;const i=s?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(r=0;r<o;r++)l=i[r],t.call(null,e[l],l,e)}}function Kd(e,t){if(Mr(e))return null;t=t.toLowerCase();const s=Object.keys(e);let r=s.length,n;for(;r-- >0;)if(n=s[r],t===n.toLowerCase())return n;return null}const ds=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Qd=e=>!Nr(e)&&e!==ds;function $a(){const{caseless:e}=Qd(this)&&this||{},t={},s=(r,n)=>{const i=e&&Kd(t,n)||n;ln(t[i])&&ln(r)?t[i]=$a(t[i],r):ln(r)?t[i]=$a({},r):Zs(r)?t[i]=r.slice():t[i]=r};for(let r=0,n=arguments.length;r<n;r++)arguments[r]&&Vr(arguments[r],s);return t}const Np=(e,t,s,{allOwnKeys:r}={})=>(Vr(t,(n,i)=>{s&&tt(n)?e[i]=Wd(n,s):e[i]=n},{allOwnKeys:r}),e),Tp=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Sp=(e,t,s,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},kp=(e,t,s,r)=>{let n,i,o;const l={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)o=n[i],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=s!==!1&&Ri(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},Cp=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const r=e.indexOf(t,s);return r!==-1&&r===s},_p=e=>{if(!e)return null;if(Zs(e))return e;let t=e.length;if(!Hd(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},Pp=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ri(Uint8Array)),Ap=(e,t)=>{const r=(e&&e[Un]).call(e);let n;for(;(n=r.next())&&!n.done;){const i=n.value;t.call(e,i[0],i[1])}},Dp=(e,t)=>{let s;const r=[];for(;(s=e.exec(t))!==null;)r.push(s);return r},Ep=kt("HTMLFormElement"),Rp=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,n){return r.toUpperCase()+n}),el=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Mp=kt("RegExp"),Zd=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),r={};Vr(s,(n,i)=>{let o;(o=t(n,i,e))!==!1&&(r[i]=o||n)}),Object.defineProperties(e,r)},Op=e=>{Zd(e,(t,s)=>{if(tt(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=e[s];if(tt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Vp=(e,t)=>{const s={},r=n=>{n.forEach(i=>{s[i]=!0})};return Zs(e)?r(e):r(String(e).split(t)),s},Fp=()=>{},Lp=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Ip(e){return!!(e&&tt(e.append)&&e[qd]==="FormData"&&e[Un])}const Up=e=>{const t=new Array(10),s=(r,n)=>{if(Or(r)){if(t.indexOf(r)>=0)return;if(Mr(r))return r;if(!("toJSON"in r)){t[n]=r;const i=Zs(r)?[]:{};return Vr(r,(o,l)=>{const c=s(o,n+1);!Nr(c)&&(i[l]=c)}),t[n]=void 0,i}}return r};return s(e,0)},Bp=kt("AsyncFunction"),$p=e=>e&&(Or(e)||tt(e))&&tt(e.then)&&tt(e.catch),Yd=((e,t)=>e?setImmediate:t?((s,r)=>(ds.addEventListener("message",({source:n,data:i})=>{n===ds&&i===s&&r.length&&r.shift()()},!1),n=>{r.push(n),ds.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",tt(ds.postMessage)),Wp=typeof queueMicrotask<"u"?queueMicrotask.bind(ds):typeof process<"u"&&process.nextTick||Yd,qp=e=>e!=null&&tt(e[Un]),S={isArray:Zs,isArrayBuffer:zd,isBuffer:Mr,isFormData:gp,isArrayBufferView:op,isString:lp,isNumber:Hd,isBoolean:cp,isObject:Or,isPlainObject:ln,isEmptyObject:dp,isReadableStream:xp,isRequest:vp,isResponse:bp,isHeaders:wp,isUndefined:Nr,isDate:up,isFile:hp,isBlob:fp,isRegExp:Mp,isFunction:tt,isStream:pp,isURLSearchParams:yp,isTypedArray:Pp,isFileList:mp,forEach:Vr,merge:$a,extend:Np,trim:jp,stripBOM:Tp,inherits:Sp,toFlatObject:kp,kindOf:Bn,kindOfTest:kt,endsWith:Cp,toArray:_p,forEachEntry:Ap,matchAll:Dp,isHTMLForm:Ep,hasOwnProperty:el,hasOwnProp:el,reduceDescriptors:Zd,freezeMethods:Op,toObjectSet:Vp,toCamelCase:Rp,noop:Fp,toFiniteNumber:Lp,findKey:Kd,global:ds,isContextDefined:Qd,isSpecCompliantForm:Ip,toJSONObject:Up,isAsyncFn:Bp,isThenable:$p,setImmediate:Yd,asap:Wp,isIterable:qp};function J(e,t,s,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}S.inherits(J,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:S.toJSONObject(this.config),code:this.code,status:this.status}}});const Gd=J.prototype,Xd={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Xd[e]={value:e}});Object.defineProperties(J,Xd);Object.defineProperty(Gd,"isAxiosError",{value:!0});J.from=(e,t,s,r,n,i)=>{const o=Object.create(Gd);return S.toFlatObject(e,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),J.call(o,e.message,t,s,r,n),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const zp=null;function Wa(e){return S.isPlainObject(e)||S.isArray(e)}function Jd(e){return S.endsWith(e,"[]")?e.slice(0,-2):e}function tl(e,t,s){return e?e.concat(t).map(function(n,i){return n=Jd(n),!s&&i?"["+n+"]":n}).join(s?".":""):t}function Hp(e){return S.isArray(e)&&!e.some(Wa)}const Kp=S.toFlatObject(S,{},null,function(t){return/^is[A-Z]/.test(t)});function Wn(e,t,s){if(!S.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=S.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,g){return!S.isUndefined(g[p])});const r=s.metaTokens,n=s.visitor||d,i=s.dots,o=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&S.isSpecCompliantForm(t);if(!S.isFunction(n))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(S.isDate(m))return m.toISOString();if(S.isBoolean(m))return m.toString();if(!c&&S.isBlob(m))throw new J("Blob is not supported. Use a Buffer instead.");return S.isArrayBuffer(m)||S.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,p,g){let v=m;if(m&&!g&&typeof m=="object"){if(S.endsWith(p,"{}"))p=r?p:p.slice(0,-2),m=JSON.stringify(m);else if(S.isArray(m)&&Hp(m)||(S.isFileList(m)||S.endsWith(p,"[]"))&&(v=S.toArray(m)))return p=Jd(p),v.forEach(function(j,P){!(S.isUndefined(j)||j===null)&&t.append(o===!0?tl([p],P,i):o===null?p:p+"[]",u(j))}),!1}return Wa(m)?!0:(t.append(tl(g,p,i),u(m)),!1)}const h=[],f=Object.assign(Kp,{defaultVisitor:d,convertValue:u,isVisitable:Wa});function y(m,p){if(!S.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+p.join("."));h.push(m),S.forEach(m,function(v,b){(!(S.isUndefined(v)||v===null)&&n.call(t,v,S.isString(b)?b.trim():b,p,f))===!0&&y(v,p?p.concat(b):[b])}),h.pop()}}if(!S.isObject(e))throw new TypeError("data must be an object");return y(e),t}function sl(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Mi(e,t){this._pairs=[],e&&Wn(e,this,t)}const eu=Mi.prototype;eu.append=function(t,s){this._pairs.push([t,s])};eu.toString=function(t){const s=t?function(r){return t.call(this,r,sl)}:sl;return this._pairs.map(function(n){return s(n[0])+"="+s(n[1])},"").join("&")};function Qp(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tu(e,t,s){if(!t)return e;const r=s&&s.encode||Qp;S.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let i;if(n?i=n(t,s):i=S.isURLSearchParams(t)?t.toString():new Mi(t,s).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class rl{constructor(){this.handlers=[]}use(t,s,r){return this.handlers.push({fulfilled:t,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){S.forEach(this.handlers,function(r){r!==null&&t(r)})}}const su={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zp=typeof URLSearchParams<"u"?URLSearchParams:Mi,Yp=typeof FormData<"u"?FormData:null,Gp=typeof Blob<"u"?Blob:null,Xp={isBrowser:!0,classes:{URLSearchParams:Zp,FormData:Yp,Blob:Gp},protocols:["http","https","file","blob","url","data"]},Oi=typeof window<"u"&&typeof document<"u",qa=typeof navigator=="object"&&navigator||void 0,Jp=Oi&&(!qa||["ReactNative","NativeScript","NS"].indexOf(qa.product)<0),eg=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",tg=Oi&&window.location.href||"http://localhost",sg=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Oi,hasStandardBrowserEnv:Jp,hasStandardBrowserWebWorkerEnv:eg,navigator:qa,origin:tg},Symbol.toStringTag,{value:"Module"})),We={...sg,...Xp};function rg(e,t){return Wn(e,new We.classes.URLSearchParams,{visitor:function(s,r,n,i){return We.isNode&&S.isBuffer(s)?(this.append(r,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function ng(e){return S.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ag(e){const t={},s=Object.keys(e);let r;const n=s.length;let i;for(r=0;r<n;r++)i=s[r],t[i]=e[i];return t}function ru(e){function t(s,r,n,i){let o=s[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=s.length;return o=!o&&S.isArray(n)?n.length:o,c?(S.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!l):((!n[o]||!S.isObject(n[o]))&&(n[o]=[]),t(s,r,n[o],i)&&S.isArray(n[o])&&(n[o]=ag(n[o])),!l)}if(S.isFormData(e)&&S.isFunction(e.entries)){const s={};return S.forEachEntry(e,(r,n)=>{t(ng(r),n,s,0)}),s}return null}function ig(e,t,s){if(S.isString(e))try{return(t||JSON.parse)(e),S.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(e)}const Fr={transitional:su,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const r=s.getContentType()||"",n=r.indexOf("application/json")>-1,i=S.isObject(t);if(i&&S.isHTMLForm(t)&&(t=new FormData(t)),S.isFormData(t))return n?JSON.stringify(ru(t)):t;if(S.isArrayBuffer(t)||S.isBuffer(t)||S.isStream(t)||S.isFile(t)||S.isBlob(t)||S.isReadableStream(t))return t;if(S.isArrayBufferView(t))return t.buffer;if(S.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return rg(t,this.formSerializer).toString();if((l=S.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Wn(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||n?(s.setContentType("application/json",!1),ig(t)):t}],transformResponse:[function(t){const s=this.transitional||Fr.transitional,r=s&&s.forcedJSONParsing,n=this.responseType==="json";if(S.isResponse(t)||S.isReadableStream(t))return t;if(t&&S.isString(t)&&(r&&!this.responseType||n)){const o=!(s&&s.silentJSONParsing)&&n;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?J.from(l,J.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:We.classes.FormData,Blob:We.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};S.forEach(["delete","get","head","post","put","patch"],e=>{Fr.headers[e]={}});const og=S.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lg=e=>{const t={};let s,r,n;return e&&e.split(`
`).forEach(function(o){n=o.indexOf(":"),s=o.substring(0,n).trim().toLowerCase(),r=o.substring(n+1).trim(),!(!s||t[s]&&og[s])&&(s==="set-cookie"?t[s]?t[s].push(r):t[s]=[r]:t[s]=t[s]?t[s]+", "+r:r)}),t},nl=Symbol("internals");function nr(e){return e&&String(e).trim().toLowerCase()}function cn(e){return e===!1||e==null?e:S.isArray(e)?e.map(cn):String(e)}function cg(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)t[r[1]]=r[2];return t}const dg=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function da(e,t,s,r,n){if(S.isFunction(r))return r.call(this,t,s);if(n&&(t=s),!!S.isString(t)){if(S.isString(r))return t.indexOf(r)!==-1;if(S.isRegExp(r))return r.test(t)}}function ug(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,r)=>s.toUpperCase()+r)}function hg(e,t){const s=S.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(n,i,o){return this[r].call(this,t,n,i,o)},configurable:!0})})}let st=class{constructor(t){t&&this.set(t)}set(t,s,r){const n=this;function i(l,c,u){const d=nr(c);if(!d)throw new Error("header name must be a non-empty string");const h=S.findKey(n,d);(!h||n[h]===void 0||u===!0||u===void 0&&n[h]!==!1)&&(n[h||c]=cn(l))}const o=(l,c)=>S.forEach(l,(u,d)=>i(u,d,c));if(S.isPlainObject(t)||t instanceof this.constructor)o(t,s);else if(S.isString(t)&&(t=t.trim())&&!dg(t))o(lg(t),s);else if(S.isObject(t)&&S.isIterable(t)){let l={},c,u;for(const d of t){if(!S.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?S.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,s)}else t!=null&&i(s,t,r);return this}get(t,s){if(t=nr(t),t){const r=S.findKey(this,t);if(r){const n=this[r];if(!s)return n;if(s===!0)return cg(n);if(S.isFunction(s))return s.call(this,n,r);if(S.isRegExp(s))return s.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=nr(t),t){const r=S.findKey(this,t);return!!(r&&this[r]!==void 0&&(!s||da(this,this[r],r,s)))}return!1}delete(t,s){const r=this;let n=!1;function i(o){if(o=nr(o),o){const l=S.findKey(r,o);l&&(!s||da(r,r[l],l,s))&&(delete r[l],n=!0)}}return S.isArray(t)?t.forEach(i):i(t),n}clear(t){const s=Object.keys(this);let r=s.length,n=!1;for(;r--;){const i=s[r];(!t||da(this,this[i],i,t,!0))&&(delete this[i],n=!0)}return n}normalize(t){const s=this,r={};return S.forEach(this,(n,i)=>{const o=S.findKey(r,i);if(o){s[o]=cn(n),delete s[i];return}const l=t?ug(i):String(i).trim();l!==i&&delete s[i],s[l]=cn(n),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return S.forEach(this,(r,n)=>{r!=null&&r!==!1&&(s[n]=t&&S.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const r=new this(t);return s.forEach(n=>r.set(n)),r}static accessor(t){const r=(this[nl]=this[nl]={accessors:{}}).accessors,n=this.prototype;function i(o){const l=nr(o);r[l]||(hg(n,o),r[l]=!0)}return S.isArray(t)?t.forEach(i):i(t),this}};st.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);S.reduceDescriptors(st.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[s]=r}}});S.freezeMethods(st);function ua(e,t){const s=this||Fr,r=t||s,n=st.from(r.headers);let i=r.data;return S.forEach(e,function(l){i=l.call(s,i,n.normalize(),t?t.status:void 0)}),n.normalize(),i}function nu(e){return!!(e&&e.__CANCEL__)}function Ys(e,t,s){J.call(this,e??"canceled",J.ERR_CANCELED,t,s),this.name="CanceledError"}S.inherits(Ys,J,{__CANCEL__:!0});function au(e,t,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?e(s):t(new J("Request failed with status code "+s.status,[J.ERR_BAD_REQUEST,J.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function fg(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function mg(e,t){e=e||10;const s=new Array(e),r=new Array(e);let n=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[i];o||(o=u),s[n]=c,r[n]=u;let h=i,f=0;for(;h!==n;)f+=s[h++],h=h%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),u-o<t)return;const y=d&&u-d;return y?Math.round(f*1e3/y):void 0}}function pg(e,t){let s=0,r=1e3/t,n,i;const o=(u,d=Date.now())=>{s=d,n=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),h=d-s;h>=r?o(u,d):(n=u,i||(i=setTimeout(()=>{i=null,o(n)},r-h)))},()=>n&&o(n)]}const vn=(e,t,s=3)=>{let r=0;const n=mg(50,250);return pg(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-r,u=n(c),d=o<=l;r=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},s)},al=(e,t)=>{const s=e!=null;return[r=>t[0]({lengthComputable:s,total:e,loaded:r}),t[1]]},il=e=>(...t)=>S.asap(()=>e(...t)),gg=We.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,We.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(We.origin),We.navigator&&/(msie|trident)/i.test(We.navigator.userAgent)):()=>!0,yg=We.hasStandardBrowserEnv?{write(e,t,s,r,n,i){const o=[e+"="+encodeURIComponent(t)];S.isNumber(s)&&o.push("expires="+new Date(s).toGMTString()),S.isString(r)&&o.push("path="+r),S.isString(n)&&o.push("domain="+n),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function xg(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function vg(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function iu(e,t,s){let r=!xg(t);return e&&(r||s==!1)?vg(e,t):t}const ol=e=>e instanceof st?{...e}:e;function bs(e,t){t=t||{};const s={};function r(u,d,h,f){return S.isPlainObject(u)&&S.isPlainObject(d)?S.merge.call({caseless:f},u,d):S.isPlainObject(d)?S.merge({},d):S.isArray(d)?d.slice():d}function n(u,d,h,f){if(S.isUndefined(d)){if(!S.isUndefined(u))return r(void 0,u,h,f)}else return r(u,d,h,f)}function i(u,d){if(!S.isUndefined(d))return r(void 0,d)}function o(u,d){if(S.isUndefined(d)){if(!S.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,h){if(h in t)return r(u,d);if(h in e)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,h)=>n(ol(u),ol(d),h,!0)};return S.forEach(Object.keys({...e,...t}),function(d){const h=c[d]||n,f=h(e[d],t[d],d);S.isUndefined(f)&&h!==l||(s[d]=f)}),s}const ou=e=>{const t=bs({},e);let{data:s,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:l}=t;t.headers=o=st.from(o),t.url=tu(iu(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(S.isFormData(s)){if(We.hasStandardBrowserEnv||We.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...d]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(We.hasStandardBrowserEnv&&(r&&S.isFunction(r)&&(r=r(t)),r||r!==!1&&gg(t.url))){const u=n&&i&&yg.read(i);u&&o.set(n,u)}return t},bg=typeof XMLHttpRequest<"u",wg=bg&&function(e){return new Promise(function(s,r){const n=ou(e);let i=n.data;const o=st.from(n.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=n,d,h,f,y,m;function p(){y&&y(),m&&m(),n.cancelToken&&n.cancelToken.unsubscribe(d),n.signal&&n.signal.removeEventListener("abort",d)}let g=new XMLHttpRequest;g.open(n.method.toUpperCase(),n.url,!0),g.timeout=n.timeout;function v(){if(!g)return;const j=st.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),_={data:!l||l==="text"||l==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:j,config:e,request:g};au(function(F){s(F),p()},function(F){r(F),p()},_),g=null}"onloadend"in g?g.onloadend=v:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(v)},g.onabort=function(){g&&(r(new J("Request aborted",J.ECONNABORTED,e,g)),g=null)},g.onerror=function(){r(new J("Network Error",J.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let P=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const _=n.transitional||su;n.timeoutErrorMessage&&(P=n.timeoutErrorMessage),r(new J(P,_.clarifyTimeoutError?J.ETIMEDOUT:J.ECONNABORTED,e,g)),g=null},i===void 0&&o.setContentType(null),"setRequestHeader"in g&&S.forEach(o.toJSON(),function(P,_){g.setRequestHeader(_,P)}),S.isUndefined(n.withCredentials)||(g.withCredentials=!!n.withCredentials),l&&l!=="json"&&(g.responseType=n.responseType),u&&([f,m]=vn(u,!0),g.addEventListener("progress",f)),c&&g.upload&&([h,y]=vn(c),g.upload.addEventListener("progress",h),g.upload.addEventListener("loadend",y)),(n.cancelToken||n.signal)&&(d=j=>{g&&(r(!j||j.type?new Ys(null,e,g):j),g.abort(),g=null)},n.cancelToken&&n.cancelToken.subscribe(d),n.signal&&(n.signal.aborted?d():n.signal.addEventListener("abort",d)));const b=fg(n.url);if(b&&We.protocols.indexOf(b)===-1){r(new J("Unsupported protocol "+b+":",J.ERR_BAD_REQUEST,e));return}g.send(i||null)})},jg=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let r=new AbortController,n;const i=function(u){if(!n){n=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof J?d:new Ys(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new J(`timeout ${t} of ms exceeded`,J.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>S.asap(l),c}},Ng=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let r=0,n;for(;r<s;)n=r+t,yield e.slice(r,n),r=n},Tg=async function*(e,t){for await(const s of Sg(e))yield*Ng(s,t)},Sg=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:r}=await t.read();if(s)break;yield r}}finally{await t.cancel()}},ll=(e,t,s,r)=>{const n=Tg(e,t);let i=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await n.next();if(u){l(),c.close();return}let h=d.byteLength;if(s){let f=i+=h;s(f)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),n.return()}},{highWaterMark:2})},qn=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",lu=qn&&typeof ReadableStream=="function",kg=qn&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),cu=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Cg=lu&&cu(()=>{let e=!1;const t=new Request(We.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),cl=64*1024,za=lu&&cu(()=>S.isReadableStream(new Response("").body)),bn={stream:za&&(e=>e.body)};qn&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!bn[t]&&(bn[t]=S.isFunction(e[t])?s=>s[t]():(s,r)=>{throw new J(`Response type '${t}' is not supported`,J.ERR_NOT_SUPPORT,r)})})})(new Response);const _g=async e=>{if(e==null)return 0;if(S.isBlob(e))return e.size;if(S.isSpecCompliantForm(e))return(await new Request(We.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(S.isArrayBufferView(e)||S.isArrayBuffer(e))return e.byteLength;if(S.isURLSearchParams(e)&&(e=e+""),S.isString(e))return(await kg(e)).byteLength},Pg=async(e,t)=>{const s=S.toFiniteNumber(e.getContentLength());return s??_g(t)},Ag=qn&&(async e=>{let{url:t,method:s,data:r,signal:n,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:f}=ou(e);u=u?(u+"").toLowerCase():"text";let y=jg([n,i&&i.toAbortSignal()],o),m;const p=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let g;try{if(c&&Cg&&s!=="get"&&s!=="head"&&(g=await Pg(d,r))!==0){let _=new Request(t,{method:"POST",body:r,duplex:"half"}),M;if(S.isFormData(r)&&(M=_.headers.get("content-type"))&&d.setContentType(M),_.body){const[F,T]=al(g,vn(il(c)));r=ll(_.body,cl,F,T)}}S.isString(h)||(h=h?"include":"omit");const v="credentials"in Request.prototype;m=new Request(t,{...f,signal:y,method:s.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:v?h:void 0});let b=await fetch(m,f);const j=za&&(u==="stream"||u==="response");if(za&&(l||j&&p)){const _={};["status","statusText","headers"].forEach(q=>{_[q]=b[q]});const M=S.toFiniteNumber(b.headers.get("content-length")),[F,T]=l&&al(M,vn(il(l),!0))||[];b=new Response(ll(b.body,cl,F,()=>{T&&T(),p&&p()}),_)}u=u||"text";let P=await bn[S.findKey(bn,u)||"text"](b,e);return!j&&p&&p(),await new Promise((_,M)=>{au(_,M,{data:P,headers:st.from(b.headers),status:b.status,statusText:b.statusText,config:e,request:m})})}catch(v){throw p&&p(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new J("Network Error",J.ERR_NETWORK,e,m),{cause:v.cause||v}):J.from(v,v&&v.code,e,m)}}),Ha={http:zp,xhr:wg,fetch:Ag};S.forEach(Ha,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const dl=e=>`- ${e}`,Dg=e=>S.isFunction(e)||e===null||e===!1,du={getAdapter:e=>{e=S.isArray(e)?e:[e];const{length:t}=e;let s,r;const n={};for(let i=0;i<t;i++){s=e[i];let o;if(r=s,!Dg(s)&&(r=Ha[(o=String(s)).toLowerCase()],r===void 0))throw new J(`Unknown adapter '${o}'`);if(r)break;n[o||"#"+i]=r}if(!r){const i=Object.entries(n).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(dl).join(`
`):" "+dl(i[0]):"as no adapter specified";throw new J("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Ha};function ha(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ys(null,e)}function ul(e){return ha(e),e.headers=st.from(e.headers),e.data=ua.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),du.getAdapter(e.adapter||Fr.adapter)(e).then(function(r){return ha(e),r.data=ua.call(e,e.transformResponse,r),r.headers=st.from(r.headers),r},function(r){return nu(r)||(ha(e),r&&r.response&&(r.response.data=ua.call(e,e.transformResponse,r.response),r.response.headers=st.from(r.response.headers))),Promise.reject(r)})}const uu="1.11.0",zn={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{zn[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const hl={};zn.transitional=function(t,s,r){function n(i,o){return"[Axios v"+uu+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(t===!1)throw new J(n(o," has been removed"+(s?" in "+s:"")),J.ERR_DEPRECATED);return s&&!hl[o]&&(hl[o]=!0),t?t(i,o,l):!0}};zn.spelling=function(t){return(s,r)=>!0};function Eg(e,t,s){if(typeof e!="object")throw new J("options must be an object",J.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let n=r.length;for(;n-- >0;){const i=r[n],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new J("option "+i+" must be "+c,J.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new J("Unknown option "+i,J.ERR_BAD_OPTION)}}const dn={assertOptions:Eg,validators:zn},Ct=dn.validators;let ps=class{constructor(t){this.defaults=t||{},this.interceptors={request:new rl,response:new rl}}async request(t,s){try{return await this._request(t,s)}catch(r){if(r instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=bs(this.defaults,s);const{transitional:r,paramsSerializer:n,headers:i}=s;r!==void 0&&dn.assertOptions(r,{silentJSONParsing:Ct.transitional(Ct.boolean),forcedJSONParsing:Ct.transitional(Ct.boolean),clarifyTimeoutError:Ct.transitional(Ct.boolean)},!1),n!=null&&(S.isFunction(n)?s.paramsSerializer={serialize:n}:dn.assertOptions(n,{encode:Ct.function,serialize:Ct.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),dn.assertOptions(s,{baseUrl:Ct.spelling("baseURL"),withXsrfToken:Ct.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=i&&S.merge(i.common,i[s.method]);i&&S.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),s.headers=st.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(s)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let d,h=0,f;if(!c){const m=[ul.bind(this),void 0];for(m.unshift(...l),m.push(...u),f=m.length,d=Promise.resolve(s);h<f;)d=d.then(m[h++],m[h++]);return d}f=l.length;let y=s;for(h=0;h<f;){const m=l[h++],p=l[h++];try{y=m(y)}catch(g){p.call(this,g);break}}try{d=ul.call(this,y)}catch(m){return Promise.reject(m)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(t){t=bs(this.defaults,t);const s=iu(t.baseURL,t.url,t.allowAbsoluteUrls);return tu(s,t.params,t.paramsSerializer)}};S.forEach(["delete","get","head","options"],function(t){ps.prototype[t]=function(s,r){return this.request(bs(r||{},{method:t,url:s,data:(r||{}).data}))}});S.forEach(["post","put","patch"],function(t){function s(r){return function(i,o,l){return this.request(bs(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}ps.prototype[t]=s(),ps.prototype[t+"Form"]=s(!0)});let Rg=class hu{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const r=this;this.promise.then(n=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](n);r._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,l){r.reason||(r.reason=new Ys(i,o,l),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=r=>{t.abort(r)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new hu(function(n){t=n}),cancel:t}}};function Mg(e){return function(s){return e.apply(null,s)}}function Og(e){return S.isObject(e)&&e.isAxiosError===!0}const Ka={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ka).forEach(([e,t])=>{Ka[t]=e});function fu(e){const t=new ps(e),s=Wd(ps.prototype.request,t);return S.extend(s,ps.prototype,t,{allOwnKeys:!0}),S.extend(s,t,null,{allOwnKeys:!0}),s.create=function(n){return fu(bs(e,n))},s}const Se=fu(Fr);Se.Axios=ps;Se.CanceledError=Ys;Se.CancelToken=Rg;Se.isCancel=nu;Se.VERSION=uu;Se.toFormData=Wn;Se.AxiosError=J;Se.Cancel=Se.CanceledError;Se.all=function(t){return Promise.all(t)};Se.spread=Mg;Se.isAxiosError=Og;Se.mergeConfig=bs;Se.AxiosHeaders=st;Se.formToJSON=e=>ru(S.isHTMLForm(e)?new FormData(e):e);Se.getAdapter=du.getAdapter;Se.HttpStatusCode=Ka;Se.default=Se;const{Axios:tS,AxiosError:sS,CanceledError:rS,isCancel:nS,CancelToken:aS,VERSION:iS,all:oS,Cancel:lS,isAxiosError:cS,spread:dS,toFormData:uS,AxiosHeaders:hS,HttpStatusCode:fS,formToJSON:mS,getAdapter:pS,mergeConfig:gS}=Se;class fl extends Error{status;code;details;constructor(t,s,r,n){super(t),this.name="ApiError",this.status=s,this.code=r,this.details=n}}const Vg=()=>window.Laravel?.locale??document.documentElement.lang??"en",Fg=()=>window.Laravel?.tenant?.id,Lg=()=>window.Laravel?.csrfToken??document.querySelector('meta[name="csrf-token"]')?.content??void 0,Ig=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`req_${Date.now()}`;let Qa=null;if(typeof window<"u"){const e=window.localStorage.getItem("auth_token");e&&(Qa=e)}const Ug=e=>{if(e.headers||(e.headers={}),typeof window<"u"){const r=window.localStorage.getItem("auth_token");r&&(e.headers.Authorization=`Bearer ${r}`)}else Qa&&(e.headers.Authorization=`Bearer ${Qa}`);const t=Fg();t&&(e.headers["X-Tenant-ID"]=t);const s=Lg();return s&&(e.headers["X-CSRF-TOKEN"]=s),e.headers["X-Request-ID"]=Ig(),e.headers["Accept-Language"]=Vg(),e.headers["X-Frontend-Theme"]=document.documentElement.dataset.theme??"light",e},Bg=e=>{if(e.isAxiosError){const t=e,s=t.response?.status??500,r=t.response?.data,n=r?.message??r?.error?.message??t.message??"Đã xảy ra lỗi trong quá trình gọi API",i=r?.error?.code??t.code??void 0,o=r?.errors??r;return new fl(n,s,i,o)}return new fl(e.message||"Lỗi không xác định",500)},$g="/api/v1",Wg=(e={})=>{const t=Se.create({baseURL:e.baseURL??$g,timeout:e.timeout??12e3,headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest",...e.headers??{}},withCredentials:!0});return t.interceptors.request.use(Ug),t.interceptors.response.use(s=>s,s=>Promise.reject(Bg(s))),t},V=Wg(),Be={get:async(e,t)=>V.get(e,t).then(s=>s.data),post:async(e,t,s)=>V.post(e,t,s).then(r=>r.data),put:async(e,t,s)=>V.put(e,t,s).then(r=>r.data),patch:async(e,t,s)=>V.patch(e,t,s).then(r=>r.data),delete:async(e,t)=>V.delete(e,t).then(s=>s.data)},ml=()=>new Date().toISOString(),pl=e=>{if(typeof e=="string"){const r=ml();return{id:`role-${e}`,name:e,scope:"custom",permissions:[],created_at:r,updated_at:r}}const t=e.created_at??ml(),s=e.name??e.role??"member";return{id:e.id??e.role_id??`role-${s}`,name:s,scope:e.scope??"custom",description:e.description,permissions:Array.isArray(e.permissions)?e.permissions:[],created_at:t,updated_at:e.updated_at??t}},qg=e=>Array.isArray(e.permissions)&&e.permissions.length?e.permissions:Array.isArray(e.role_permissions)&&e.role_permissions.length?e.role_permissions:[],gl=e=>{const t=Array.isArray(e.roles)&&e.roles.length>0?e.roles.map(pl):e.role?[pl(e.role)]:[],s=e.display_name??e.name??"User";return{id:e.id??"user",name:e.name??s,display_name:e.display_name??e.name,email:e.email??"",avatar:e.avatar??null,tenant_id:e.tenant_id??e.tenant?.id,tenant_name:e.tenant_name??e.tenant?.name,roles:t,permissions:qg(e)}},Vi=Bd()($d((e,t)=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null,login:async(s,r)=>{e({isLoading:!0,error:null});try{const i=(await V.post("/auth/login",{email:s,password:r},{headers:{"X-Web-Login":"spa-client"},withCredentials:!0})).data,o=i.data?.token||i.token,l=i.data?.user||i.user;if(!o||!l)throw new Error("Invalid response from server");localStorage.setItem("auth_token",o),V.defaults.headers.common.Authorization=`Bearer ${o}`,e({user:gl(l),token:o,isAuthenticated:!0,isLoading:!1,error:null})}catch(n){const o=(typeof n=="object"&&n!==null&&"response"in n&&typeof n.response?.data?.message=="string"?n.response.data.message:void 0)??(n instanceof Error?n.message:"Login failed");throw e({isLoading:!1,error:o,isAuthenticated:!1,user:null,token:null}),n}},logout:()=>{localStorage.removeItem("auth_token"),delete V.defaults.headers.common.Authorization,e({user:null,token:null,isAuthenticated:!1,error:null})},setUser:s=>{e({user:s})},setToken:s=>{localStorage.setItem("auth_token",s),V.defaults.headers.common.Authorization=`Bearer ${s}`,e({token:s,isAuthenticated:!0})},setError:s=>{e({error:s})},setLoading:s=>{e({isLoading:s})},clearAuth:()=>{localStorage.removeItem("auth_token"),delete V.defaults.headers.common.Authorization,e({user:null,token:null,isAuthenticated:!1,error:null,isLoading:!1})},refreshUser:async()=>{const{token:s}=t();if(s)try{const r=await V.get("/api/v1/auth/me");e({user:gl(r.data.user)})}catch{t().logout()}}}),{name:"auth-storage",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated})})),zg=()=>{const e=localStorage.getItem("auth_token");e&&(V.defaults.headers.common.Authorization=`Bearer ${e}`,Vi.setState({token:e,isAuthenticated:!0}))};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),mu=(e,t)=>{const s=x.forwardRef(({color:r="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>x.createElement("svg",{ref:d,...Hg,width:n,height:n,stroke:r,strokeWidth:o?Number(i)*24/Number(n):i,className:["lucide",`lucide-${Kg(e)}`,l].join(" "),...u},[...t.map(([h,f])=>x.createElement(h,f)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=mu("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=mu("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),pu=x.createContext({collapsed:!1}),Yg=()=>x.useContext(pu),Gg=[{to:"/app/dashboard",label:"Dashboard",description:"Widgets & KPIs"},{to:"/app/alerts",label:"Alerts",description:"Trung tâm cảnh báo"},{to:"/app/preferences",label:"Preferences",description:"Giao diện & bố cục"}],Xg=()=>{const{mode:e,toggleMode:t}=Ei(),{t:s}=St(),[r,n]=x.useState(!1),[i,o]=x.useState(!1),{logout:l,user:c}=Vi(),u=ns(),d=()=>{l(),u("/login")};return a.jsx(pu.Provider,{value:{collapsed:r},children:a.jsxs("div",{className:"relative min-h-screen bg-[var(--color-surface-base)] text-[var(--color-text-primary)]",children:[a.jsx("style",{children:`
          @media (min-width: 1024px) {
            .sidebar-transition {
              transition: width 0.3s ease-in-out;
            }
            .sidebar-collapsed {
              width: 64px !important;
            }
            .content-wrapper {
              margin-left: 260px;
            }
            .content-wrapper.content-collapsed {
              margin-left: 64px !important;
            }
            .content-wrapper .max-width-wrapper {
              max-width: 72rem;
              margin: 0 auto;
            }
            .content-wrapper.content-collapsed .max-width-wrapper {
              max-width: none !important;
            }
          }
        `}),a.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 rounded-[var(--radius-md)] bg-[var(--color-semantic-primary-500)] px-3 py-2 text-sm font-medium text-[var(--color-semantic-primary-contrast)] shadow-lg",children:"Bỏ qua tới nội dung chính"}),i&&a.jsx("button",{type:"button","aria-label":"Đóng menu",className:"fixed inset-0 z-40 bg-black/40 lg:hidden",onClick:()=>o(!1)}),a.jsxs("aside",{className:Qe("z-50 flex h-full flex-col border-r border-[var(--color-border-subtle)] bg-[var(--color-surface-card)] sidebar-transition","lg:fixed lg:top-0 lg:left-0 lg:h-screen lg:translate-x-0",i?"fixed inset-y-0 left-0 w-64 translate-x-0 shadow-xl p-6":"-translate-x-full lg:flex p-6",r?"lg:p-2 sidebar-collapsed":""),"aria-label":"Điều hướng ứng dụng",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2 mb-6",children:[!r&&a.jsx("span",{className:"text-lg font-semibold tracking-tight",children:"ZenaManage"}),a.jsx("button",{onClick:()=>n(!r),className:"flex items-center justify-center w-8 h-8 rounded-md hover:bg-[var(--color-surface-muted)] text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)] transition-colors","aria-label":r?"Expand sidebar":"Collapse sidebar",type:"button",children:r?a.jsx(Zg,{className:"h-5 w-5"}):a.jsx(Qg,{className:"h-5 w-5"})})]}),a.jsx("nav",{className:"flex flex-col gap-2 text-sm font-medium",children:Gg.map(h=>a.jsx(qf,{to:h.to,className:({isActive:f})=>Qe("rounded-[var(--radius-md)] px-4 py-3 transition-colors",f?"bg-[var(--color-semantic-primary-50)] text-[var(--color-semantic-primary-700)]":"text-[var(--color-text-secondary)] hover:bg-[var(--color-surface-muted)] hover:text-[var(--color-text-primary)]",r&&"px-2 justify-center"),onClick:()=>o(!1),children:r?a.jsx("span",{className:"text-xs",children:h.label.charAt(0)}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"block",children:h.label}),a.jsx("span",{className:"text-xs font-normal text-[var(--color-text-muted)]",children:h.description})]})},h.to))}),a.jsx(se,{variant:"ghost",size:"sm",className:"mt-auto lg:hidden",onClick:()=>o(!1),children:"Đóng"})]}),a.jsxs("div",{className:Qe("flex min-h-screen flex-col content-wrapper",r&&"lg:content-collapsed full-width"),children:[a.jsx("header",{className:"border-b border-[var(--color-border-subtle)] bg-[var(--color-surface-card)]",children:a.jsxs("div",{className:Qe("flex items-center justify-between gap-4 py-4",r?"px-1":"px-4 lg:px-8"),children:[a.jsx("div",{className:"flex items-center gap-3",children:a.jsx("h1",{className:"text-base font-semibold leading-tight",children:"ZenaManage"})}),a.jsxs("div",{className:"flex items-center gap-4 flex-1 justify-end",children:[a.jsxs("span",{className:"text-sm text-[var(--color-text-secondary)] hidden md:block",children:["Xin chào, ",a.jsx("span",{className:"font-medium text-[var(--color-text-primary)]",children:c?.name||"User"})]}),a.jsx(se,{variant:"ghost",size:"sm","aria-label":s("common.toggleTheme",{defaultValue:"Toggle theme"}),onClick:t,children:e==="light"?s("common.darkMode",{defaultValue:"Dark mode"}):s("common.lightMode",{defaultValue:"Light mode"})}),a.jsx(se,{variant:"outline",size:"sm",onClick:d,children:"Logout"})]})]})}),a.jsx("main",{id:"main-content",className:Qe("flex-1 overflow-y-auto py-8",r?"px-1":"px-4 lg:px-8"),children:a.jsx("div",{className:Qe("flex w-full flex-col gap-6 max-width-wrapper"),children:a.jsx(Nd,{})})})]})]})})},Jg=()=>a.jsx("div",{className:"min-h-screen bg-[var(--color-surface-primary)]",children:a.jsxs("div",{className:"flex",children:[a.jsxs("div",{className:"w-64 bg-[var(--color-surface-secondary)] border-r border-[var(--color-border-primary)]",children:[a.jsx("div",{className:"p-6",children:a.jsx("h1",{className:"text-xl font-bold text-[var(--color-text-primary)]",children:"Admin Panel"})}),a.jsx("nav",{className:"px-4 py-2",children:a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx("a",{href:"/admin/dashboard",className:"block px-3 py-2 text-[var(--color-text-primary)] hover:bg-[var(--color-surface-muted)] rounded",children:"Dashboard"})}),a.jsx("li",{children:a.jsx("a",{href:"/admin/users",className:"block px-3 py-2 text-[var(--color-text-primary)] hover:bg-[var(--color-surface-muted)] rounded",children:"Users"})}),a.jsx("li",{children:a.jsx("a",{href:"/admin/roles",className:"block px-3 py-2 text-[var(--color-text-primary)] hover:bg-[var(--color-surface-muted)] rounded",children:"Roles"})}),a.jsx("li",{children:a.jsx("a",{href:"/admin/tenants",className:"block px-3 py-2 text-[var(--color-text-primary)] hover:bg-[var(--color-surface-muted)] rounded",children:"Tenants"})})]})})]}),a.jsx("div",{className:"flex-1",children:a.jsx(Nd,{})})]})}),ey={AUTH:{LOGIN:"/auth/login"}},Us={AUTH_TOKEN:"zena_auth_token",USER_PROFILE:"zena_user_profile"},ty={DISPLAY:"DD/MM/YYYY"},yl=e=>{localStorage.setItem(Us.AUTH_TOKEN,e)},sy=()=>localStorage.getItem(Us.AUTH_TOKEN),gu=()=>{localStorage.removeItem(Us.AUTH_TOKEN),localStorage.removeItem(Us.USER_PROFILE)},Qr=e=>{localStorage.setItem(Us.USER_PROFILE,JSON.stringify(e))},fa=()=>{const e=localStorage.getItem(Us.USER_PROFILE);if(!e)return null;try{return JSON.parse(e)}catch{return null}};class ry{instance;constructor(){this.instance=Se.create({baseURL:"http://localhost:8000/api/v1",timeout:1e4,headers:{"Content-Type":"application/json",Accept:"application/json"}}),this.setupInterceptors()}setupInterceptors(){this.instance.interceptors.request.use(t=>{const s=sy();return s&&(t.headers.Authorization=`Bearer ${s}`),t},t=>Promise.reject(t)),this.instance.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(gu(),window.location.href="/auth/login"),Promise.reject(this.handleError(t))))}handleError(t){return t.response?{status:t.response.status,message:t.response.data?.message||"Có lỗi xảy ra",data:t.response.data}:t.request?{status:0,message:"Không thể kết nối đến server",data:null}:{status:0,message:t.message||"Lỗi không xác định",data:null}}async get(t,s){return(await this.instance.get(t,s)).data}async post(t,s,r){return(await this.instance.post(t,s,r)).data}async put(t,s,r){return(await this.instance.put(t,s,r)).data}async delete(t,s){return(await this.instance.delete(t,s)).data}async patch(t,s,r){return(await this.instance.patch(t,s,r)).data}}const zt=new ry;class ar{static async login(t){return(await zt.post(ey.AUTH.LOGIN,t)).data}static async register(t){return(await zt.post("/auth/register",t)).data}static async getProfile(){return(await zt.get("/auth/me")).data}static async logout(){await zt.post("/auth/logout")}static async refreshToken(){return(await zt.post("/auth/refresh")).data}static async updateProfile(t){return(await zt.put("/auth/profile",t)).data}static async checkPermission(t){return(await zt.get(`/auth/check-permission?permission=${t}`)).data.has_permission}static async testJWT(){return(await zt.get("/auth/jwt-test")).data}}const yu=Bd()($d((e,t)=>({user:fa(),isAuthenticated:!!fa(),isLoading:!1,error:null,login:async s=>{try{e({isLoading:!0,error:null});const r=await ar.login(s);yl(r.token),Qr(r.user),e({user:r.user,isAuthenticated:!0,isLoading:!1,error:null})}catch(r){throw e({user:null,isAuthenticated:!1,isLoading:!1,error:r.message||"Đăng nhập thất bại"}),r}},logout:async()=>{try{await ar.logout()}catch{}finally{gu(),e({user:null,isAuthenticated:!1,error:null})}},refreshToken:async()=>{try{const s=await ar.refreshToken();yl(s.token),Qr(s.user),e({user:s.user,isAuthenticated:!0,error:null})}catch(s){throw t().logout(),s}},updateProfile:async s=>{try{e({isLoading:!0,error:null});const r=await ar.updateProfile(s);Qr(r),e({user:r,isLoading:!1,error:null})}catch(r){throw e({isLoading:!1,error:r.message||"Cập nhật profile thất bại"}),r}},clearError:()=>{e({error:null})},checkAuthStatus:async()=>{if(!fa()){e({isAuthenticated:!1,user:null});return}try{const r=await ar.getProfile();Qr(r),e({user:r,isAuthenticated:!0,error:null})}catch{t().logout()}}}),{name:"auth-storage",partialize:e=>({user:e.user,isAuthenticated:e.isAuthenticated})}));function De(...e){return Zf(Yf(e))}const ny={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"},ay=({size:e="md",className:t})=>a.jsx("div",{className:De("animate-spin rounded-full border-2 border-gray-300 border-t-blue-600",ny[e],t)}),iy=new Set(["admin","super_admin","Admin","SuperAdmin"]),oy=({children:e,fallbackPath:t="/unauthorized"})=>{const{user:s,isAuthenticated:r,isLoading:n}=yu(),i=Td();return n?a.jsx("div",{className:"flex min-h-screen items-center justify-center",children:a.jsx(ay,{size:"lg"})}):!r||!s?a.jsx(Os,{to:"/auth/login",state:{from:i},replace:!0}):(Array.isArray(s.roles)?s.roles.map(c=>typeof c=="string"?c:c?.name).filter(Boolean):[]).some(c=>c&&iy.has(c))?a.jsx(a.Fragment,{children:e}):a.jsx(Os,{to:t,replace:!0})},oe=({className:e,...t})=>a.jsx("section",{className:Qe("rounded-[var(--radius-lg)] border border-[var(--color-border-subtle)] bg-[var(--color-surface-card)] shadow-sm transition-shadow duration-200 focus-within:ring-2 focus-within:ring-[var(--color-semantic-primary-200)]",e),...t}),Ie=({className:e,...t})=>a.jsx("header",{className:Qe("border-b border-[var(--color-border-subtle)] px-6 py-4 first:rounded-t-[var(--radius-lg)]",e),...t}),Ue=({className:e,...t})=>a.jsx("h2",{className:Qe("text-lg font-semibold text-[var(--color-text-primary)]",e),...t}),at=({className:e,...t})=>a.jsx("p",{className:Qe("text-sm text-[var(--color-text-muted)]",e),...t}),le=({className:e,...t})=>a.jsx("div",{className:Qe("px-6 py-5",e),...t}),ly={neutral:"bg-[var(--color-semantic-neutral-100)] text-[var(--color-text-secondary)]",primary:"bg-[var(--color-semantic-primary-100)] text-[var(--color-semantic-primary-700)]",success:"bg-[var(--color-semantic-success-100)] text-[var(--color-semantic-success-700)]",warning:"bg-[var(--color-semantic-warning-100)] text-[var(--color-semantic-warning-800)]",danger:"bg-[var(--color-semantic-danger-100)] text-[var(--color-semantic-danger-700)]",info:"bg-[var(--color-semantic-info-100)] text-[var(--color-semantic-info-700)]"},mt=({tone:e="neutral",className:t,children:s,...r})=>a.jsx("span",{className:Qe("inline-flex items-center rounded-[var(--radius-pill)] px-2.5 py-0.5 text-xs font-medium",ly[e],t),...r,children:s}),Ze=({className:e})=>a.jsx("div",{className:Qe("animate-pulse rounded-[var(--radius-md)] bg-[var(--color-surface-muted)]",e)}),Ns=({size:e="medium"})=>{const t={small:"h-32",medium:"h-48",large:"h-64"};return a.jsx(oe,{className:t[e],children:a.jsx(le,{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Ze,{className:"h-4 w-24"}),a.jsx(Ze,{className:"h-4 w-4 rounded-full"})]}),a.jsx(Ze,{className:"h-8 w-16"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ze,{className:"h-3 w-full"}),a.jsx(Ze,{className:"h-3 w-3/4"})]})]})})})},cy=()=>a.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[a.jsx(Ns,{size:"small"}),a.jsx(Ns,{size:"medium"}),a.jsx(Ns,{size:"small"}),a.jsx(Ns,{size:"large"}),a.jsx(Ns,{size:"medium"}),a.jsx(Ns,{size:"small"})]}),dy=()=>a.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((e,t)=>a.jsx(oe,{children:a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Ze,{className:"h-2 w-2 rounded-full"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx(Ze,{className:"h-4 w-3/4"}),a.jsx(Ze,{className:"h-3 w-1/2"})]}),a.jsx(Ze,{className:"h-4 w-16"})]})})},t))}),xu=()=>a.jsx("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-4",children:Array.from({length:8}).map((e,t)=>a.jsx(oe,{children:a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ze,{className:"h-3 w-16"}),a.jsx(Ze,{className:"h-6 w-12"}),a.jsx(Ze,{className:"h-2 w-full"})]})})},t))});class uy{baseUrl="/app/dashboard";async getUserDashboard(){return Be.get(`${this.baseUrl}`)}async getAvailableWidgets(){return Be.get(`${this.baseUrl}/widgets`)}async getWidgetData(t){return Be.get(`${this.baseUrl}/widgets/${t}/data`)}async addWidget(t){return Be.post(`${this.baseUrl}/widgets`,t)}async removeWidget(t){return Be.delete(`${this.baseUrl}/widgets/${t}`)}async updateWidgetConfig(t,s){return Be.put(`${this.baseUrl}/widgets/${t}`,{config:s})}async updateLayout(t){return Be.put(`${this.baseUrl}/layout`,t)}async getUserAlerts(){return Be.get(`${this.baseUrl}/alerts`)}async markAlertAsRead(t){return Be.put(`${this.baseUrl}/alerts/${t}/read`)}async markAllAlertsAsRead(){return Be.put(`${this.baseUrl}/alerts/read-all`)}async getMetrics(){return Be.get(`${this.baseUrl}/metrics`)}async getRecentProjects(t={}){return Be.get(`${this.baseUrl}/recent-projects`,{params:t})}async getRecentActivity(t={}){return Be.get(`${this.baseUrl}/recent-activity`,{params:t})}async getTeamStatus(){return Be.get(`${this.baseUrl}/team-status`)}async getChartData(t,s){return Be.get(`${this.baseUrl}/charts/${t}`,{params:s?{period:s}:{}})}async saveUserPreferences(t){return Be.post(`${this.baseUrl}/preferences`,t)}async resetToDefault(){return Be.post(`${this.baseUrl}/reset`)}}const Ot=new uy,Ee={all:["dashboard"],layout:()=>[...Ee.all,"layout"],widgets:()=>[...Ee.all,"widgets"],widget:e=>[...Ee.widgets(),e],alerts:()=>[...Ee.all,"alerts"],metrics:()=>[...Ee.all,"metrics"],preferences:()=>[...Ee.all,"preferences"]},vu=()=>ze({queryKey:Ee.layout(),queryFn:()=>Ot.getUserDashboard(),staleTime:6e4,retry:1}),hy=(e,t=!0)=>ze({queryKey:Ee.widget(e),queryFn:()=>Ot.getWidgetData(e),enabled:t&&!!e,staleTime:3e4,retry:1}),bu=()=>ze({queryKey:Ee.alerts(),queryFn:()=>Ot.getUserAlerts(),staleTime:6e4,retry:1}),fy=()=>ze({queryKey:Ee.metrics(),queryFn:()=>Ot.getMetrics(),staleTime:6e4,retry:1}),my=()=>{const{data:e}=vu();return{data:e?.data?.preferences?{data:e.data.preferences}:null,isLoading:!1,error:null}},py=()=>{const e=be();return Ce({mutationFn:t=>Ot.addWidget(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ee.widgets()}),e.invalidateQueries({queryKey:Ee.layout()})}})},gy=()=>{const e=be();return Ce({mutationFn:t=>Ot.removeWidget(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ee.widgets()}),e.invalidateQueries({queryKey:Ee.layout()})}})},yy=()=>{const e=be();return Ce({mutationFn:t=>Ot.markAlertAsRead(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ee.alerts()})}})},xy=()=>{const e=be();return Ce({mutationFn:()=>Ot.markAllAlertsAsRead(),onSuccess:()=>{e.invalidateQueries({queryKey:Ee.alerts()})}})},vy=()=>{const e=be();return Ce({mutationFn:t=>Ot.saveUserPreferences(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ee.preferences()})}})},by=()=>{const e=be();return Ce({mutationFn:()=>Ot.resetToDefault(),onSuccess:()=>{e.invalidateQueries({queryKey:Ee.all})}})};class wy{widgets=new Map;register(t){this.widgets.set(t.type,t)}get(t){return this.widgets.get(t)}getAll(){return Array.from(this.widgets.values())}getByCategory(t){return this.getAll().filter(s=>s.category===t)}has(t){return this.widgets.has(t)}unregister(t){this.widgets.delete(t)}clear(){this.widgets.clear()}}const ht=new wy,jy=(e,t={})=>{const s=ht.get(e);if(!s)throw new Error(`Widget type "${e}" is not registered`);return{type:e,title:s.title,description:s.description,size:s.defaultSize,position:{x:0,y:0,w:1,h:1},config:{...s.defaultConfig},permissions:s.permissions,...t}},Ny=({widget:e,data:t,loading:s,error:r,onRefresh:n,onConfigure:i,onRemove:o})=>{const l=ht.get(e.type);if(!l)return a.jsx("div",{className:"p-4 text-center text-[var(--color-text-muted)]",children:a.jsxs("p",{children:['Widget type "',e.type,'" not found']})});const c=l.component;return a.jsx(c,{widget:e,data:t,loading:s,error:r,onRefresh:n,onConfigure:i,onRemove:o})},Lr=({title:e,description:t,loading:s,error:r,onRefresh:n,onConfigure:i,onRemove:o,children:l,className:c})=>a.jsxs(oe,{className:`h-full ${c||""}`,children:[a.jsx(Ie,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx(Ue,{className:"text-sm font-medium truncate",children:e}),t&&a.jsx(at,{className:"text-xs truncate",children:t})]}),a.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[n&&a.jsx(se,{variant:"ghost",size:"sm",onClick:n,disabled:s,className:"h-6 w-6 p-0","aria-label":"Refresh widget",children:s?a.jsx("div",{className:"h-3 w-3 animate-spin rounded-full border border-[var(--color-border-default)] border-r-transparent"}):a.jsx("span",{className:"text-xs",children:"↻"})}),i&&a.jsx(se,{variant:"ghost",size:"sm",onClick:i,className:"h-6 w-6 p-0","aria-label":"Configure widget",children:a.jsx("span",{className:"text-xs",children:"⚙"})}),o&&a.jsx(se,{variant:"ghost",size:"sm",onClick:o,className:"h-6 w-6 p-0 text-[var(--color-text-muted)] hover:text-[var(--color-semantic-danger-500)]","aria-label":"Remove widget",children:a.jsx("span",{className:"text-xs",children:"×"})})]})]})}),a.jsx(le,{className:"pt-0",children:s?a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ze,{className:"h-4 w-3/4"}),a.jsx(Ze,{className:"h-8 w-1/2"}),a.jsx(Ze,{className:"h-3 w-full"})]}):r?a.jsxs("div",{className:"text-center py-4",children:[a.jsx("p",{className:"text-sm text-[var(--color-text-muted)] mb-2",children:r}),n&&a.jsx(se,{variant:"outline",size:"sm",onClick:n,children:"Retry"})]}):l})]}),Ty=({widget:e,data:t,loading:s,error:r,onRefresh:n,onConfigure:i,onRemove:o})=>{const l=t?.value||0,c=t?.change||0,u=t?.changeType||"neutral",d=t?.unit||"",h=t?.trend||"stable",f=()=>{switch(u){case"positive":return"success";case"negative":return"danger";default:return"neutral"}},y=()=>{switch(h){case"up":return"↗";case"down":return"↘";default:return"→"}};return a.jsx(Lr,{title:e.title,description:e.description,loading:s,error:r,onRefresh:n,onConfigure:i,onRemove:o,children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("span",{className:"text-2xl font-bold text-[var(--color-text-primary)]",children:typeof l=="number"?l.toLocaleString():l}),d&&a.jsx("span",{className:"text-sm text-[var(--color-text-muted)]",children:d})]}),c!==0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(mt,{tone:f(),children:[c>0?"+":"",c,"%"]}),a.jsxs("span",{className:"text-xs text-[var(--color-text-muted)]",children:[y()," vs last period"]})]}),t?.description&&a.jsx("p",{className:"text-xs text-[var(--color-text-muted)]",children:t.description})]})})},xl=({widget:e,data:t,loading:s,error:r,onRefresh:n,onConfigure:i,onRemove:o})=>a.jsx(Lr,{title:e.title,description:e.description,loading:s,error:r,onRefresh:n,onConfigure:i,onRemove:o,children:a.jsx("div",{className:"h-32 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl mb-2",children:"📊"}),a.jsx("p",{className:"text-sm text-[var(--color-text-muted)]",children:"Chart Widget"}),a.jsx("p",{className:"text-xs text-[var(--color-text-muted)] mt-1",children:t?`${t.length||0} data points`:"No data"})]})})}),Sy=({widget:e,data:t,loading:s,error:r,onRefresh:n,onConfigure:i,onRemove:o})=>{const l=t?.rows||[],c=t?.columns||[];return a.jsx(Lr,{title:e.title,description:e.description,loading:s,error:r,onRefresh:n,onConfigure:i,onRemove:o,children:a.jsx("div",{className:"space-y-2",children:l.length>0?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-xs text-[var(--color-text-muted)]",children:[l.length," rows, ",c.length," columns"]}),a.jsx("div",{className:"max-h-32 overflow-y-auto",children:a.jsxs("table",{className:"w-full text-xs",children:[a.jsx("thead",{children:a.jsx("tr",{className:"border-b border-[var(--color-border-subtle)]",children:c.slice(0,3).map((u,d)=>a.jsx("th",{className:"text-left py-1 pr-2 font-medium",children:u},d))})}),a.jsx("tbody",{children:l.slice(0,3).map((u,d)=>a.jsx("tr",{className:"border-b border-[var(--color-border-subtle)]",children:u.slice(0,3).map((h,f)=>a.jsx("td",{className:"py-1 pr-2 truncate",children:String(h)},f))},d))})]})})]}):a.jsxs("div",{className:"text-center py-4",children:[a.jsx("div",{className:"text-2xl mb-2",children:"📋"}),a.jsx("p",{className:"text-sm text-[var(--color-text-muted)]",children:"No data to display"})]})})})},ma=({widget:e,data:t,loading:s,error:r,onRefresh:n,onConfigure:i,onRemove:o})=>{const l=t?.items||[];return a.jsx(Lr,{title:e.title,description:e.description,loading:s,error:r,onRefresh:n,onConfigure:i,onRemove:o,children:a.jsx("div",{className:"space-y-2",children:l.length>0?a.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1",children:l.slice(0,5).map((c,u)=>a.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-[var(--radius-sm)] bg-[var(--color-surface-muted)]",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs font-medium truncate",children:c.title||c.name}),c.description&&a.jsx("p",{className:"text-xs text-[var(--color-text-muted)] truncate",children:c.description})]}),c.badge&&a.jsx(mt,{tone:c.badge.tone||"neutral",className:"text-xs",children:c.badge.text})]},u))}):a.jsxs("div",{className:"text-center py-4",children:[a.jsx("div",{className:"text-2xl mb-2",children:"📝"}),a.jsx("p",{className:"text-sm text-[var(--color-text-muted)]",children:"No items to display"})]})})})},ky=({widget:e,data:t,loading:s,error:r,onRefresh:n,onConfigure:i,onRemove:o})=>{const l=t?.progress||0,c=t?.total||100,u=t?.label||"Progress",d=Math.round(l/c*100);return a.jsx(Lr,{title:e.title,description:e.description,loading:s,error:r,onRefresh:n,onConfigure:i,onRemove:o,children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:u}),a.jsxs("span",{className:"text-sm text-[var(--color-text-muted)]",children:[d,"%"]})]}),a.jsx("div",{className:"w-full bg-[var(--color-surface-muted)] rounded-full h-2",children:a.jsx("div",{className:"bg-[var(--color-semantic-primary-500)] h-2 rounded-full transition-all duration-300",style:{width:`${d}%`}})}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-[var(--color-text-muted)]",children:[a.jsxs("span",{children:[l," of ",c]}),t?.eta&&a.jsxs("span",{children:["ETA: ",t.eta]})]})]})})},Cy=()=>{ht.register({type:"kpi",component:Ty,defaultConfig:{showTrend:!0,showChange:!0,format:"number"},defaultSize:"medium",title:"KPI Card",description:"Display key performance indicators with trends",category:"metrics"}),ht.register({type:"chart",component:xl,defaultConfig:{chartType:"line",showLegend:!0,showGrid:!0},defaultSize:"large",title:"Chart",description:"Visualize data with interactive charts",category:"charts"}),ht.register({type:"table",component:Sy,defaultConfig:{pageSize:10,sortable:!0,filterable:!1},defaultSize:"large",title:"Data Table",description:"Display tabular data with sorting and filtering",category:"tables"}),ht.register({type:"list",component:ma,defaultConfig:{maxItems:10,showBadges:!0,clickable:!0},defaultSize:"medium",title:"Item List",description:"Display a list of items with badges and actions",category:"lists"}),ht.register({type:"progress",component:ky,defaultConfig:{showPercentage:!0,showETA:!1,animated:!0},defaultSize:"small",title:"Progress Bar",description:"Show progress towards a goal or completion status",category:"metrics"}),ht.register({type:"alert",component:ma,defaultConfig:{maxItems:5,showBadges:!0,severity:"all"},defaultSize:"medium",title:"Alerts",description:"Display recent alerts and notifications",category:"lists"}),ht.register({type:"activity",component:ma,defaultConfig:{maxItems:8,showTimestamps:!0,showAvatars:!1},defaultSize:"medium",title:"Recent Activity",description:"Show recent user activities and events",category:"lists"}),ht.register({type:"calendar",component:xl,defaultConfig:{view:"month",showEvents:!0,showHolidays:!1},defaultSize:"large",title:"Calendar",description:"Display calendar with events and milestones",category:"charts"})};Cy();const _y=({widgets:e,editable:t=!1,className:s})=>{const{t:r}=St(),n=be(),i=py(),o=gy(),l=x.useCallback(async y=>{try{const m=jy(y,{position:{x:0,y:0,w:1,h:1}});await i.mutateAsync(m)}catch{}},[i]),c=x.useCallback(async y=>{try{await o.mutateAsync(y)}catch{}},[o]),u=x.useCallback(y=>{n.invalidateQueries({queryKey:["dashboard","widgets",y]})},[n]),d=x.useCallback(y=>{},[]),h=y=>{switch(y){case"small":return"md:col-span-1";case"medium":return"md:col-span-2";case"large":return"md:col-span-3";case"xlarge":return"md:col-span-4";default:return"md:col-span-2"}},f=y=>{switch(y){case"small":return"md:row-span-1";case"medium":return"md:row-span-2";case"large":return"md:row-span-3";case"xlarge":return"md:row-span-4";default:return"md:row-span-2"}};return e.length===0?a.jsx("div",{className:`space-y-4 ${s||""}`,children:a.jsx(oe,{children:a.jsx(le,{className:"p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl mb-4",children:"📊"}),a.jsx("h3",{className:"text-lg font-semibold text-[var(--color-text-primary)] mb-2",children:r("dashboard.noWidgets",{defaultValue:"No widgets yet"})}),a.jsx("p",{className:"text-[var(--color-text-muted)] mb-4",children:r("dashboard.noWidgetsDescription",{defaultValue:"Add widgets to customize your dashboard"})}),t&&a.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:ht.getAll().map(y=>a.jsx(se,{variant:"outline",size:"sm",onClick:()=>l(y.type),children:y.title},y.type))})]})})})}):a.jsxs("div",{className:`space-y-4 ${s||""}`,children:[t&&a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-sm text-[var(--color-text-muted)] mr-2",children:r("dashboard.addWidget",{defaultValue:"Add widget:"})}),ht.getAll().map(y=>a.jsx(se,{variant:"outline",size:"sm",onClick:()=>l(y.type),disabled:i.isPending,children:y.title},y.type))]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 auto-rows-min",children:e.map(y=>a.jsx(Py,{widget:y,className:`${h(y.size)} ${f(y.size)}`,onRefresh:()=>u(y.id),onConfigure:()=>d(y.id),onRemove:t?()=>c(y.id):void 0,editable:t},y.id))})]})},Py=({widget:e,className:t,onRefresh:s,onConfigure:r,onRemove:n,editable:i=!1})=>{const{data:o,isLoading:l,error:c}=hy(e.id,!0);return a.jsx("div",{className:`${t||""} ${i?"group":""}`,children:a.jsx(Ny,{widget:e,data:o?.data,loading:l,error:c?.message,onRefresh:s,onConfigure:r,onRemove:n})})},Ay=()=>{const{t:e}=St(),{data:t,isLoading:s,error:r}=fy();if(s)return a.jsx(xu,{});if(r)return a.jsx(oe,{children:a.jsx(le,{className:"p-6",children:a.jsx("div",{className:"text-center text-[var(--color-text-muted)]",children:e("dashboard.metricsError",{defaultValue:"Failed to load metrics"})})})});if(!t?.data)return null;const{data:n}=t;return a.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-4",children:[a.jsx(oe,{children:a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-[var(--color-text-muted)]",children:e("dashboard.totalProjects",{defaultValue:"Total Projects"})}),a.jsx("p",{className:"text-2xl font-semibold text-[var(--color-text-primary)]",children:n.totalProjects}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(mt,{tone:"success",children:[n.activeProjects," active"]})})]})})}),a.jsx(oe,{children:a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-[var(--color-text-muted)]",children:e("dashboard.totalTasks",{defaultValue:"Total Tasks"})}),a.jsx("p",{className:"text-2xl font-semibold text-[var(--color-text-primary)]",children:n.totalTasks}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(mt,{tone:"info",children:[n.completedTasks," completed"]})})]})})}),a.jsx(oe,{children:a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-[var(--color-text-muted)]",children:e("dashboard.pendingTasks",{defaultValue:"Pending Tasks"})}),a.jsx("p",{className:"text-2xl font-semibold text-[var(--color-text-primary)]",children:n.pendingTasks}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(mt,{tone:"warning",children:[n.overdueTasks," overdue"]})})]})})}),a.jsx(oe,{children:a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-[var(--color-text-muted)]",children:e("dashboard.teamMembers",{defaultValue:"Team Members"})}),a.jsx("p",{className:"text-2xl font-semibold text-[var(--color-text-primary)]",children:n.teamMembers}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(mt,{tone:"neutral",children:"Active"})})]})})})]})},Dy=()=>{const{t:e}=St(),{data:t,isLoading:s,error:r}=bu();return s?a.jsxs(oe,{children:[a.jsx(Ie,{children:a.jsx(Ue,{children:e("dashboard.alerts",{defaultValue:"Alerts"})})}),a.jsx(le,{children:a.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((n,i)=>a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-4 bg-[var(--color-surface-muted)] rounded w-3/4 mb-2"}),a.jsx("div",{className:"h-3 bg-[var(--color-surface-muted)] rounded w-1/2"})]},i))})})]}):r?a.jsxs(oe,{children:[a.jsx(Ie,{children:a.jsx(Ue,{children:e("dashboard.alerts",{defaultValue:"Alerts"})})}),a.jsx(le,{children:a.jsx("div",{className:"text-center text-[var(--color-text-muted)]",children:e("dashboard.alertsError",{defaultValue:"Failed to load alerts"})})})]}):!t?.data||t.data.length===0?a.jsxs(oe,{children:[a.jsx(Ie,{children:a.jsx(Ue,{children:e("dashboard.alerts",{defaultValue:"Alerts"})})}),a.jsx(le,{children:a.jsx("div",{className:"text-center text-[var(--color-text-muted)]",children:e("dashboard.noAlerts",{defaultValue:"No alerts at this time"})})})]}):a.jsxs(oe,{children:[a.jsxs(Ie,{children:[a.jsx(Ue,{children:e("dashboard.alerts",{defaultValue:"Alerts"})}),a.jsx(at,{children:e("dashboard.alertsDescription",{defaultValue:"Recent notifications and alerts"})})]}),a.jsx(le,{children:a.jsx("div",{className:"space-y-3",children:t.data.slice(0,5).map(n=>a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-[var(--radius-md)] bg-[var(--color-surface-muted)]",children:[a.jsx("div",{className:`h-2 w-2 rounded-full mt-2 ${n.severity==="critical"?"bg-[var(--color-semantic-danger-500)]":n.severity==="high"?"bg-[var(--color-semantic-warning-500)]":"bg-[var(--color-semantic-info-500)]"}`}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--color-text-primary)] truncate",children:n.title}),a.jsx("p",{className:"text-xs text-[var(--color-text-muted)] truncate",children:n.message}),a.jsx("p",{className:"text-xs text-[var(--color-text-muted)] mt-1",children:new Date(n.createdAt).toLocaleDateString()})]}),a.jsx(mt,{tone:n.severity==="critical"?"danger":n.severity==="high"?"warning":"info",children:n.severity})]},n.id))})})]})},Ey=()=>{const{t:e}=St(),t=ns(),{data:s,isLoading:r,error:n}=vu(),[i,o]=Z.useState(!1),l=be(),c=()=>{l.invalidateQueries({queryKey:Ee.all}),z.success(e("dashboard.refreshSuccess",{defaultValue:"Dashboard refreshed successfully"}))},u=h=>{switch(h){case"newProject":t("/app/projects"),z.success(e("dashboard.navigatingToProjects",{defaultValue:"Navigating to projects..."}));break;case"newTask":z(e("dashboard.newTaskComingSoon",{defaultValue:"New task functionality coming soon"}));break;case"addMember":z(e("dashboard.addMemberComingSoon",{defaultValue:"Add member functionality coming soon"}));break;case"reports":z(e("dashboard.reportsComingSoon",{defaultValue:"Reports functionality coming soon"}));break;default:z(e("dashboard.actionNotImplemented",{defaultValue:"This action is not yet implemented"}))}};if(r)return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-[var(--color-text-primary)]",children:e("dashboard.title",{defaultValue:"Dashboard"})}),a.jsx("p",{className:"text-[var(--color-text-muted)]",children:e("dashboard.description",{defaultValue:"Overview of your projects and tasks"})})]}),a.jsx(se,{variant:"outline",size:"sm",onClick:c,children:e("dashboard.refresh",{defaultValue:"Refresh"})})]}),a.jsx(cy,{})]});if(n){const{collapsed:h}=Yg();return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-[var(--color-text-primary)]",children:e("dashboard.title",{defaultValue:"Dashboard"})}),a.jsx("p",{className:"text-[var(--color-text-muted)]",children:e("dashboard.description",{defaultValue:"Overview of your projects and tasks"})})]})}),a.jsx(oe,{children:a.jsxs(le,{className:Qe("text-center text-[var(--color-text-muted)]",h?"p-4":"p-6"),children:[a.jsx("p",{className:"text-lg font-medium mb-2",children:e("dashboard.errorTitle",{defaultValue:"Failed to load dashboard"})}),a.jsx("p",{className:"text-sm mb-4",children:e("dashboard.errorDescription",{defaultValue:"Please try refreshing the page"})}),a.jsx(se,{variant:"outline",size:"sm",children:e("dashboard.retry",{defaultValue:"Retry"})})]})})]})}const d=s?.data?.widgets||[];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-[var(--color-text-primary)]",children:e("dashboard.title",{defaultValue:"Dashboard"})}),a.jsx("p",{className:"text-[var(--color-text-muted)]",children:e("dashboard.description",{defaultValue:"Overview of your projects and tasks"})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(se,{variant:i?"primary":"outline",size:"sm",onClick:()=>o(!i),children:i?e("dashboard.done",{defaultValue:"Done"}):e("dashboard.customize",{defaultValue:"Customize"})}),a.jsx(se,{variant:"outline",size:"sm",onClick:c,children:e("dashboard.refresh",{defaultValue:"Refresh"})})]})]}),a.jsx(x.Suspense,{fallback:a.jsx(xu,{}),children:a.jsx(Ay,{})}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[a.jsx(x.Suspense,{fallback:a.jsx("div",{className:"h-64 bg-[var(--color-surface-muted)] rounded-[var(--radius-lg)] animate-pulse"}),children:a.jsx(Dy,{})}),a.jsxs(oe,{children:[a.jsxs(Ie,{children:[a.jsx(Ue,{children:e("dashboard.quickActions",{defaultValue:"Quick Actions"})}),a.jsx(at,{children:e("dashboard.quickActionsDescription",{defaultValue:"Common tasks and shortcuts"})})]}),a.jsx(le,{children:a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs(se,{variant:"outline",className:"h-20 flex-col gap-2",onClick:()=>u("newProject"),children:[a.jsx("span",{className:"text-lg",children:"📊"}),a.jsx("span",{className:"text-sm",children:e("dashboard.newProject",{defaultValue:"New Project"})})]}),a.jsxs(se,{variant:"outline",className:"h-20 flex-col gap-2",onClick:()=>u("newTask"),children:[a.jsx("span",{className:"text-lg",children:"✅"}),a.jsx("span",{className:"text-sm",children:e("dashboard.newTask",{defaultValue:"New Task"})})]}),a.jsxs(se,{variant:"outline",className:"h-20 flex-col gap-2",onClick:()=>u("addMember"),children:[a.jsx("span",{className:"text-lg",children:"👥"}),a.jsx("span",{className:"text-sm",children:e("dashboard.addMember",{defaultValue:"Add Member"})})]}),a.jsxs(se,{variant:"outline",className:"h-20 flex-col gap-2",onClick:()=>u("reports"),children:[a.jsx("span",{className:"text-lg",children:"📈"}),a.jsx("span",{className:"text-sm",children:e("dashboard.reports",{defaultValue:"Reports"})})]})]})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold text-[var(--color-text-primary)]",children:e("dashboard.widgets",{defaultValue:"Widgets"})}),i&&a.jsx(mt,{tone:"info",children:e("dashboard.editMode",{defaultValue:"Edit Mode"})})]}),a.jsx(_y,{widgets:d,editable:i})]})]})},Ry=()=>{const{t:e}=St(),[t,s]=Sd(),[r,n]=x.useState("all"),[i,o]=x.useState(new Set),l=be(),{data:c,isLoading:u,error:d}=bu(),h=yy(),f=xy();x.useEffect(()=>{const T=t.get("filter");T&&["all","unread","read","critical","high","medium","low"].includes(T)&&n(T)},[t]);const y=T=>{n(T),s({filter:T})},m=()=>{l.invalidateQueries({queryKey:Ee.alerts()}),z.success(e("alerts.refreshSuccess",{defaultValue:"Alerts refreshed successfully"}))},p=x.useMemo(()=>c?.data?c.data.filter(T=>{switch(r){case"unread":return T.status==="unread";case"read":return T.status==="read";case"critical":return T.severity==="critical";case"high":return T.severity==="high";case"medium":return T.severity==="medium";case"low":return T.severity==="low";default:return!0}}):[],[c?.data,r]),g=async T=>{try{await h.mutateAsync(T),z.success(e("alerts.markReadSuccess",{defaultValue:"Alert marked as read"}))}catch{z.error(e("alerts.markReadError",{defaultValue:"Failed to mark alert as read"}))}},v=async()=>{try{await f.mutateAsync(),z.success(e("alerts.markAllReadSuccess",{defaultValue:"All alerts marked as read"}))}catch{z.error(e("alerts.markAllReadError",{defaultValue:"Failed to mark all alerts as read"}))}},b=T=>{const q=new Set(i);q.has(T)?q.delete(T):q.add(T),o(q)},j=()=>{i.size===p.length?o(new Set):o(new Set(p.map(T=>T.id)))},P=async()=>{try{const T=Array.from(i).map(q=>h.mutateAsync(q));await Promise.all(T),o(new Set),z.success(e("alerts.bulkMarkReadSuccess",{defaultValue:"Selected alerts marked as read"}))}catch{z.error(e("alerts.bulkMarkReadError",{defaultValue:"Failed to mark selected alerts as read"}))}},_=T=>{switch(T){case"critical":return"danger";case"high":return"warning";case"medium":return"info";case"low":return"neutral";default:return"neutral"}},M=T=>{switch(T){case"critical":return"🚨";case"high":return"⚠️";case"medium":return"ℹ️";case"low":return"📝";default:return"📄"}};if(u)return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-[var(--color-text-primary)]",children:e("alerts.title",{defaultValue:"Alerts Center"})}),a.jsx("p",{className:"text-[var(--color-text-muted)]",children:e("alerts.description",{defaultValue:"Manage and monitor system alerts"})})]})}),a.jsx(dy,{})]});if(d)return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-[var(--color-text-primary)]",children:e("alerts.title",{defaultValue:"Alerts Center"})}),a.jsx("p",{className:"text-[var(--color-text-muted)]",children:e("alerts.description",{defaultValue:"Manage and monitor system alerts"})})]})}),a.jsx(oe,{children:a.jsx(le,{className:"p-6",children:a.jsxs("div",{className:"text-center text-[var(--color-text-muted)]",children:[a.jsx("p",{className:"text-lg font-medium mb-2",children:e("alerts.errorTitle",{defaultValue:"Failed to load alerts"})}),a.jsx("p",{className:"text-sm mb-4",children:e("alerts.errorDescription",{defaultValue:"Please try refreshing the page"})}),a.jsx(se,{variant:"outline",size:"sm",children:e("alerts.retry",{defaultValue:"Retry"})})]})})})]});const F=c?.data||[];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-[var(--color-text-primary)]",children:e("alerts.title",{defaultValue:"Alerts Center"})}),a.jsx("p",{className:"text-[var(--color-text-muted)]",children:e("alerts.description",{defaultValue:"Manage and monitor system alerts"})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(se,{variant:"outline",size:"sm",onClick:v,disabled:f.isPending||F.length===0,children:e("alerts.markAllRead",{defaultValue:"Mark All Read"})}),a.jsx(se,{variant:"outline",size:"sm",onClick:m,children:e("alerts.refresh",{defaultValue:"Refresh"})})]})]}),a.jsxs(oe,{children:[a.jsx(Ie,{children:a.jsx(Ue,{className:"text-lg",children:e("alerts.filters",{defaultValue:"Filters"})})}),a.jsx(le,{children:a.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"all",label:e("alerts.filterAll",{defaultValue:"All"})},{key:"unread",label:e("alerts.filterUnread",{defaultValue:"Unread"})},{key:"read",label:e("alerts.filterRead",{defaultValue:"Read"})},{key:"critical",label:e("alerts.filterCritical",{defaultValue:"Critical"})},{key:"high",label:e("alerts.filterHigh",{defaultValue:"High"})},{key:"medium",label:e("alerts.filterMedium",{defaultValue:"Medium"})},{key:"low",label:e("alerts.filterLow",{defaultValue:"Low"})}].map(({key:T,label:q})=>a.jsx(se,{variant:r===T?"primary":"outline",size:"sm",onClick:()=>y(T),children:q},T))})})]}),i.size>0&&a.jsx(oe,{children:a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-[var(--color-text-muted)]",children:[e("alerts.selectedCount",{defaultValue:"Selected"}),": ",i.size]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(se,{variant:"outline",size:"sm",onClick:P,disabled:h.isPending,children:e("alerts.bulkMarkRead",{defaultValue:"Mark as Read"})}),a.jsx(se,{variant:"outline",size:"sm",onClick:()=>o(new Set),children:e("alerts.clearSelection",{defaultValue:"Clear Selection"})})]})]})})}),a.jsx("div",{className:"space-y-4",children:p.length===0?a.jsx(oe,{children:a.jsx(le,{className:"p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl mb-4",children:"📭"}),a.jsx("h3",{className:"text-lg font-semibold text-[var(--color-text-primary)] mb-2",children:e("alerts.noAlerts",{defaultValue:"No alerts found"})}),a.jsx("p",{className:"text-[var(--color-text-muted)]",children:r==="all"?e("alerts.noAlertsDescription",{defaultValue:"No alerts at this time"}):e("alerts.noFilteredAlerts",{defaultValue:"No alerts match the current filter"})})]})})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:i.size===p.length&&p.length>0,onChange:j,className:"rounded border-[var(--color-border-default)]"}),a.jsx("span",{className:"text-sm text-[var(--color-text-muted)]",children:e("alerts.selectAll",{defaultValue:"Select all"})})]}),p.map(T=>a.jsx(oe,{className:`transition-all duration-200 ${T.status==="unread"?"border-l-4 border-l-[var(--color-semantic-primary-500)]":""}`,children:a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("input",{type:"checkbox",checked:i.has(T.id),onChange:()=>b(T.id),className:"mt-1 rounded border-[var(--color-border-default)]"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:M(T.severity)}),a.jsx("h3",{className:"text-sm font-semibold text-[var(--color-text-primary)] truncate",children:T.title}),a.jsx(mt,{tone:_(T.severity),children:T.severity})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[T.status==="unread"&&a.jsx(mt,{tone:"primary",className:"text-xs",children:e("alerts.unread",{defaultValue:"Unread"})}),a.jsx("span",{className:"text-xs text-[var(--color-text-muted)]",children:new Date(T.createdAt).toLocaleDateString()})]})]}),a.jsx("p",{className:"text-sm text-[var(--color-text-secondary)] mt-2",children:T.message}),a.jsxs("div",{className:"flex items-center justify-between mt-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-[var(--color-text-muted)]",children:[a.jsxs("span",{children:[e("alerts.source",{defaultValue:"Source"}),": ",T.source]}),a.jsx("span",{children:"•"}),a.jsxs("span",{children:[e("alerts.type",{defaultValue:"Type"}),": ",T.type]})]}),a.jsx("div",{className:"flex items-center gap-2",children:T.status==="unread"&&a.jsx(se,{variant:"outline",size:"sm",onClick:()=>g(T.id),disabled:h.isPending,children:e("alerts.markRead",{defaultValue:"Mark as Read"})})})]})]})]})})},T.id))]})})]})};var Ir=e=>e.type==="checkbox",us=e=>e instanceof Date,Xe=e=>e==null;const wu=e=>typeof e=="object";var Me=e=>!Xe(e)&&!Array.isArray(e)&&wu(e)&&!us(e),ju=e=>Me(e)&&e.target?Ir(e.target)?e.target.checked:e.target.value:e,My=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Nu=(e,t)=>e.has(My(t)),Oy=e=>{const t=e.constructor&&e.constructor.prototype;return Me(t)&&t.hasOwnProperty("isPrototypeOf")},Fi=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Oe(e){let t;const s=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Fi&&(e instanceof Blob||r))&&(s||Me(e)))if(t=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!Oy(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=Oe(e[n]));else return e;return t}var Hn=e=>/^\w*$/.test(e),Te=e=>e===void 0,Li=e=>Array.isArray(e)?e.filter(Boolean):[],Ii=e=>Li(e.replace(/["|']|\]/g,"").split(/\.|\[/)),O=(e,t,s)=>{if(!t||!Me(e))return s;const r=(Hn(t)?[t]:Ii(t)).reduce((n,i)=>Xe(n)?n:n[i],e);return Te(r)||r===e?Te(e[t])?s:e[t]:r},nt=e=>typeof e=="boolean",fe=(e,t,s)=>{let r=-1;const n=Hn(t)?[t]:Ii(t),i=n.length,o=i-1;for(;++r<i;){const l=n[r];let c=s;if(r!==o){const u=e[l];c=Me(u)||Array.isArray(u)?u:isNaN(+n[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const wn={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},bt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Lt={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Tu=Z.createContext(null);Tu.displayName="HookFormContext";const Ui=()=>Z.useContext(Tu);var Su=(e,t,s,r=!0)=>{const n={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(n,i,{get:()=>{const o=i;return t._proxyFormState[o]!==bt.all&&(t._proxyFormState[o]=!r||bt.all),s&&(s[o]=!0),e[o]}});return n};const Bi=typeof window<"u"?Z.useLayoutEffect:Z.useEffect;function Vy(e){const t=Ui(),{control:s=t.control,disabled:r,name:n,exact:i}=e||{},[o,l]=Z.useState(s._formState),c=Z.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Bi(()=>s._subscribe({name:n,formState:c.current,exact:i,callback:u=>{!r&&l({...s._formState,...u})}}),[n,r,i]),Z.useEffect(()=>{c.current.isValid&&s._setValid(!0)},[s]),Z.useMemo(()=>Su(o,s,c.current,!1),[o,s])}var it=e=>typeof e=="string",ku=(e,t,s,r,n)=>it(e)?(r&&t.watch.add(e),O(s,e,n)):Array.isArray(e)?e.map(i=>(r&&t.watch.add(i),O(s,i))):(r&&(t.watchAll=!0),s),Za=e=>Xe(e)||!wu(e);function It(e,t,s=new WeakSet){if(Za(e)||Za(t))return e===t;if(us(e)&&us(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;if(s.has(e)||s.has(t))return!0;s.add(e),s.add(t);for(const i of r){const o=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const l=t[i];if(us(o)&&us(l)||Me(o)&&Me(l)||Array.isArray(o)&&Array.isArray(l)?!It(o,l,s):o!==l)return!1}}return!0}function Fy(e){const t=Ui(),{control:s=t.control,name:r,defaultValue:n,disabled:i,exact:o,compute:l}=e||{},c=Z.useRef(n),u=Z.useRef(l),d=Z.useRef(void 0);u.current=l;const h=Z.useMemo(()=>s._getWatch(r,c.current),[s,r]),[f,y]=Z.useState(u.current?u.current(h):h);return Bi(()=>s._subscribe({name:r,formState:{values:!0},exact:o,callback:m=>{if(!i){const p=ku(r,s._names,m.values||s._formValues,!1,c.current);if(u.current){const g=u.current(p);It(g,d.current)||(y(g),d.current=g)}else y(p)}}}),[s,i,r,o]),Z.useEffect(()=>s._removeUnmounted()),f}function Ly(e){const t=Ui(),{name:s,disabled:r,control:n=t.control,shouldUnregister:i,defaultValue:o}=e,l=Nu(n._names.array,s),c=Z.useMemo(()=>O(n._formValues,s,O(n._defaultValues,s,o)),[n,s,o]),u=Fy({control:n,name:s,defaultValue:c,exact:!0}),d=Vy({control:n,name:s,exact:!0}),h=Z.useRef(e),f=Z.useRef(void 0),y=Z.useRef(n.register(s,{...e.rules,value:u,...nt(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const m=Z.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!O(d.errors,s)},isDirty:{enumerable:!0,get:()=>!!O(d.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!O(d.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!O(d.validatingFields,s)},error:{enumerable:!0,get:()=>O(d.errors,s)}}),[d,s]),p=Z.useCallback(j=>y.current.onChange({target:{value:ju(j),name:s},type:wn.CHANGE}),[s]),g=Z.useCallback(()=>y.current.onBlur({target:{value:O(n._formValues,s),name:s},type:wn.BLUR}),[s,n._formValues]),v=Z.useCallback(j=>{const P=O(n._fields,s);P&&j&&(P._f.ref={focus:()=>j.focus&&j.focus(),select:()=>j.select&&j.select(),setCustomValidity:_=>j.setCustomValidity(_),reportValidity:()=>j.reportValidity()})},[n._fields,s]),b=Z.useMemo(()=>({name:s,value:u,...nt(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:p,onBlur:g,ref:v}),[s,r,d.disabled,p,g,v,u]);return Z.useEffect(()=>{const j=n._options.shouldUnregister||i,P=f.current;P&&P!==s&&!l&&n.unregister(P),n.register(s,{...h.current.rules,...nt(h.current.disabled)?{disabled:h.current.disabled}:{}});const _=(M,F)=>{const T=O(n._fields,M);T&&T._f&&(T._f.mount=F)};if(_(s,!0),j){const M=Oe(O(n._options.defaultValues,s,h.current.defaultValue));fe(n._defaultValues,s,M),Te(O(n._formValues,s))&&fe(n._formValues,s,M)}return!l&&n.register(s),f.current=s,()=>{(l?j&&!n._state.action:j)?n.unregister(s):_(s,!1)}},[s,n,l,i]),Z.useEffect(()=>{n._setDisabledField({disabled:r,name:s})},[r,s,n]),Z.useMemo(()=>({field:b,formState:d,fieldState:m}),[b,d,m])}const _t=e=>e.render(Ly(e));var Cu=(e,t,s,r,n)=>t?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[r]:n||!0}}:{},fr=e=>Array.isArray(e)?e:[e],vl=()=>{let e=[];return{get observers(){return e},next:n=>{for(const i of e)i.next&&i.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(i=>i!==n)}}),unsubscribe:()=>{e=[]}}};function _u(e,t){const s={};for(const r in e)if(e.hasOwnProperty(r)){const n=e[r],i=t[r];if(n&&Me(n)&&i){const o=_u(n,i);Me(o)&&(s[r]=o)}else e[r]&&(s[r]=i)}return s}var Ge=e=>Me(e)&&!Object.keys(e).length,$i=e=>e.type==="file",wt=e=>typeof e=="function",jn=e=>{if(!Fi)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Pu=e=>e.type==="select-multiple",Wi=e=>e.type==="radio",Iy=e=>Wi(e)||Ir(e),pa=e=>jn(e)&&e.isConnected;function Uy(e,t){const s=t.slice(0,-1).length;let r=0;for(;r<s;)e=Te(e)?r++:e[t[r++]];return e}function By(e){for(const t in e)if(e.hasOwnProperty(t)&&!Te(e[t]))return!1;return!0}function _e(e,t){const s=Array.isArray(t)?t:Hn(t)?[t]:Ii(t),r=s.length===1?e:Uy(e,s),n=s.length-1,i=s[n];return r&&delete r[i],n!==0&&(Me(r)&&Ge(r)||Array.isArray(r)&&By(r))&&_e(e,s.slice(0,-1)),e}var $y=e=>{for(const t in e)if(wt(e[t]))return!0;return!1};function Au(e){return Array.isArray(e)||Me(e)&&!$y(e)}function Ya(e,t={}){for(const s in e)Au(e[s])?(t[s]=Array.isArray(e[s])?[]:{},Ya(e[s],t[s])):Te(e[s])||(t[s]=!0);return t}function ks(e,t,s){s||(s=Ya(t));for(const r in e)Au(e[r])?Te(t)||Za(s[r])?s[r]=Ya(e[r],Array.isArray(e[r])?[]:{}):ks(e[r],Xe(t)?{}:t[r],s[r]):s[r]=!It(e[r],t[r]);return s}const bl={value:!1,isValid:!1},wl={value:!0,isValid:!0};var Du=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Te(e[0].attributes.value)?Te(e[0].value)||e[0].value===""?wl:{value:e[0].value,isValid:!0}:wl:bl}return bl},Eu=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:r})=>Te(e)?e:t?e===""?NaN:e&&+e:s&&it(e)?new Date(e):r?r(e):e;const jl={isValid:!1,value:null};var Ru=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,jl):jl;function Nl(e){const t=e.ref;return $i(t)?t.files:Wi(t)?Ru(e.refs).value:Pu(t)?[...t.selectedOptions].map(({value:s})=>s):Ir(t)?Du(e.refs).value:Eu(Te(t.value)?e.ref.value:t.value,e)}var Wy=(e,t,s,r)=>{const n={};for(const i of e){const o=O(t,i);o&&fe(n,i,o._f)}return{criteriaMode:s,names:[...e],fields:n,shouldUseNativeValidation:r}},Nn=e=>e instanceof RegExp,ir=e=>Te(e)?e:Nn(e)?e.source:Me(e)?Nn(e.value)?e.value.source:e.value:e,Tl=e=>({isOnSubmit:!e||e===bt.onSubmit,isOnBlur:e===bt.onBlur,isOnChange:e===bt.onChange,isOnAll:e===bt.all,isOnTouch:e===bt.onTouched});const Sl="AsyncFunction";var qy=e=>!!e&&!!e.validate&&!!(wt(e.validate)&&e.validate.constructor.name===Sl||Me(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Sl)),zy=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),kl=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const mr=(e,t,s,r)=>{for(const n of s||Object.keys(e)){const i=O(e,n);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],n)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(mr(l,t))break}else if(Me(l)&&mr(l,t))break}}};function Cl(e,t,s){const r=O(e,s);if(r||Hn(s))return{error:r,name:s};const n=s.split(".");for(;n.length;){const i=n.join("."),o=O(t,i),l=O(e,i);if(o&&!Array.isArray(o)&&s!==i)return{name:s};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};n.pop()}return{name:s}}var Hy=(e,t,s,r)=>{s(e);const{name:n,...i}=e;return Ge(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!r||bt.all))},Ky=(e,t,s)=>!e||!t||e===t||fr(e).some(r=>r&&(s?r===t:r.startsWith(t)||t.startsWith(r))),Qy=(e,t,s,r,n)=>n.isOnAll?!1:!s&&n.isOnTouch?!(t||e):(s?r.isOnBlur:n.isOnBlur)?!e:(s?r.isOnChange:n.isOnChange)?e:!0,Zy=(e,t)=>!Li(O(e,t)).length&&_e(e,t),Yy=(e,t,s)=>{const r=fr(O(e,s));return fe(r,"root",t[s]),fe(e,s,r),e};function _l(e,t,s="validate"){if(it(e)||Array.isArray(e)&&e.every(it)||nt(e)&&!e)return{type:s,message:it(e)?e:"",ref:t}}var Ts=e=>Me(e)&&!Nn(e)?e:{value:e,message:""},Pl=async(e,t,s,r,n,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:h,max:f,pattern:y,validate:m,name:p,valueAsNumber:g,mount:v}=e._f,b=O(s,p);if(!v||t.has(p))return{};const j=l?l[0]:o,P=X=>{n&&j.reportValidity&&(j.setCustomValidity(nt(X)?"":X||""),j.reportValidity())},_={},M=Wi(o),F=Ir(o),T=M||F,q=(g||$i(o))&&Te(o.value)&&Te(b)||jn(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,te=Cu.bind(null,p,r,_),ue=(X,re,ie,k=Lt.maxLength,A=Lt.minLength)=>{const K=X?re:ie;_[p]={type:X?k:A,message:K,ref:o,...te(X?k:A,K)}};if(i?!Array.isArray(b)||!b.length:c&&(!T&&(q||Xe(b))||nt(b)&&!b||F&&!Du(l).isValid||M&&!Ru(l).isValid)){const{value:X,message:re}=it(c)?{value:!!c,message:c}:Ts(c);if(X&&(_[p]={type:Lt.required,message:re,ref:j,...te(Lt.required,re)},!r))return P(re),_}if(!q&&(!Xe(h)||!Xe(f))){let X,re;const ie=Ts(f),k=Ts(h);if(!Xe(b)&&!isNaN(b)){const A=o.valueAsNumber||b&&+b;Xe(ie.value)||(X=A>ie.value),Xe(k.value)||(re=A<k.value)}else{const A=o.valueAsDate||new Date(b),K=rt=>new Date(new Date().toDateString()+" "+rt),pe=o.type=="time",je=o.type=="week";it(ie.value)&&b&&(X=pe?K(b)>K(ie.value):je?b>ie.value:A>new Date(ie.value)),it(k.value)&&b&&(re=pe?K(b)<K(k.value):je?b<k.value:A<new Date(k.value))}if((X||re)&&(ue(!!X,ie.message,k.message,Lt.max,Lt.min),!r))return P(_[p].message),_}if((u||d)&&!q&&(it(b)||i&&Array.isArray(b))){const X=Ts(u),re=Ts(d),ie=!Xe(X.value)&&b.length>+X.value,k=!Xe(re.value)&&b.length<+re.value;if((ie||k)&&(ue(ie,X.message,re.message),!r))return P(_[p].message),_}if(y&&!q&&it(b)){const{value:X,message:re}=Ts(y);if(Nn(X)&&!b.match(X)&&(_[p]={type:Lt.pattern,message:re,ref:o,...te(Lt.pattern,re)},!r))return P(re),_}if(m){if(wt(m)){const X=await m(b,s),re=_l(X,j);if(re&&(_[p]={...re,...te(Lt.validate,re.message)},!r))return P(re.message),_}else if(Me(m)){let X={};for(const re in m){if(!Ge(X)&&!r)break;const ie=_l(await m[re](b,s),j,re);ie&&(X={...ie,...te(re,ie.message)},P(ie.message),r&&(_[p]=X))}if(!Ge(X)&&(_[p]={ref:j,...X},!r))return _}}return P(!0),_};const Gy={mode:bt.onSubmit,reValidateMode:bt.onChange,shouldFocusError:!0};function Xy(e={}){let t={...Gy,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:wt(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},n=Me(t.defaultValues)||Me(t.values)?Oe(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Oe(n),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const f={array:vl(),state:vl()},y=t.criteriaMode===bt.all,m=w=>N=>{clearTimeout(u),u=setTimeout(w,N)},p=async w=>{if(!t.disabled&&(d.isValid||h.isValid||w)){const N=t.resolver?Ge((await F()).errors):await q(r,!0);N!==s.isValid&&f.state.next({isValid:N})}},g=(w,N)=>{!t.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((w||Array.from(l.mount)).forEach(C=>{C&&(N?fe(s.validatingFields,C,N):_e(s.validatingFields,C))}),f.state.next({validatingFields:s.validatingFields,isValidating:!Ge(s.validatingFields)}))},v=(w,N=[],C,U,R=!0,E=!0)=>{if(U&&C&&!t.disabled){if(o.action=!0,E&&Array.isArray(O(r,w))){const H=C(O(r,w),U.argA,U.argB);R&&fe(r,w,H)}if(E&&Array.isArray(O(s.errors,w))){const H=C(O(s.errors,w),U.argA,U.argB);R&&fe(s.errors,w,H),Zy(s.errors,w)}if((d.touchedFields||h.touchedFields)&&E&&Array.isArray(O(s.touchedFields,w))){const H=C(O(s.touchedFields,w),U.argA,U.argB);R&&fe(s.touchedFields,w,H)}(d.dirtyFields||h.dirtyFields)&&(s.dirtyFields=ks(n,i)),f.state.next({name:w,isDirty:ue(w,N),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else fe(i,w,N)},b=(w,N)=>{fe(s.errors,w,N),f.state.next({errors:s.errors})},j=w=>{s.errors=w,f.state.next({errors:s.errors,isValid:!1})},P=(w,N,C,U)=>{const R=O(r,w);if(R){const E=O(i,w,Te(C)?O(n,w):C);Te(E)||U&&U.defaultChecked||N?fe(i,w,N?E:Nl(R._f)):ie(w,E),o.mount&&p()}},_=(w,N,C,U,R)=>{let E=!1,H=!1;const he={name:w};if(!t.disabled){if(!C||U){(d.isDirty||h.isDirty)&&(H=s.isDirty,s.isDirty=he.isDirty=ue(),E=H!==he.isDirty);const ge=It(O(n,w),N);H=!!O(s.dirtyFields,w),ge?_e(s.dirtyFields,w):fe(s.dirtyFields,w,!0),he.dirtyFields=s.dirtyFields,E=E||(d.dirtyFields||h.dirtyFields)&&H!==!ge}if(C){const ge=O(s.touchedFields,w);ge||(fe(s.touchedFields,w,C),he.touchedFields=s.touchedFields,E=E||(d.touchedFields||h.touchedFields)&&ge!==C)}E&&R&&f.state.next(he)}return E?he:{}},M=(w,N,C,U)=>{const R=O(s.errors,w),E=(d.isValid||h.isValid)&&nt(N)&&s.isValid!==N;if(t.delayError&&C?(c=m(()=>b(w,C)),c(t.delayError)):(clearTimeout(u),c=null,C?fe(s.errors,w,C):_e(s.errors,w)),(C?!It(R,C):R)||!Ge(U)||E){const H={...U,...E&&nt(N)?{isValid:N}:{},errors:s.errors,name:w};s={...s,...H},f.state.next(H)}},F=async w=>{g(w,!0);const N=await t.resolver(i,t.context,Wy(w||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return g(w),N},T=async w=>{const{errors:N}=await F(w);if(w)for(const C of w){const U=O(N,C);U?fe(s.errors,C,U):_e(s.errors,C)}else s.errors=N;return N},q=async(w,N,C={valid:!0})=>{for(const U in w){const R=w[U];if(R){const{_f:E,...H}=R;if(E){const he=l.array.has(E.name),ge=R._f&&qy(R._f);ge&&d.validatingFields&&g([E.name],!0);const lt=await Pl(R,l.disabled,i,y,t.shouldUseNativeValidation&&!N,he);if(ge&&d.validatingFields&&g([E.name]),lt[E.name]&&(C.valid=!1,N))break;!N&&(O(lt,E.name)?he?Yy(s.errors,lt,E.name):fe(s.errors,E.name,lt[E.name]):_e(s.errors,E.name))}!Ge(H)&&await q(H,N,C)}}return C.valid},te=()=>{for(const w of l.unMount){const N=O(r,w);N&&(N._f.refs?N._f.refs.every(C=>!pa(C)):!pa(N._f.ref))&&ea(w)}l.unMount=new Set},ue=(w,N)=>!t.disabled&&(w&&N&&fe(i,w,N),!It(rt(),n)),X=(w,N,C)=>ku(w,l,{...o.mount?i:Te(N)?n:it(w)?{[w]:N}:N},C,N),re=w=>Li(O(o.mount?i:n,w,t.shouldUnregister?O(n,w,[]):[])),ie=(w,N,C={})=>{const U=O(r,w);let R=N;if(U){const E=U._f;E&&(!E.disabled&&fe(i,w,Eu(N,E)),R=jn(E.ref)&&Xe(N)?"":N,Pu(E.ref)?[...E.ref.options].forEach(H=>H.selected=R.includes(H.value)):E.refs?Ir(E.ref)?E.refs.forEach(H=>{(!H.defaultChecked||!H.disabled)&&(Array.isArray(R)?H.checked=!!R.find(he=>he===H.value):H.checked=R===H.value||!!R)}):E.refs.forEach(H=>H.checked=H.value===R):$i(E.ref)?E.ref.value="":(E.ref.value=R,E.ref.type||f.state.next({name:w,values:Oe(i)})))}(C.shouldDirty||C.shouldTouch)&&_(w,R,C.shouldTouch,C.shouldDirty,!0),C.shouldValidate&&je(w)},k=(w,N,C)=>{for(const U in N){if(!N.hasOwnProperty(U))return;const R=N[U],E=w+"."+U,H=O(r,E);(l.array.has(w)||Me(R)||H&&!H._f)&&!us(R)?k(E,R,C):ie(E,R,C)}},A=(w,N,C={})=>{const U=O(r,w),R=l.array.has(w),E=Oe(N);fe(i,w,E),R?(f.array.next({name:w,values:Oe(i)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&C.shouldDirty&&f.state.next({name:w,dirtyFields:ks(n,i),isDirty:ue(w,E)})):U&&!U._f&&!Xe(E)?k(w,E,C):ie(w,E,C),kl(w,l)&&f.state.next({...s,name:w}),f.state.next({name:o.mount?w:void 0,values:Oe(i)})},K=async w=>{o.mount=!0;const N=w.target;let C=N.name,U=!0;const R=O(r,C),E=ge=>{U=Number.isNaN(ge)||us(ge)&&isNaN(ge.getTime())||It(ge,O(i,C,ge))},H=Tl(t.mode),he=Tl(t.reValidateMode);if(R){let ge,lt;const zr=N.type?Nl(R._f):ju(w),qt=w.type===wn.BLUR||w.type===wn.FOCUS_OUT,Uf=!zy(R._f)&&!t.resolver&&!O(s.errors,C)&&!R._f.deps||Qy(qt,O(s.touchedFields,C),s.isSubmitted,he,H),ra=kl(C,l,qt);fe(i,C,zr),qt?(!N||!N.readOnly)&&(R._f.onBlur&&R._f.onBlur(w),c&&c(0)):R._f.onChange&&R._f.onChange(w);const na=_(C,zr,qt),Bf=!Ge(na)||ra;if(!qt&&f.state.next({name:C,type:w.type,values:Oe(i)}),Uf)return(d.isValid||h.isValid)&&(t.mode==="onBlur"?qt&&p():qt||p()),Bf&&f.state.next({name:C,...ra?{}:na});if(!qt&&ra&&f.state.next({...s}),t.resolver){const{errors:Mo}=await F([C]);if(E(zr),U){const $f=Cl(s.errors,r,C),Oo=Cl(Mo,r,$f.name||C);ge=Oo.error,C=Oo.name,lt=Ge(Mo)}}else g([C],!0),ge=(await Pl(R,l.disabled,i,y,t.shouldUseNativeValidation))[C],g([C]),E(zr),U&&(ge?lt=!1:(d.isValid||h.isValid)&&(lt=await q(r,!0)));U&&(R._f.deps&&(!Array.isArray(R._f.deps)||R._f.deps.length>0)&&je(R._f.deps),M(C,lt,ge,na))}},pe=(w,N)=>{if(O(s.errors,N)&&w.focus)return w.focus(),1},je=async(w,N={})=>{let C,U;const R=fr(w);if(t.resolver){const E=await T(Te(w)?w:R);C=Ge(E),U=w?!R.some(H=>O(E,H)):C}else w?(U=(await Promise.all(R.map(async E=>{const H=O(r,E);return await q(H&&H._f?{[E]:H}:H)}))).every(Boolean),!(!U&&!s.isValid)&&p()):U=C=await q(r);return f.state.next({...!it(w)||(d.isValid||h.isValid)&&C!==s.isValid?{}:{name:w},...t.resolver||!w?{isValid:C}:{},errors:s.errors}),N.shouldFocus&&!U&&mr(r,pe,w?R:l.mount),U},rt=(w,N)=>{let C={...o.mount?i:n};return N&&(C=_u(N.dirtyFields?s.dirtyFields:s.touchedFields,C)),Te(w)?C:it(w)?O(C,w):w.map(U=>O(C,U))},L=(w,N)=>({invalid:!!O((N||s).errors,w),isDirty:!!O((N||s).dirtyFields,w),error:O((N||s).errors,w),isValidating:!!O(s.validatingFields,w),isTouched:!!O((N||s).touchedFields,w)}),Fe=w=>{w&&fr(w).forEach(N=>_e(s.errors,N)),f.state.next({errors:w?s.errors:{}})},Ft=(w,N,C)=>{const U=(O(r,w,{_f:{}})._f||{}).ref,R=O(s.errors,w)||{},{ref:E,message:H,type:he,...ge}=R;fe(s.errors,w,{...ge,...N,ref:U}),f.state.next({name:w,errors:s.errors,isValid:!1}),C&&C.shouldFocus&&U&&U.focus&&U.focus()},is=(w,N)=>wt(w)?f.state.subscribe({next:C=>"values"in C&&w(X(void 0,N),C)}):X(w,N,!0),_o=w=>f.state.subscribe({next:N=>{Ky(w.name,N.name,w.exact)&&Hy(N,w.formState||d,If,w.reRenderRoot)&&w.callback({values:{...i},...s,...N,defaultValues:n})}}).unsubscribe,Of=w=>(o.mount=!0,h={...h,...w.formState},_o({...w,formState:h})),ea=(w,N={})=>{for(const C of w?fr(w):l.mount)l.mount.delete(C),l.array.delete(C),N.keepValue||(_e(r,C),_e(i,C)),!N.keepError&&_e(s.errors,C),!N.keepDirty&&_e(s.dirtyFields,C),!N.keepTouched&&_e(s.touchedFields,C),!N.keepIsValidating&&_e(s.validatingFields,C),!t.shouldUnregister&&!N.keepDefaultValue&&_e(n,C);f.state.next({values:Oe(i)}),f.state.next({...s,...N.keepDirty?{isDirty:ue()}:{}}),!N.keepIsValid&&p()},Po=({disabled:w,name:N})=>{(nt(w)&&o.mount||w||l.disabled.has(N))&&(w?l.disabled.add(N):l.disabled.delete(N))},ta=(w,N={})=>{let C=O(r,w);const U=nt(N.disabled)||nt(t.disabled);return fe(r,w,{...C||{},_f:{...C&&C._f?C._f:{ref:{name:w}},name:w,mount:!0,...N}}),l.mount.add(w),C?Po({disabled:nt(N.disabled)?N.disabled:t.disabled,name:w}):P(w,!0,N.value),{...U?{disabled:N.disabled||t.disabled}:{},...t.progressive?{required:!!N.required,min:ir(N.min),max:ir(N.max),minLength:ir(N.minLength),maxLength:ir(N.maxLength),pattern:ir(N.pattern)}:{},name:w,onChange:K,onBlur:K,ref:R=>{if(R){ta(w,N),C=O(r,w);const E=Te(R.value)&&R.querySelectorAll&&R.querySelectorAll("input,select,textarea")[0]||R,H=Iy(E),he=C._f.refs||[];if(H?he.find(ge=>ge===E):E===C._f.ref)return;fe(r,w,{_f:{...C._f,...H?{refs:[...he.filter(pa),E,...Array.isArray(O(n,w))?[{}]:[]],ref:{type:E.type,name:w}}:{ref:E}}}),P(w,!1,void 0,E)}else C=O(r,w,{}),C._f&&(C._f.mount=!1),(t.shouldUnregister||N.shouldUnregister)&&!(Nu(l.array,w)&&o.action)&&l.unMount.add(w)}}},sa=()=>t.shouldFocusError&&mr(r,pe,l.mount),Vf=w=>{nt(w)&&(f.state.next({disabled:w}),mr(r,(N,C)=>{const U=O(r,C);U&&(N.disabled=U._f.disabled||w,Array.isArray(U._f.refs)&&U._f.refs.forEach(R=>{R.disabled=U._f.disabled||w}))},0,!1))},Ao=(w,N)=>async C=>{let U;C&&(C.preventDefault&&C.preventDefault(),C.persist&&C.persist());let R=Oe(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:E,values:H}=await F();s.errors=E,R=Oe(H)}else await q(r);if(l.disabled.size)for(const E of l.disabled)_e(R,E);if(_e(s.errors,"root"),Ge(s.errors)){f.state.next({errors:{}});try{await w(R,C)}catch(E){U=E}}else N&&await N({...s.errors},C),sa(),setTimeout(sa);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ge(s.errors)&&!U,submitCount:s.submitCount+1,errors:s.errors}),U)throw U},Ff=(w,N={})=>{O(r,w)&&(Te(N.defaultValue)?A(w,Oe(O(n,w))):(A(w,N.defaultValue),fe(n,w,Oe(N.defaultValue))),N.keepTouched||_e(s.touchedFields,w),N.keepDirty||(_e(s.dirtyFields,w),s.isDirty=N.defaultValue?ue(w,Oe(O(n,w))):ue()),N.keepError||(_e(s.errors,w),d.isValid&&p()),f.state.next({...s}))},Do=(w,N={})=>{const C=w?Oe(w):n,U=Oe(C),R=Ge(w),E=R?n:U;if(N.keepDefaultValues||(n=C),!N.keepValues){if(N.keepDirtyValues){const H=new Set([...l.mount,...Object.keys(ks(n,i))]);for(const he of Array.from(H))O(s.dirtyFields,he)?fe(E,he,O(i,he)):A(he,O(E,he))}else{if(Fi&&Te(w))for(const H of l.mount){const he=O(r,H);if(he&&he._f){const ge=Array.isArray(he._f.refs)?he._f.refs[0]:he._f.ref;if(jn(ge)){const lt=ge.closest("form");if(lt){lt.reset();break}}}}if(N.keepFieldsRef)for(const H of l.mount)A(H,O(E,H));else r={}}i=t.shouldUnregister?N.keepDefaultValues?Oe(n):{}:Oe(E),f.array.next({values:{...E}}),f.state.next({values:{...E}})}l={mount:N.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!N.keepIsValid||!!N.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:N.keepSubmitCount?s.submitCount:0,isDirty:R?!1:N.keepDirty?s.isDirty:!!(N.keepDefaultValues&&!It(w,n)),isSubmitted:N.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:R?{}:N.keepDirtyValues?N.keepDefaultValues&&i?ks(n,i):s.dirtyFields:N.keepDefaultValues&&w?ks(n,w):N.keepDirty?s.dirtyFields:{},touchedFields:N.keepTouched?s.touchedFields:{},errors:N.keepErrors?s.errors:{},isSubmitSuccessful:N.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:n})},Eo=(w,N)=>Do(wt(w)?w(i):w,N),Lf=(w,N={})=>{const C=O(r,w),U=C&&C._f;if(U){const R=U.refs?U.refs[0]:U.ref;R.focus&&(R.focus(),N.shouldSelect&&wt(R.select)&&R.select())}},If=w=>{s={...s,...w}},Ro={control:{register:ta,unregister:ea,getFieldState:L,handleSubmit:Ao,setError:Ft,_subscribe:_o,_runSchema:F,_focusError:sa,_getWatch:X,_getDirty:ue,_setValid:p,_setFieldArray:v,_setDisabledField:Po,_setErrors:j,_getFieldArray:re,_reset:Do,_resetDefaultValues:()=>wt(t.defaultValues)&&t.defaultValues().then(w=>{Eo(w,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:te,_disableForm:Vf,_subjects:f,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(w){o=w},get _defaultValues(){return n},get _names(){return l},set _names(w){l=w},get _formState(){return s},get _options(){return t},set _options(w){t={...t,...w}}},subscribe:Of,trigger:je,register:ta,handleSubmit:Ao,watch:is,setValue:A,getValues:rt,reset:Eo,resetField:Ff,clearErrors:Fe,unregister:ea,setError:Ft,setFocus:Lf,getFieldState:L};return{...Ro,formControl:Ro}}function Kn(e={}){const t=Z.useRef(void 0),s=Z.useRef(void 0),[r,n]=Z.useState({isDirty:!1,isValidating:!1,isLoading:wt(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:wt(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!wt(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=Xy(e);t.current={...l,formState:r}}const i=t.current.control;return i._options=e,Bi(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>n({...i._formState}),reRenderRoot:!0});return n(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),Z.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),Z.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),Z.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),Z.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),Z.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),Z.useEffect(()=>{e.values&&!It(e.values,s.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),s.current=e.values,n(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),Z.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=Su(r,i),t.current}const Al=(e,t,s)=>{if(e&&"reportValidity"in e){const r=O(s,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},Mu=(e,t)=>{for(const s in t.fields){const r=t.fields[s];r&&r.ref&&"reportValidity"in r.ref?Al(r.ref,s,e):r.refs&&r.refs.forEach(n=>Al(n,s,e))}},Jy=(e,t)=>{t.shouldUseNativeValidation&&Mu(e,t);const s={};for(const r in e){const n=O(t.fields,r),i=Object.assign(e[r]||{},{ref:n&&n.ref});if(ex(t.names||Object.keys(e),r)){const o=Object.assign({},O(s,r));fe(o,"root",i),fe(s,r,o)}else fe(s,r,i)}return s},ex=(e,t)=>e.some(s=>s.startsWith(t+"."));var tx=function(e,t){for(var s={};e.length;){var r=e[0],n=r.code,i=r.message,o=r.path.join(".");if(!s[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];s[o]={message:l.message,type:l.code}}else s[o]={message:i,type:n};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return e.push(h)})}),t){var c=s[o].types,u=c&&c[r.code];s[o]=Cu(o,t,s,n,u?[].concat(u,r.message):r.message)}e.shift()}return s},Qn=function(e,t,s){return s===void 0&&(s={}),function(r,n,i){try{return Promise.resolve((function(o,l){try{var c=Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(u){return i.shouldUseNativeValidation&&Mu({},i),{errors:{},values:s.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c})(0,function(o){if((function(l){return Array.isArray(l?.errors)})(o))return{values:{},errors:Jy(tx(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};const sx={primary:{light:{ramp:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a"},contrast:"#ffffff"},dark:{ramp:{50:"#0b1226",100:"#102046",200:"#132b5c",300:"#17387b",400:"#1b469a",500:"#2255b3",600:"#376de0",700:"#5a89f0",800:"#88a8f6",900:"#c3d4fb"},contrast:"#0b1120"}},secondary:{light:{ramp:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a855f7",500:"#9333ea",600:"#7e22ce",700:"#6b21a8",800:"#581c87",900:"#43146b"},contrast:"#ffffff"},dark:{ramp:{50:"#161037",100:"#22165c",200:"#301c80",300:"#3d23a3",400:"#4d2fc7",500:"#5f3fe2",600:"#7b5cf3",700:"#9d7ffc",800:"#c3abff",900:"#e3d9ff"},contrast:"#0b1120"}},success:{light:{ramp:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b"},contrast:"#ffffff"},dark:{ramp:{50:"#052e21",100:"#084734",200:"#0c5f46",300:"#11775a",400:"#1a8f6f",500:"#24a481",600:"#34be97",700:"#5fd6b1",800:"#92e7cd",900:"#c8f6e5"},contrast:"#0b1120"}},warning:{light:{ramp:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f"},contrast:"#0b1120"},dark:{ramp:{50:"#2a1900",100:"#3d2200",200:"#502d00",300:"#633a00",400:"#7c4c00",500:"#995f00",600:"#b77707",700:"#d89826",800:"#f3b84f",900:"#fde4a3"},contrast:"#0b1120"}},danger:{light:{ramp:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d"},contrast:"#ffffff"},dark:{ramp:{50:"#2c0a14",100:"#3f111d",200:"#561a27",300:"#6c2431",400:"#892f3e",500:"#a53b4a",600:"#c75261",700:"#e56f7c",800:"#f59aa7",900:"#ffd2d8"},contrast:"#0b1120"}},info:{light:{ramp:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e"},contrast:"#ffffff"},dark:{ramp:{50:"#0b2233",100:"#0f3148",200:"#13425f",300:"#155078",400:"#1a6293",500:"#1f75ae",600:"#2f91cc",700:"#54abd8",800:"#86c6e8",900:"#c9e8f6"},contrast:"#0b1120"}},neutral:{light:{ramp:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5f5",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a"},contrast:"#0f172a"},dark:{ramp:{50:"#111827",100:"#1f2937",200:"#273341",300:"#323f4c",400:"#3f4c58",500:"#4b5864",600:"#5b6774",700:"#748190",800:"#9aa5b1",900:"#cbd4dd"},contrast:"#f8fafc"}}},rx={light:{base:"#f4f6fb",card:"#ffffff",muted:"#f1f5f9",subtle:"#e2e8f0",overlay:"rgba(15, 23, 42, 0.55)"},dark:{base:"#0b1120",card:"#111827",muted:"#1f2937",subtle:"#1e293b",overlay:"rgba(15, 23, 42, 0.72)"}},nx={light:{primary:"#0f172a",secondary:"#334155",muted:"#64748b",contrast:"#f8fafc"},dark:{primary:"#f8fafc",secondary:"#e2e8f0",muted:"#94a3b8",contrast:"#0b1120"}},ax={light:{subtle:"#e2e8f0",default:"#cbd5f5",strong:"#94a3b8",focus:"rgba(59, 130, 246, 0.45)"},dark:{subtle:"#1e293b",default:"#334155",strong:"#475569",focus:"rgba(59, 130, 246, 0.65)"}},Dl=e=>({semantic:Object.entries(sx).reduce((s,[r,n])=>(s[r]={...n[e].ramp,contrast:n[e].contrast},s),{}),surface:rx[e],text:nx[e],border:ax[e]}),ix={none:"0px",xxs:"0.125rem",xs:"0.25rem",sm:"0.5rem",md:"0.75rem",lg:"1rem",xl:"1.5rem","2xl":"2rem","3xl":"3rem"},ox={none:"0px",sm:"0.25rem",md:"0.5rem",lg:"0.75rem",xl:"1rem",pill:"9999px"},Zr={fontFamily:{sans:'"Inter", "Segoe UI", system-ui, -apple-system, BlinkMacSystemFont, "Helvetica Neue", Arial, sans-serif',mono:'"JetBrains Mono", "Fira Code", "SFMono-Regular", ui-monospace, Menlo, Monaco, "Liberation Mono", "Courier New", monospace'},fontSize:{xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem"},lineHeight:{tight:"1.25",snug:"1.35",normal:"1.5",relaxed:"1.65"},fontWeight:{regular:"400",medium:"500",semibold:"600",bold:"700"}},yt=(e,t,s)=>{Object.entries(t).forEach(([r,n])=>{const i=e?`${e}-${r}`:r;if(typeof n=="object"&&n!==null){yt(i,n,s);return}s[`--${i}`]=String(n)})},lx={light:Dl("light"),dark:Dl("dark")},cx=e=>{const t=lx[e],s={};return yt("color-semantic",t.semantic,s),yt("color-surface",t.surface,s),yt("color-text",t.text,s),yt("color-border",t.border,s),yt("space",ix,s),yt("radius",ox,s),yt("font-family",Zr.fontFamily,s),yt("font-size",Zr.fontSize,s),yt("line-height",Zr.lineHeight,s),yt("font-weight",Zr.fontWeight,s),s},Tn=(e,t=document.documentElement)=>{const s=cx(e);return Object.entries(s).forEach(([r,n])=>t.style.setProperty(r,n)),t.dataset.theme=e,s},dx=e=>e==="light"?"dark":"light";var de;(function(e){e.assertEqual=n=>{};function t(n){}e.assertIs=t;function s(n){throw new Error}e.assertNever=s,e.arrayToEnum=n=>{const i={};for(const o of n)i[o]=o;return i},e.getValidEnumValues=n=>{const i=e.objectKeys(n).filter(l=>typeof n[n[l]]!="number"),o={};for(const l of i)o[l]=n[l];return e.objectValues(o)},e.objectValues=n=>e.objectKeys(n).map(function(i){return n[i]}),e.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const i=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.push(o);return i},e.find=(n,i)=>{for(const o of n)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&Number.isFinite(n)&&Math.floor(n)===n;function r(n,i=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(n,i)=>typeof i=="bigint"?i.toString():i})(de||(de={}));var El;(function(e){e.mergeShapes=(t,s)=>({...t,...s})})(El||(El={}));const B=de.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Qt=e=>{switch(typeof e){case"undefined":return B.undefined;case"string":return B.string;case"number":return Number.isNaN(e)?B.nan:B.number;case"boolean":return B.boolean;case"function":return B.function;case"bigint":return B.bigint;case"symbol":return B.symbol;case"object":return Array.isArray(e)?B.array:e===null?B.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?B.promise:typeof Map<"u"&&e instanceof Map?B.map:typeof Set<"u"&&e instanceof Set?B.set:typeof Date<"u"&&e instanceof Date?B.date:B.object;default:return B.unknown}},D=de.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Bt extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=t}format(t){const s=t||function(i){return i.message},r={_errors:[]},n=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)r._errors.push(s(o));else{let l=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(s(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return n(this),r}static assert(t){if(!(t instanceof Bt))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,de.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=s=>s.message){const s={},r=[];for(const n of this.issues)if(n.path.length>0){const i=n.path[0];s[i]=s[i]||[],s[i].push(t(n))}else r.push(t(n));return{formErrors:r,fieldErrors:s}}get formErrors(){return this.flatten()}}Bt.create=e=>new Bt(e);const Ga=(e,t)=>{let s;switch(e.code){case D.invalid_type:e.received===B.undefined?s="Required":s=`Expected ${e.expected}, received ${e.received}`;break;case D.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(e.expected,de.jsonStringifyReplacer)}`;break;case D.unrecognized_keys:s=`Unrecognized key(s) in object: ${de.joinValues(e.keys,", ")}`;break;case D.invalid_union:s="Invalid input";break;case D.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${de.joinValues(e.options)}`;break;case D.invalid_enum_value:s=`Invalid enum value. Expected ${de.joinValues(e.options)}, received '${e.received}'`;break;case D.invalid_arguments:s="Invalid function arguments";break;case D.invalid_return_type:s="Invalid function return type";break;case D.invalid_date:s="Invalid date";break;case D.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(s=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?s=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?s=`Invalid input: must end with "${e.validation.endsWith}"`:de.assertNever(e.validation):e.validation!=="regex"?s=`Invalid ${e.validation}`:s="Invalid";break;case D.too_small:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:s="Invalid input";break;case D.too_big:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?s=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:s="Invalid input";break;case D.custom:s="Invalid input";break;case D.invalid_intersection_types:s="Intersection results could not be merged";break;case D.not_multiple_of:s=`Number must be a multiple of ${e.multipleOf}`;break;case D.not_finite:s="Number must be finite";break;default:s=t.defaultError,de.assertNever(e)}return{message:s}};let ux=Ga;function hx(){return ux}const fx=e=>{const{data:t,path:s,errorMaps:r,issueData:n}=e,i=[...s,...n.path||[]],o={...n,path:i};if(n.message!==void 0)return{...n,path:i,message:n.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...n,path:i,message:l}};function I(e,t){const s=hx(),r=fx({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,s,s===Ga?void 0:Ga].filter(n=>!!n)});e.common.issues.push(r)}class ot{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,s){const r=[];for(const n of s){if(n.status==="aborted")return Y;n.status==="dirty"&&t.dirty(),r.push(n.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,s){const r=[];for(const n of s){const i=await n.key,o=await n.value;r.push({key:i,value:o})}return ot.mergeObjectSync(t,r)}static mergeObjectSync(t,s){const r={};for(const n of s){const{key:i,value:o}=n;if(i.status==="aborted"||o.status==="aborted")return Y;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||n.alwaysSet)&&(r[i.value]=o.value)}return{status:t.value,value:r}}}const Y=Object.freeze({status:"aborted"}),ur=e=>({status:"dirty",value:e}),gt=e=>({status:"valid",value:e}),Rl=e=>e.status==="aborted",Ml=e=>e.status==="dirty",Bs=e=>e.status==="valid",Sn=e=>typeof Promise<"u"&&e instanceof Promise;var $;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})($||($={}));class Jt{constructor(t,s,r,n){this._cachedPath=[],this.parent=t,this.data=s,this._path=r,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Ol=(e,t)=>{if(Bs(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new Bt(e.common.issues);return this._error=s,this._error}}};function ne(e){if(!e)return{};const{errorMap:t,invalid_type_error:s,required_error:r,description:n}=e;if(t&&(s||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:n}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??s??l.defaultError}},description:n}}class ce{get description(){return this._def.description}_getType(t){return Qt(t.data)}_getOrReturnCtx(t,s){return s||{common:t.parent.common,data:t.data,parsedType:Qt(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ot,ctx:{common:t.parent.common,data:t.data,parsedType:Qt(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const s=this._parse(t);if(Sn(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(t){const s=this._parse(t);return Promise.resolve(s)}parse(t,s){const r=this.safeParse(t,s);if(r.success)return r.data;throw r.error}safeParse(t,s){const r={common:{issues:[],async:s?.async??!1,contextualErrorMap:s?.errorMap},path:s?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Qt(t)},n=this._parseSync({data:t,path:r.path,parent:r});return Ol(r,n)}"~validate"(t){const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Qt(t)};if(!this["~standard"].async)try{const r=this._parseSync({data:t,path:[],parent:s});return Bs(r)?{value:r.value}:{issues:s.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(r=>Bs(r)?{value:r.value}:{issues:s.common.issues})}async parseAsync(t,s){const r=await this.safeParseAsync(t,s);if(r.success)return r.data;throw r.error}async safeParseAsync(t,s){const r={common:{issues:[],contextualErrorMap:s?.errorMap,async:!0},path:s?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Qt(t)},n=this._parse({data:t,path:r.path,parent:r}),i=await(Sn(n)?n:Promise.resolve(n));return Ol(r,i)}refine(t,s){const r=n=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(n):s;return this._refinement((n,i)=>{const o=t(n),l=()=>i.addIssue({code:D.custom,...r(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,s){return this._refinement((r,n)=>t(r)?!0:(n.addIssue(typeof s=="function"?s(r,n):s),!1))}_refinement(t){return new qs({schema:this,typeName:G.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return Xt.create(this,this._def)}nullable(){return zs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Dt.create(this)}promise(){return Pn.create(this,this._def)}or(t){return Cn.create([this,t],this._def)}and(t){return _n.create(this,t,this._def)}transform(t){return new qs({...ne(this._def),schema:this,typeName:G.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const s=typeof t=="function"?t:()=>t;return new ei({...ne(this._def),innerType:this,defaultValue:s,typeName:G.ZodDefault})}brand(){return new Vx({typeName:G.ZodBranded,type:this,...ne(this._def)})}catch(t){const s=typeof t=="function"?t:()=>t;return new ti({...ne(this._def),innerType:this,catchValue:s,typeName:G.ZodCatch})}describe(t){const s=this.constructor;return new s({...this._def,description:t})}pipe(t){return qi.create(this,t)}readonly(){return si.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const mx=/^c[^\s-]{8,}$/i,px=/^[0-9a-z]+$/,gx=/^[0-9A-HJKMNP-TV-Z]{26}$/i,yx=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,xx=/^[a-z0-9_-]{21}$/i,vx=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,bx=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,wx=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,jx="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ga;const Nx=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Tx=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Sx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,kx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Cx=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,_x=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Ou="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Px=new RegExp(`^${Ou}$`);function Vu(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const s=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${s}`}function Ax(e){return new RegExp(`^${Vu(e)}$`)}function Dx(e){let t=`${Ou}T${Vu(e)}`;const s=[];return s.push(e.local?"Z?":"Z"),e.offset&&s.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${s.join("|")})`,new RegExp(`^${t}$`)}function Ex(e,t){return!!((t==="v4"||!t)&&Nx.test(e)||(t==="v6"||!t)&&Sx.test(e))}function Rx(e,t){if(!vx.test(e))return!1;try{const[s]=e.split(".");if(!s)return!1;const r=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),n=JSON.parse(atob(r));return!(typeof n!="object"||n===null||"typ"in n&&n?.typ!=="JWT"||!n.alg||t&&n.alg!==t)}catch{return!1}}function Mx(e,t){return!!((t==="v4"||!t)&&Tx.test(e)||(t==="v6"||!t)&&kx.test(e))}class Yt extends ce{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==B.string){const i=this._getOrReturnCtx(t);return I(i,{code:D.invalid_type,expected:B.string,received:i.parsedType}),Y}const r=new ot;let n;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(n=this._getOrReturnCtx(t,n),I(n,{code:D.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(n=this._getOrReturnCtx(t,n),I(n,{code:D.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(n=this._getOrReturnCtx(t,n),o?I(n,{code:D.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&I(n,{code:D.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")wx.test(t.data)||(n=this._getOrReturnCtx(t,n),I(n,{validation:"email",code:D.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")ga||(ga=new RegExp(jx,"u")),ga.test(t.data)||(n=this._getOrReturnCtx(t,n),I(n,{validation:"emoji",code:D.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")yx.test(t.data)||(n=this._getOrReturnCtx(t,n),I(n,{validation:"uuid",code:D.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")xx.test(t.data)||(n=this._getOrReturnCtx(t,n),I(n,{validation:"nanoid",code:D.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")mx.test(t.data)||(n=this._getOrReturnCtx(t,n),I(n,{validation:"cuid",code:D.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")px.test(t.data)||(n=this._getOrReturnCtx(t,n),I(n,{validation:"cuid2",code:D.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")gx.test(t.data)||(n=this._getOrReturnCtx(t,n),I(n,{validation:"ulid",code:D.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{n=this._getOrReturnCtx(t,n),I(n,{validation:"url",code:D.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(n=this._getOrReturnCtx(t,n),I(n,{validation:"regex",code:D.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(t,n),I(n,{code:D.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(n=this._getOrReturnCtx(t,n),I(n,{code:D.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(n=this._getOrReturnCtx(t,n),I(n,{code:D.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?Dx(i).test(t.data)||(n=this._getOrReturnCtx(t,n),I(n,{code:D.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?Px.test(t.data)||(n=this._getOrReturnCtx(t,n),I(n,{code:D.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?Ax(i).test(t.data)||(n=this._getOrReturnCtx(t,n),I(n,{code:D.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?bx.test(t.data)||(n=this._getOrReturnCtx(t,n),I(n,{validation:"duration",code:D.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?Ex(t.data,i.version)||(n=this._getOrReturnCtx(t,n),I(n,{validation:"ip",code:D.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?Rx(t.data,i.alg)||(n=this._getOrReturnCtx(t,n),I(n,{validation:"jwt",code:D.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?Mx(t.data,i.version)||(n=this._getOrReturnCtx(t,n),I(n,{validation:"cidr",code:D.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?Cx.test(t.data)||(n=this._getOrReturnCtx(t,n),I(n,{validation:"base64",code:D.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?_x.test(t.data)||(n=this._getOrReturnCtx(t,n),I(n,{validation:"base64url",code:D.invalid_string,message:i.message}),r.dirty()):de.assertNever(i);return{status:r.value,value:t.data}}_regex(t,s,r){return this.refinement(n=>t.test(n),{validation:s,code:D.invalid_string,...$.errToObj(r)})}_addCheck(t){return new Yt({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...$.errToObj(t)})}url(t){return this._addCheck({kind:"url",...$.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...$.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...$.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...$.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...$.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...$.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...$.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...$.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...$.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...$.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...$.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...$.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...$.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...$.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...$.errToObj(t)})}regex(t,s){return this._addCheck({kind:"regex",regex:t,...$.errToObj(s)})}includes(t,s){return this._addCheck({kind:"includes",value:t,position:s?.position,...$.errToObj(s?.message)})}startsWith(t,s){return this._addCheck({kind:"startsWith",value:t,...$.errToObj(s)})}endsWith(t,s){return this._addCheck({kind:"endsWith",value:t,...$.errToObj(s)})}min(t,s){return this._addCheck({kind:"min",value:t,...$.errToObj(s)})}max(t,s){return this._addCheck({kind:"max",value:t,...$.errToObj(s)})}length(t,s){return this._addCheck({kind:"length",value:t,...$.errToObj(s)})}nonempty(t){return this.min(1,$.errToObj(t))}trim(){return new Yt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Yt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Yt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxLength(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}Yt.create=e=>new Yt({checks:[],typeName:G.ZodString,coerce:e?.coerce??!1,...ne(e)});function Ox(e,t){const s=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,n=s>r?s:r,i=Number.parseInt(e.toFixed(n).replace(".","")),o=Number.parseInt(t.toFixed(n).replace(".",""));return i%o/10**n}class $s extends ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==B.number){const i=this._getOrReturnCtx(t);return I(i,{code:D.invalid_type,expected:B.number,received:i.parsedType}),Y}let r;const n=new ot;for(const i of this._def.checks)i.kind==="int"?de.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),I(r,{code:D.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),I(r,{code:D.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),I(r,{code:D.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="multipleOf"?Ox(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),I(r,{code:D.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),I(r,{code:D.not_finite,message:i.message}),n.dirty()):de.assertNever(i);return{status:n.value,value:t.data}}gte(t,s){return this.setLimit("min",t,!0,$.toString(s))}gt(t,s){return this.setLimit("min",t,!1,$.toString(s))}lte(t,s){return this.setLimit("max",t,!0,$.toString(s))}lt(t,s){return this.setLimit("max",t,!1,$.toString(s))}setLimit(t,s,r,n){return new $s({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:r,message:$.toString(n)}]})}_addCheck(t){return new $s({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:$.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:$.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:$.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:$.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:$.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:$.toString(s)})}finite(t){return this._addCheck({kind:"finite",message:$.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:$.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:$.toString(t)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&de.isInteger(t.value))}get isFinite(){let t=null,s=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(s===null||r.value>s)&&(s=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(s)&&Number.isFinite(t)}}$s.create=e=>new $s({checks:[],typeName:G.ZodNumber,coerce:e?.coerce||!1,...ne(e)});class Tr extends ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==B.bigint)return this._getInvalidInput(t);let r;const n=new ot;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),I(r,{code:D.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),I(r,{code:D.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),I(r,{code:D.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):de.assertNever(i);return{status:n.value,value:t.data}}_getInvalidInput(t){const s=this._getOrReturnCtx(t);return I(s,{code:D.invalid_type,expected:B.bigint,received:s.parsedType}),Y}gte(t,s){return this.setLimit("min",t,!0,$.toString(s))}gt(t,s){return this.setLimit("min",t,!1,$.toString(s))}lte(t,s){return this.setLimit("max",t,!0,$.toString(s))}lt(t,s){return this.setLimit("max",t,!1,$.toString(s))}setLimit(t,s,r,n){return new Tr({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:r,message:$.toString(n)}]})}_addCheck(t){return new Tr({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:$.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:$.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:$.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:$.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:$.toString(s)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}Tr.create=e=>new Tr({checks:[],typeName:G.ZodBigInt,coerce:e?.coerce??!1,...ne(e)});class Xa extends ce{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==B.boolean){const r=this._getOrReturnCtx(t);return I(r,{code:D.invalid_type,expected:B.boolean,received:r.parsedType}),Y}return gt(t.data)}}Xa.create=e=>new Xa({typeName:G.ZodBoolean,coerce:e?.coerce||!1,...ne(e)});class kn extends ce{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==B.date){const i=this._getOrReturnCtx(t);return I(i,{code:D.invalid_type,expected:B.date,received:i.parsedType}),Y}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return I(i,{code:D.invalid_date}),Y}const r=new ot;let n;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(n=this._getOrReturnCtx(t,n),I(n,{code:D.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(n=this._getOrReturnCtx(t,n),I(n,{code:D.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):de.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new kn({...this._def,checks:[...this._def.checks,t]})}min(t,s){return this._addCheck({kind:"min",value:t.getTime(),message:$.toString(s)})}max(t,s){return this._addCheck({kind:"max",value:t.getTime(),message:$.toString(s)})}get minDate(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t!=null?new Date(t):null}}kn.create=e=>new kn({checks:[],coerce:e?.coerce||!1,typeName:G.ZodDate,...ne(e)});class Vl extends ce{_parse(t){if(this._getType(t)!==B.symbol){const r=this._getOrReturnCtx(t);return I(r,{code:D.invalid_type,expected:B.symbol,received:r.parsedType}),Y}return gt(t.data)}}Vl.create=e=>new Vl({typeName:G.ZodSymbol,...ne(e)});class Fl extends ce{_parse(t){if(this._getType(t)!==B.undefined){const r=this._getOrReturnCtx(t);return I(r,{code:D.invalid_type,expected:B.undefined,received:r.parsedType}),Y}return gt(t.data)}}Fl.create=e=>new Fl({typeName:G.ZodUndefined,...ne(e)});class Ll extends ce{_parse(t){if(this._getType(t)!==B.null){const r=this._getOrReturnCtx(t);return I(r,{code:D.invalid_type,expected:B.null,received:r.parsedType}),Y}return gt(t.data)}}Ll.create=e=>new Ll({typeName:G.ZodNull,...ne(e)});class Il extends ce{constructor(){super(...arguments),this._any=!0}_parse(t){return gt(t.data)}}Il.create=e=>new Il({typeName:G.ZodAny,...ne(e)});class Ul extends ce{constructor(){super(...arguments),this._unknown=!0}_parse(t){return gt(t.data)}}Ul.create=e=>new Ul({typeName:G.ZodUnknown,...ne(e)});class es extends ce{_parse(t){const s=this._getOrReturnCtx(t);return I(s,{code:D.invalid_type,expected:B.never,received:s.parsedType}),Y}}es.create=e=>new es({typeName:G.ZodNever,...ne(e)});class Bl extends ce{_parse(t){if(this._getType(t)!==B.undefined){const r=this._getOrReturnCtx(t);return I(r,{code:D.invalid_type,expected:B.void,received:r.parsedType}),Y}return gt(t.data)}}Bl.create=e=>new Bl({typeName:G.ZodVoid,...ne(e)});class Dt extends ce{_parse(t){const{ctx:s,status:r}=this._processInputParams(t),n=this._def;if(s.parsedType!==B.array)return I(s,{code:D.invalid_type,expected:B.array,received:s.parsedType}),Y;if(n.exactLength!==null){const o=s.data.length>n.exactLength.value,l=s.data.length<n.exactLength.value;(o||l)&&(I(s,{code:o?D.too_big:D.too_small,minimum:l?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(n.minLength!==null&&s.data.length<n.minLength.value&&(I(s,{code:D.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),n.maxLength!==null&&s.data.length>n.maxLength.value&&(I(s,{code:D.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),s.common.async)return Promise.all([...s.data].map((o,l)=>n.type._parseAsync(new Jt(s,o,s.path,l)))).then(o=>ot.mergeArray(r,o));const i=[...s.data].map((o,l)=>n.type._parseSync(new Jt(s,o,s.path,l)));return ot.mergeArray(r,i)}get element(){return this._def.type}min(t,s){return new Dt({...this._def,minLength:{value:t,message:$.toString(s)}})}max(t,s){return new Dt({...this._def,maxLength:{value:t,message:$.toString(s)}})}length(t,s){return new Dt({...this._def,exactLength:{value:t,message:$.toString(s)}})}nonempty(t){return this.min(1,t)}}Dt.create=(e,t)=>new Dt({type:e,minLength:null,maxLength:null,exactLength:null,typeName:G.ZodArray,...ne(t)});function Cs(e){if(e instanceof Pe){const t={};for(const s in e.shape){const r=e.shape[s];t[s]=Xt.create(Cs(r))}return new Pe({...e._def,shape:()=>t})}else return e instanceof Dt?new Dt({...e._def,type:Cs(e.element)}):e instanceof Xt?Xt.create(Cs(e.unwrap())):e instanceof zs?zs.create(Cs(e.unwrap())):e instanceof ws?ws.create(e.items.map(t=>Cs(t))):e}class Pe extends ce{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),s=de.objectKeys(t);return this._cached={shape:t,keys:s},this._cached}_parse(t){if(this._getType(t)!==B.object){const u=this._getOrReturnCtx(t);return I(u,{code:D.invalid_type,expected:B.object,received:u.parsedType}),Y}const{status:r,ctx:n}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof es&&this._def.unknownKeys==="strip"))for(const u in n.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],h=n.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Jt(n,h,n.path,u)),alwaysSet:u in n.data})}if(this._def.catchall instanceof es){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:n.data[d]}});else if(u==="strict")l.length>0&&(I(n,{code:D.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const h=n.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Jt(n,h,n.path,d)),alwaysSet:d in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const h=await d.key,f=await d.value;u.push({key:h,value:f,alwaysSet:d.alwaysSet})}return u}).then(u=>ot.mergeObjectSync(r,u)):ot.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return $.errToObj,new Pe({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(s,r)=>{const n=this._def.errorMap?.(s,r).message??r.defaultError;return s.code==="unrecognized_keys"?{message:$.errToObj(t).message??n}:{message:n}}}:{}})}strip(){return new Pe({...this._def,unknownKeys:"strip"})}passthrough(){return new Pe({...this._def,unknownKeys:"passthrough"})}extend(t){return new Pe({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Pe({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:G.ZodObject})}setKey(t,s){return this.augment({[t]:s})}catchall(t){return new Pe({...this._def,catchall:t})}pick(t){const s={};for(const r of de.objectKeys(t))t[r]&&this.shape[r]&&(s[r]=this.shape[r]);return new Pe({...this._def,shape:()=>s})}omit(t){const s={};for(const r of de.objectKeys(this.shape))t[r]||(s[r]=this.shape[r]);return new Pe({...this._def,shape:()=>s})}deepPartial(){return Cs(this)}partial(t){const s={};for(const r of de.objectKeys(this.shape)){const n=this.shape[r];t&&!t[r]?s[r]=n:s[r]=n.optional()}return new Pe({...this._def,shape:()=>s})}required(t){const s={};for(const r of de.objectKeys(this.shape))if(t&&!t[r])s[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Xt;)i=i._def.innerType;s[r]=i}return new Pe({...this._def,shape:()=>s})}keyof(){return Fu(de.objectKeys(this.shape))}}Pe.create=(e,t)=>new Pe({shape:()=>e,unknownKeys:"strip",catchall:es.create(),typeName:G.ZodObject,...ne(t)});Pe.strictCreate=(e,t)=>new Pe({shape:()=>e,unknownKeys:"strict",catchall:es.create(),typeName:G.ZodObject,...ne(t)});Pe.lazycreate=(e,t)=>new Pe({shape:e,unknownKeys:"strip",catchall:es.create(),typeName:G.ZodObject,...ne(t)});class Cn extends ce{_parse(t){const{ctx:s}=this._processInputParams(t),r=this._def.options;function n(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return s.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Bt(l.ctx.common.issues));return I(s,{code:D.invalid_union,unionErrors:o}),Y}if(s.common.async)return Promise.all(r.map(async i=>{const o={...s,common:{...s.common,issues:[]},parent:null};return{result:await i._parseAsync({data:s.data,path:s.path,parent:o}),ctx:o}})).then(n);{let i;const o=[];for(const c of r){const u={...s,common:{...s.common,issues:[]},parent:null},d=c._parseSync({data:s.data,path:s.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return s.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Bt(c));return I(s,{code:D.invalid_union,unionErrors:l}),Y}}get options(){return this._def.options}}Cn.create=(e,t)=>new Cn({options:e,typeName:G.ZodUnion,...ne(t)});function Ja(e,t){const s=Qt(e),r=Qt(t);if(e===t)return{valid:!0,data:e};if(s===B.object&&r===B.object){const n=de.objectKeys(t),i=de.objectKeys(e).filter(l=>n.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=Ja(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(s===B.array&&r===B.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=Ja(o,l);if(!c.valid)return{valid:!1};n.push(c.data)}return{valid:!0,data:n}}else return s===B.date&&r===B.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class _n extends ce{_parse(t){const{status:s,ctx:r}=this._processInputParams(t),n=(i,o)=>{if(Rl(i)||Rl(o))return Y;const l=Ja(i.value,o.value);return l.valid?((Ml(i)||Ml(o))&&s.dirty(),{status:s.value,value:l.data}):(I(r,{code:D.invalid_intersection_types}),Y)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>n(i,o)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}_n.create=(e,t,s)=>new _n({left:e,right:t,typeName:G.ZodIntersection,...ne(s)});class ws extends ce{_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.parsedType!==B.array)return I(r,{code:D.invalid_type,expected:B.array,received:r.parsedType}),Y;if(r.data.length<this._def.items.length)return I(r,{code:D.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Y;!this._def.rest&&r.data.length>this._def.items.length&&(I(r,{code:D.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const i=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Jt(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>ot.mergeArray(s,o)):ot.mergeArray(s,i)}get items(){return this._def.items}rest(t){return new ws({...this._def,rest:t})}}ws.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ws({items:e,typeName:G.ZodTuple,rest:null,...ne(t)})};class $l extends ce{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.parsedType!==B.map)return I(r,{code:D.invalid_type,expected:B.map,received:r.parsedType}),Y;const n=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([l,c],u)=>({key:n._parse(new Jt(r,l,r.path,[u,"key"])),value:i._parse(new Jt(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Y;(u.status==="dirty"||d.status==="dirty")&&s.dirty(),l.set(u.value,d.value)}return{status:s.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Y;(u.status==="dirty"||d.status==="dirty")&&s.dirty(),l.set(u.value,d.value)}return{status:s.value,value:l}}}}$l.create=(e,t,s)=>new $l({valueType:t,keyType:e,typeName:G.ZodMap,...ne(s)});class Sr extends ce{_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.parsedType!==B.set)return I(r,{code:D.invalid_type,expected:B.set,received:r.parsedType}),Y;const n=this._def;n.minSize!==null&&r.data.size<n.minSize.value&&(I(r,{code:D.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),s.dirty()),n.maxSize!==null&&r.data.size>n.maxSize.value&&(I(r,{code:D.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),s.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Y;d.status==="dirty"&&s.dirty(),u.add(d.value)}return{status:s.value,value:u}}const l=[...r.data.values()].map((c,u)=>i._parse(new Jt(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,s){return new Sr({...this._def,minSize:{value:t,message:$.toString(s)}})}max(t,s){return new Sr({...this._def,maxSize:{value:t,message:$.toString(s)}})}size(t,s){return this.min(t,s).max(t,s)}nonempty(t){return this.min(1,t)}}Sr.create=(e,t)=>new Sr({valueType:e,minSize:null,maxSize:null,typeName:G.ZodSet,...ne(t)});class Wl extends ce{get schema(){return this._def.getter()}_parse(t){const{ctx:s}=this._processInputParams(t);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}Wl.create=(e,t)=>new Wl({getter:e,typeName:G.ZodLazy,...ne(t)});class ql extends ce{_parse(t){if(t.data!==this._def.value){const s=this._getOrReturnCtx(t);return I(s,{received:s.data,code:D.invalid_literal,expected:this._def.value}),Y}return{status:"valid",value:t.data}}get value(){return this._def.value}}ql.create=(e,t)=>new ql({value:e,typeName:G.ZodLiteral,...ne(t)});function Fu(e,t){return new Ws({values:e,typeName:G.ZodEnum,...ne(t)})}class Ws extends ce{_parse(t){if(typeof t.data!="string"){const s=this._getOrReturnCtx(t),r=this._def.values;return I(s,{expected:de.joinValues(r),received:s.parsedType,code:D.invalid_type}),Y}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const s=this._getOrReturnCtx(t),r=this._def.values;return I(s,{received:s.data,code:D.invalid_enum_value,options:r}),Y}return gt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const s of this._def.values)t[s]=s;return t}get Values(){const t={};for(const s of this._def.values)t[s]=s;return t}get Enum(){const t={};for(const s of this._def.values)t[s]=s;return t}extract(t,s=this._def){return Ws.create(t,{...this._def,...s})}exclude(t,s=this._def){return Ws.create(this.options.filter(r=>!t.includes(r)),{...this._def,...s})}}Ws.create=Fu;class zl extends ce{_parse(t){const s=de.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==B.string&&r.parsedType!==B.number){const n=de.objectValues(s);return I(r,{expected:de.joinValues(n),received:r.parsedType,code:D.invalid_type}),Y}if(this._cache||(this._cache=new Set(de.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const n=de.objectValues(s);return I(r,{received:r.data,code:D.invalid_enum_value,options:n}),Y}return gt(t.data)}get enum(){return this._def.values}}zl.create=(e,t)=>new zl({values:e,typeName:G.ZodNativeEnum,...ne(t)});class Pn extends ce{unwrap(){return this._def.type}_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==B.promise&&s.common.async===!1)return I(s,{code:D.invalid_type,expected:B.promise,received:s.parsedType}),Y;const r=s.parsedType===B.promise?s.data:Promise.resolve(s.data);return gt(r.then(n=>this._def.type.parseAsync(n,{path:s.path,errorMap:s.common.contextualErrorMap})))}}Pn.create=(e,t)=>new Pn({type:e,typeName:G.ZodPromise,...ne(t)});class qs extends ce{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===G.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:s,ctx:r}=this._processInputParams(t),n=this._def.effect||null,i={addIssue:o=>{I(r,o),o.fatal?s.abort():s.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),n.type==="preprocess"){const o=n.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async l=>{if(s.value==="aborted")return Y;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Y:c.status==="dirty"||s.value==="dirty"?ur(c.value):c});{if(s.value==="aborted")return Y;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?Y:l.status==="dirty"||s.value==="dirty"?ur(l.value):l}}if(n.type==="refinement"){const o=l=>{const c=n.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Y:(l.status==="dirty"&&s.dirty(),o(l.value),{status:s.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Y:(l.status==="dirty"&&s.dirty(),o(l.value).then(()=>({status:s.value,value:l.value}))))}if(n.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Bs(o))return Y;const l=n.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Bs(o)?Promise.resolve(n.transform(o.value,i)).then(l=>({status:s.value,value:l})):Y);de.assertNever(n)}}qs.create=(e,t,s)=>new qs({schema:e,typeName:G.ZodEffects,effect:t,...ne(s)});qs.createWithPreprocess=(e,t,s)=>new qs({schema:t,effect:{type:"preprocess",transform:e},typeName:G.ZodEffects,...ne(s)});class Xt extends ce{_parse(t){return this._getType(t)===B.undefined?gt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Xt.create=(e,t)=>new Xt({innerType:e,typeName:G.ZodOptional,...ne(t)});class zs extends ce{_parse(t){return this._getType(t)===B.null?gt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}zs.create=(e,t)=>new zs({innerType:e,typeName:G.ZodNullable,...ne(t)});class ei extends ce{_parse(t){const{ctx:s}=this._processInputParams(t);let r=s.data;return s.parsedType===B.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}ei.create=(e,t)=>new ei({innerType:e,typeName:G.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ne(t)});class ti extends ce{_parse(t){const{ctx:s}=this._processInputParams(t),r={...s,common:{...s.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Sn(n)?n.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Bt(r.common.issues)},input:r.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new Bt(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}ti.create=(e,t)=>new ti({innerType:e,typeName:G.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ne(t)});class Hl extends ce{_parse(t){if(this._getType(t)!==B.nan){const r=this._getOrReturnCtx(t);return I(r,{code:D.invalid_type,expected:B.nan,received:r.parsedType}),Y}return{status:"valid",value:t.data}}}Hl.create=e=>new Hl({typeName:G.ZodNaN,...ne(e)});class Vx extends ce{_parse(t){const{ctx:s}=this._processInputParams(t),r=s.data;return this._def.type._parse({data:r,path:s.path,parent:s})}unwrap(){return this._def.type}}class qi extends ce{_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Y:i.status==="dirty"?(s.dirty(),ur(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const n=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return n.status==="aborted"?Y:n.status==="dirty"?(s.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:r.path,parent:r})}}static create(t,s){return new qi({in:t,out:s,typeName:G.ZodPipeline})}}class si extends ce{_parse(t){const s=this._def.innerType._parse(t),r=n=>(Bs(n)&&(n.value=Object.freeze(n.value)),n);return Sn(s)?s.then(n=>r(n)):r(s)}unwrap(){return this._def.innerType}}si.create=(e,t)=>new si({innerType:e,typeName:G.ZodReadonly,...ne(t)});var G;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(G||(G={}));const kr=Yt.create,Fx=$s.create,_s=Xa.create;es.create;Dt.create;const Vs=Pe.create;Cn.create;_n.create;ws.create;const Yr=Ws.create;Pn.create;Xt.create;zs.create;const Lx=Vs({theme:Yr(["light","dark","auto"]),layout:Yr(["grid","list","compact"]),density:Yr(["comfortable","compact","spacious"]),refreshInterval:Fx().min(30).max(300),notifications:Vs({enabled:_s(),sound:_s(),desktop:_s()}),widgets:Vs({defaultSize:Yr(["small","medium","large","xlarge"]),autoRefresh:_s(),showTitles:_s()})}),ya={theme:"auto",layout:"grid",density:"comfortable",refreshInterval:60,notifications:{enabled:!0,sound:!0,desktop:!0},widgets:{defaultSize:"medium",autoRefresh:!0,showTitles:!0}},Ix=({initialData:e=ya,onSubmit:t,isLoading:s=!1})=>{const{t:r}=St(),{mode:n,setMode:i}=Ei(),{control:o,handleSubmit:l,formState:{errors:c,isDirty:u},reset:d}=Kn({resolver:Qn(Lx),defaultValues:{...ya,...e}}),h=async m=>{try{await t(m)}catch{}},f=m=>{i(m),Tn(m)},y=()=>{d({...ya,...e})};return a.jsxs("form",{onSubmit:l(h),className:"space-y-6",children:[a.jsxs(oe,{children:[a.jsxs(Ie,{children:[a.jsx(Ue,{children:r("preferences.theme.title",{defaultValue:"Theme Settings"})}),a.jsx(at,{children:r("preferences.theme.description",{defaultValue:"Customize the appearance of your dashboard"})})]}),a.jsxs(le,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-[var(--color-text-primary)]",children:r("preferences.theme.mode",{defaultValue:"Theme Mode"})}),a.jsx(_t,{name:"theme",control:o,render:({field:m})=>a.jsx("div",{className:"flex gap-2",children:["light","dark","auto"].map(p=>a.jsx(se,{type:"button",variant:m.value===p?"primary":"outline",size:"sm",onClick:()=>m.onChange(p),children:r(`preferences.theme.${p}`,{defaultValue:p})},p))})}),c.theme&&a.jsx("p",{className:"text-sm text-[var(--color-semantic-danger-500)]",children:c.theme.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-[var(--color-text-primary)]",children:r("preferences.theme.preview",{defaultValue:"Preview"})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(se,{type:"button",variant:"outline",size:"sm",onClick:()=>f("light"),className:n==="light"?"ring-2 ring-[var(--color-semantic-primary-500)]":"",children:["☀️ ",r("preferences.theme.light",{defaultValue:"Light"})]}),a.jsxs(se,{type:"button",variant:"outline",size:"sm",onClick:()=>f("dark"),className:n==="dark"?"ring-2 ring-[var(--color-semantic-primary-500)]":"",children:["🌙 ",r("preferences.theme.dark",{defaultValue:"Dark"})]})]})]})]})]}),a.jsxs(oe,{children:[a.jsxs(Ie,{children:[a.jsx(Ue,{children:r("preferences.layout.title",{defaultValue:"Layout Settings"})}),a.jsx(at,{children:r("preferences.layout.description",{defaultValue:"Configure how content is displayed"})})]}),a.jsxs(le,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-[var(--color-text-primary)]",children:r("preferences.layout.type",{defaultValue:"Layout Type"})}),a.jsx(_t,{name:"layout",control:o,render:({field:m})=>a.jsx("div",{className:"flex gap-2",children:["grid","list","compact"].map(p=>a.jsx(se,{type:"button",variant:m.value===p?"primary":"outline",size:"sm",onClick:()=>m.onChange(p),children:r(`preferences.layout.${p}`,{defaultValue:p})},p))})}),c.layout&&a.jsx("p",{className:"text-sm text-[var(--color-semantic-danger-500)]",children:c.layout.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-[var(--color-text-primary)]",children:r("preferences.layout.density",{defaultValue:"Density"})}),a.jsx(_t,{name:"density",control:o,render:({field:m})=>a.jsx("div",{className:"flex gap-2",children:["comfortable","compact","spacious"].map(p=>a.jsx(se,{type:"button",variant:m.value===p?"primary":"outline",size:"sm",onClick:()=>m.onChange(p),children:r(`preferences.layout.${p}`,{defaultValue:p})},p))})}),c.density&&a.jsx("p",{className:"text-sm text-[var(--color-semantic-danger-500)]",children:c.density.message})]})]})]}),a.jsxs(oe,{children:[a.jsxs(Ie,{children:[a.jsx(Ue,{children:r("preferences.notifications.title",{defaultValue:"Notification Settings"})}),a.jsx(at,{children:r("preferences.notifications.description",{defaultValue:"Configure how you receive notifications"})})]}),a.jsx(le,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx(_t,{name:"notifications.enabled",control:o,render:({field:m})=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[var(--color-text-primary)]",children:r("preferences.notifications.enabled",{defaultValue:"Enable Notifications"})}),a.jsx("p",{className:"text-xs text-[var(--color-text-muted)]",children:r("preferences.notifications.enabledDescription",{defaultValue:"Receive system notifications"})})]}),a.jsx("input",{type:"checkbox",checked:m.value,onChange:m.onChange,className:"rounded border-[var(--color-border-default)]"})]})}),a.jsx(_t,{name:"notifications.sound",control:o,render:({field:m})=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[var(--color-text-primary)]",children:r("preferences.notifications.sound",{defaultValue:"Sound Notifications"})}),a.jsx("p",{className:"text-xs text-[var(--color-text-muted)]",children:r("preferences.notifications.soundDescription",{defaultValue:"Play sound for notifications"})})]}),a.jsx("input",{type:"checkbox",checked:m.value,onChange:m.onChange,className:"rounded border-[var(--color-border-default)]"})]})}),a.jsx(_t,{name:"notifications.desktop",control:o,render:({field:m})=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[var(--color-text-primary)]",children:r("preferences.notifications.desktop",{defaultValue:"Desktop Notifications"})}),a.jsx("p",{className:"text-xs text-[var(--color-text-muted)]",children:r("preferences.notifications.desktopDescription",{defaultValue:"Show desktop notifications"})})]}),a.jsx("input",{type:"checkbox",checked:m.value,onChange:m.onChange,className:"rounded border-[var(--color-border-default)]"})]})})]})})]}),a.jsxs(oe,{children:[a.jsxs(Ie,{children:[a.jsx(Ue,{children:r("preferences.widgets.title",{defaultValue:"Widget Settings"})}),a.jsx(at,{children:r("preferences.widgets.description",{defaultValue:"Configure widget behavior and appearance"})})]}),a.jsxs(le,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-[var(--color-text-primary)]",children:r("preferences.widgets.defaultSize",{defaultValue:"Default Widget Size"})}),a.jsx(_t,{name:"widgets.defaultSize",control:o,render:({field:m})=>a.jsx("div",{className:"flex gap-2",children:["small","medium","large","xlarge"].map(p=>a.jsx(se,{type:"button",variant:m.value===p?"primary":"outline",size:"sm",onClick:()=>m.onChange(p),children:r(`preferences.widgets.${p}`,{defaultValue:p})},p))})}),c.widgets?.defaultSize&&a.jsx("p",{className:"text-sm text-[var(--color-semantic-danger-500)]",children:c.widgets.defaultSize.message})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(_t,{name:"widgets.autoRefresh",control:o,render:({field:m})=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[var(--color-text-primary)]",children:r("preferences.widgets.autoRefresh",{defaultValue:"Auto Refresh Widgets"})}),a.jsx("p",{className:"text-xs text-[var(--color-text-muted)]",children:r("preferences.widgets.autoRefreshDescription",{defaultValue:"Automatically refresh widget data"})})]}),a.jsx("input",{type:"checkbox",checked:m.value,onChange:m.onChange,className:"rounded border-[var(--color-border-default)]"})]})}),a.jsx(_t,{name:"widgets.showTitles",control:o,render:({field:m})=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[var(--color-text-primary)]",children:r("preferences.widgets.showTitles",{defaultValue:"Show Widget Titles"})}),a.jsx("p",{className:"text-xs text-[var(--color-text-muted)]",children:r("preferences.widgets.showTitlesDescription",{defaultValue:"Display titles on widgets"})})]}),a.jsx("input",{type:"checkbox",checked:m.value,onChange:m.onChange,className:"rounded border-[var(--color-border-default)]"})]})})]})]})]}),a.jsxs(oe,{children:[a.jsxs(Ie,{children:[a.jsx(Ue,{children:r("preferences.refresh.title",{defaultValue:"Refresh Settings"})}),a.jsx(at,{children:r("preferences.refresh.description",{defaultValue:"Configure data refresh intervals"})})]}),a.jsx(le,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-[var(--color-text-primary)]",children:r("preferences.refresh.interval",{defaultValue:"Refresh Interval (seconds)"})}),a.jsx(_t,{name:"refreshInterval",control:o,render:({field:m})=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"range",min:"30",max:"300",step:"30",value:m.value,onChange:p=>m.onChange(parseInt(p.target.value)),className:"flex-1"}),a.jsxs(mt,{tone:"info",children:[m.value,"s"]})]})}),c.refreshInterval&&a.jsx("p",{className:"text-sm text-[var(--color-semantic-danger-500)]",children:c.refreshInterval.message})]})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-2",children:u&&a.jsx(mt,{tone:"warning",children:r("preferences.unsavedChanges",{defaultValue:"Unsaved changes"})})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(se,{type:"button",variant:"outline",onClick:y,disabled:!u,children:r("preferences.reset",{defaultValue:"Reset"})}),a.jsx(se,{type:"submit",loading:s,disabled:!u,children:r("preferences.save",{defaultValue:"Save Preferences"})})]})]})]})},Ux=()=>{const{t:e}=St(),{mode:t,setMode:s}=Ei(),[r,n]=x.useState(!1),{data:i}=my(),o=vy(),l=by(),c=async()=>{try{await l.mutateAsync(),n(!0),setTimeout(()=>n(!1),3e3)}catch{}},u=async h=>{try{if(await o.mutateAsync(h),h.theme!=="auto")s(h.theme),Tn(h.theme);else{const f=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";s(f),Tn(f)}localStorage.setItem("user-preferences",JSON.stringify(h)),n(!0),setTimeout(()=>n(!1),3e3)}catch{}},d=i?.data||{};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-[var(--color-text-primary)]",children:e("preferences.title",{defaultValue:"Preferences"})}),a.jsx("p",{className:"text-[var(--color-text-muted)]",children:e("preferences.description",{defaultValue:"Customize your dashboard experience"})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[r&&a.jsxs("div",{className:"text-sm text-[var(--color-semantic-success-500)]",children:["✅ ",e("preferences.saved",{defaultValue:"Preferences saved!"})]}),a.jsx(se,{variant:"outline",size:"sm",onClick:c,children:e("preferences.resetToDefaults",{defaultValue:"Reset to Defaults"})})]})]}),a.jsx(oe,{children:a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-[var(--color-text-primary)]",children:e("preferences.currentTheme",{defaultValue:"Current Theme"})}),a.jsx("p",{className:"text-xs text-[var(--color-text-muted)]",children:e("preferences.currentThemeDescription",{defaultValue:"Active theme mode"})})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("span",{className:"text-sm text-[var(--color-text-muted)]",children:[t==="light"?"☀️":"🌙"," ",t]})})]})})}),a.jsx(Ix,{initialData:d,onSubmit:u,isLoading:o.isPending}),a.jsxs(oe,{children:[a.jsx(Ie,{children:a.jsx(Ue,{className:"text-lg",children:e("preferences.help.title",{defaultValue:"Need Help?"})})}),a.jsx(le,{children:a.jsxs("div",{className:"space-y-2 text-sm text-[var(--color-text-muted)]",children:[a.jsx("p",{children:e("preferences.help.description",{defaultValue:"Your preferences are automatically saved and synced across all your devices."})}),a.jsx("p",{children:e("preferences.help.theme",{defaultValue:"Auto theme will follow your system preference (light/dark mode)."})}),a.jsx("p",{children:e("preferences.help.refresh",{defaultValue:"Refresh intervals are applied to all dashboard widgets and data."})})]})})]})]})},Lu=()=>{const{user:e,token:t,isAuthenticated:s,isLoading:r,error:n,login:i,logout:o,setUser:l,setToken:c,setError:u,setLoading:d,clearAuth:h,refreshUser:f}=Vi();return{user:e,token:t,isAuthenticated:s,isLoading:r,error:n,login:i,logout:o,setUser:l,setToken:c,setError:u,setLoading:d,clearAuth:h,refreshUser:f}},Bx=Vs({email:kr().email("Invalid email address"),password:kr().min(6,"Password must be at least 6 characters"),remember:_s().optional()}),$x=()=>{const{t:e}=St(),t=ns(),{login:s,isLoading:r,error:n,isAuthenticated:i}=Lu(),[o,l]=x.useState(!1),{register:c,handleSubmit:u,formState:{errors:d}}=Kn({resolver:Qn(Bx),defaultValues:{email:"",password:"",remember:!1}});x.useEffect(()=>{i&&t("/app/dashboard")},[i,t]);const h=async f=>{try{await s(f.email,f.password),t("/app/dashboard")}catch{}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[var(--color-surface-base)] py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-3xl font-bold text-[var(--color-text-primary)]",children:e("auth.login.title",{defaultValue:"Welcome back"})}),a.jsx("p",{className:"mt-2 text-[var(--color-text-muted)]",children:e("auth.login.subtitle",{defaultValue:"Sign in to your account"})})]}),a.jsxs(oe,{children:[a.jsxs(Ie,{children:[a.jsx(Ue,{children:e("auth.login.formTitle",{defaultValue:"Sign In"})}),a.jsx(at,{children:e("auth.login.formDescription",{defaultValue:"Enter your credentials to access your account"})})]}),a.jsxs(le,{children:[a.jsxs("form",{onSubmit:u(h),className:"space-y-6",children:[n&&a.jsx("div",{className:"p-3 rounded-[var(--radius-md)] bg-[var(--color-semantic-danger-50)] border border-[var(--color-semantic-danger-200)]",children:a.jsx("p",{className:"text-sm text-[var(--color-semantic-danger-700)]",children:n})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-[var(--color-text-primary)]",children:e("auth.login.email",{defaultValue:"Email Address"})}),a.jsx("input",{...c("email"),type:"email",id:"email",autoComplete:"email",className:"w-full px-3 py-2 border border-[var(--color-border-default)] rounded-[var(--radius-md)] focus:outline-none focus:ring-2 focus:ring-[var(--color-semantic-primary-500)] focus:border-transparent",placeholder:e("auth.login.emailPlaceholder",{defaultValue:"Enter your email"})}),d.email&&a.jsx("p",{className:"text-sm text-[var(--color-semantic-danger-500)]",children:d.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-[var(--color-text-primary)]",children:e("auth.login.password",{defaultValue:"Password"})}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{...c("password"),type:o?"text":"password",id:"password",autoComplete:"current-password",className:"w-full px-3 py-2 pr-10 border border-[var(--color-border-default)] rounded-[var(--radius-md)] focus:outline-none focus:ring-2 focus:ring-[var(--color-semantic-primary-500)] focus:border-transparent",placeholder:e("auth.login.passwordPlaceholder",{defaultValue:"Enter your password"})}),a.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-[var(--color-text-muted)] hover:text-[var(--color-text-primary)]","aria-label":o?"Hide password":"Show password",children:o?"👁️":"👁️‍🗨️"})]}),d.password&&a.jsx("p",{className:"text-sm text-[var(--color-semantic-danger-500)]",children:d.password.message})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{...c("remember"),type:"checkbox",id:"remember",className:"h-4 w-4 text-[var(--color-semantic-primary-500)] focus:ring-[var(--color-semantic-primary-500)] border-[var(--color-border-default)] rounded"}),a.jsx("label",{htmlFor:"remember",className:"ml-2 block text-sm text-[var(--color-text-secondary)]",children:e("auth.login.remember",{defaultValue:"Remember me"})})]}),a.jsx(Is,{to:"/forgot-password",className:"text-sm text-[var(--color-semantic-primary-500)] hover:text-[var(--color-semantic-primary-600)]",children:e("auth.login.forgotPassword",{defaultValue:"Forgot password?"})})]}),a.jsx(se,{type:"submit",className:"w-full",loading:r,disabled:r,children:e("auth.login.submit",{defaultValue:"Sign In"})})]}),a.jsxs("div",{className:"mt-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-[var(--color-border-subtle)]"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-[var(--color-surface-base)] text-[var(--color-text-muted)]",children:e("auth.login.or",{defaultValue:"Or"})})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-[var(--color-text-muted)]",children:[e("auth.login.noAccount",{defaultValue:"Don't have an account?"})," ",a.jsx(Is,{to:"/register",className:"text-[var(--color-semantic-primary-500)] hover:text-[var(--color-semantic-primary-600)]",children:e("auth.login.signUp",{defaultValue:"Sign up"})})]})})]})]})]}),a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-xs text-[var(--color-text-muted)]",children:e("auth.login.terms",{defaultValue:"By signing in, you agree to our Terms of Service and Privacy Policy"})})})]})})},Iu={login:async e=>(await V.post("/api/v1/auth/login",e)).data,logout:async()=>{await V.post("/api/v1/auth/logout")},me:async()=>(await V.get("/api/v1/auth/me")).data,forgotPassword:async e=>{await V.post("/api/v1/auth/password/forgot",e)},resetPassword:async e=>{await V.post("/api/v1/auth/password/reset",e)},verifyTwoFactor:async e=>(await V.post("/api/v1/auth/2fa/verify",e)).data,resendTwoFactor:async()=>{await V.post("/api/v1/auth/2fa/resend")},getCsrfCookie:async()=>{await V.get("/sanctum/csrf-cookie")}},Wx=Vs({email:kr().email("Invalid email address")}),qx=()=>{const{t:e}=St(),[t,s]=x.useState(!1),[r,n]=x.useState(!1),[i,o]=x.useState(null),{register:l,handleSubmit:c,formState:{errors:u}}=Kn({resolver:Qn(Wx),defaultValues:{email:""}}),d=async h=>{s(!0),o(null);try{await Iu.forgotPassword(h),n(!0)}catch(f){const y=f.response?.data?.message||"Failed to send reset email";o(y)}finally{s(!1)}};return r?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[var(--color-surface-base)] py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-md w-full space-y-8",children:a.jsxs(oe,{children:[a.jsxs(Ie,{children:[a.jsxs(Ue,{className:"text-center text-[var(--color-semantic-success-600)]",children:["✅ ",e("auth.forgotPassword.successTitle",{defaultValue:"Email Sent!"})]}),a.jsx(at,{className:"text-center",children:e("auth.forgotPassword.successDescription",{defaultValue:"Check your email for password reset instructions"})})]}),a.jsx(le,{children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("p",{className:"text-sm text-[var(--color-text-muted)]",children:e("auth.forgotPassword.successMessage",{defaultValue:"We've sent a password reset link to your email address. Please check your inbox and follow the instructions to reset your password."})}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx(Is,{to:"/login",className:"text-sm text-[var(--color-semantic-primary-500)] hover:text-[var(--color-semantic-primary-600)]",children:e("auth.forgotPassword.backToLogin",{defaultValue:"Back to Sign In"})}),a.jsx(se,{variant:"outline",onClick:()=>n(!1),className:"w-full",children:e("auth.forgotPassword.tryAgain",{defaultValue:"Try Again"})})]})]})})]})})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[var(--color-surface-base)] py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-3xl font-bold text-[var(--color-text-primary)]",children:e("auth.forgotPassword.title",{defaultValue:"Forgot Password?"})}),a.jsx("p",{className:"mt-2 text-[var(--color-text-muted)]",children:e("auth.forgotPassword.subtitle",{defaultValue:"Enter your email to receive reset instructions"})})]}),a.jsxs(oe,{children:[a.jsxs(Ie,{children:[a.jsx(Ue,{children:e("auth.forgotPassword.formTitle",{defaultValue:"Reset Password"})}),a.jsx(at,{children:e("auth.forgotPassword.formDescription",{defaultValue:"We'll send you a link to reset your password"})})]}),a.jsxs(le,{children:[a.jsxs("form",{onSubmit:c(d),className:"space-y-6",children:[i&&a.jsx("div",{className:"p-3 rounded-[var(--radius-md)] bg-[var(--color-semantic-danger-50)] border border-[var(--color-semantic-danger-200)]",children:a.jsx("p",{className:"text-sm text-[var(--color-semantic-danger-700)]",children:i})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-[var(--color-text-primary)]",children:e("auth.forgotPassword.email",{defaultValue:"Email Address"})}),a.jsx("input",{...l("email"),type:"email",id:"email",autoComplete:"email",className:"w-full px-3 py-2 border border-[var(--color-border-default)] rounded-[var(--radius-md)] focus:outline-none focus:ring-2 focus:ring-[var(--color-semantic-primary-500)] focus:border-transparent",placeholder:e("auth.forgotPassword.emailPlaceholder",{defaultValue:"Enter your email"})}),u.email&&a.jsx("p",{className:"text-sm text-[var(--color-semantic-danger-500)]",children:u.email.message})]}),a.jsx(se,{type:"submit",className:"w-full",loading:t,disabled:t,children:e("auth.forgotPassword.submit",{defaultValue:"Send Reset Link"})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx(Is,{to:"/login",className:"text-sm text-[var(--color-semantic-primary-500)] hover:text-[var(--color-semantic-primary-600)]",children:e("auth.forgotPassword.backToLogin",{defaultValue:"Back to Sign In"})})})]})]})]})})},zx=Vs({password:kr().min(8,"Password must be at least 8 characters"),password_confirmation:kr()}).refine(e=>e.password===e.password_confirmation,{message:"Passwords don't match",path:["password_confirmation"]}),Hx=()=>{const{t:e}=St(),t=ns(),[s]=Sd(),[r,n]=x.useState(!1),[i,o]=x.useState(!1),[l,c]=x.useState(null),[u,d]=x.useState(!1),[h,f]=x.useState(!1),y=s.get("token"),m=s.get("email"),{register:p,handleSubmit:g,formState:{errors:v}}=Kn({resolver:Qn(zx),defaultValues:{password:"",password_confirmation:""}});x.useEffect(()=>{(!y||!m)&&t("/forgot-password")},[y,m,t]);const b=async j=>{if(!(!y||!m)){n(!0),c(null);try{await Iu.resetPassword({email:m,token:y,password:j.password,password_confirmation:j.password_confirmation}),o(!0)}catch(P){const _=P.response?.data?.message||"Failed to reset password";c(_)}finally{n(!1)}}};return i?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[var(--color-surface-base)] py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-md w-full space-y-8",children:a.jsxs(oe,{children:[a.jsxs(Ie,{children:[a.jsxs(Ue,{className:"text-center text-[var(--color-semantic-success-600)]",children:["✅ ",e("auth.resetPassword.successTitle",{defaultValue:"Password Reset!"})]}),a.jsx(at,{className:"text-center",children:e("auth.resetPassword.successDescription",{defaultValue:"Your password has been successfully reset"})})]}),a.jsx(le,{children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("p",{className:"text-sm text-[var(--color-text-muted)]",children:e("auth.resetPassword.successMessage",{defaultValue:"You can now sign in with your new password."})}),a.jsx(Is,{to:"/login",children:a.jsx(se,{className:"w-full",children:e("auth.resetPassword.signIn",{defaultValue:"Sign In"})})})]})})]})})}):!y||!m?null:a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[var(--color-surface-base)] py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-3xl font-bold text-[var(--color-text-primary)]",children:e("auth.resetPassword.title",{defaultValue:"Reset Password"})}),a.jsx("p",{className:"mt-2 text-[var(--color-text-muted)]",children:e("auth.resetPassword.subtitle",{defaultValue:"Enter your new password"})})]}),a.jsxs(oe,{children:[a.jsxs(Ie,{children:[a.jsx(Ue,{children:e("auth.resetPassword.formTitle",{defaultValue:"New Password"})}),a.jsx(at,{children:e("auth.resetPassword.formDescription",{defaultValue:"Choose a strong password for your account"})})]}),a.jsxs(le,{children:[a.jsxs("form",{onSubmit:g(b),className:"space-y-6",children:[l&&a.jsx("div",{className:"p-3 rounded-[var(--radius-md)] bg-[var(--color-semantic-danger-50)] border border-[var(--color-semantic-danger-200)]",children:a.jsx("p",{className:"text-sm text-[var(--color-semantic-danger-700)]",children:l})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-[var(--color-text-primary)]",children:e("auth.resetPassword.password",{defaultValue:"New Password"})}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{...p("password"),type:u?"text":"password",id:"password",autoComplete:"new-password",className:"w-full px-3 py-2 pr-10 border border-[var(--color-border-default)] rounded-[var(--radius-md)] focus:outline-none focus:ring-2 focus:ring-[var(--color-semantic-primary-500)] focus:border-transparent",placeholder:e("auth.resetPassword.passwordPlaceholder",{defaultValue:"Enter new password"})}),a.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-[var(--color-text-muted)] hover:text-[var(--color-text-primary)]","aria-label":u?"Hide password":"Show password",children:u?"👁️":"👁️‍🗨️"})]}),v.password&&a.jsx("p",{className:"text-sm text-[var(--color-semantic-danger-500)]",children:v.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"password_confirmation",className:"text-sm font-medium text-[var(--color-text-primary)]",children:e("auth.resetPassword.confirmPassword",{defaultValue:"Confirm Password"})}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{...p("password_confirmation"),type:h?"text":"password",id:"password_confirmation",autoComplete:"new-password",className:"w-full px-3 py-2 pr-10 border border-[var(--color-border-default)] rounded-[var(--radius-md)] focus:outline-none focus:ring-2 focus:ring-[var(--color-semantic-primary-500)] focus:border-transparent",placeholder:e("auth.resetPassword.confirmPasswordPlaceholder",{defaultValue:"Confirm new password"})}),a.jsx("button",{type:"button",onClick:()=>f(!h),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-[var(--color-text-muted)] hover:text-[var(--color-text-primary)]","aria-label":h?"Hide password":"Show password",children:h?"👁️":"👁️‍🗨️"})]}),v.password_confirmation&&a.jsx("p",{className:"text-sm text-[var(--color-semantic-danger-500)]",children:v.password_confirmation.message})]}),a.jsx("div",{className:"text-xs text-[var(--color-text-muted)]",children:a.jsx("p",{children:e("auth.resetPassword.passwordRequirements",{defaultValue:"Password must be at least 8 characters long"})})}),a.jsx(se,{type:"submit",className:"w-full",loading:r,disabled:r,children:e("auth.resetPassword.submit",{defaultValue:"Reset Password"})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx(Is,{to:"/login",className:"text-sm text-[var(--color-semantic-primary-500)] hover:text-[var(--color-semantic-primary-600)]",children:e("auth.resetPassword.backToLogin",{defaultValue:"Back to Sign In"})})})]})]})]})})},Uu=x.createContext({});function Kx(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const zi=typeof window<"u",Qx=zi?x.useLayoutEffect:x.useEffect,Hi=x.createContext(null);function Ki(e,t){e.indexOf(t)===-1&&e.push(t)}function Qi(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const $t=(e,t,s)=>s>t?t:s<e?e:s;let Zi=()=>{};const Wt={},Bu=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function $u(e){return typeof e=="object"&&e!==null}const Wu=e=>/^0[^.\s]+$/u.test(e);function Yi(e){let t;return()=>(t===void 0&&(t=e()),t)}const pt=e=>e,Zx=(e,t)=>s=>t(e(s)),Ur=(...e)=>e.reduce(Zx),Cr=(e,t,s)=>{const r=t-e;return r===0?1:(s-e)/r};class Gi{constructor(){this.subscriptions=[]}add(t){return Ki(this.subscriptions,t),()=>Qi(this.subscriptions,t)}notify(t,s,r){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](t,s,r);else for(let i=0;i<n;i++){const o=this.subscriptions[i];o&&o(t,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Et=e=>e*1e3,Rt=e=>e/1e3;function qu(e,t){return t?e*(1e3/t):0}const zu=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,Yx=1e-7,Gx=12;function Xx(e,t,s,r,n){let i,o,l=0;do o=t+(s-t)/2,i=zu(o,r,n)-e,i>0?s=o:t=o;while(Math.abs(i)>Yx&&++l<Gx);return o}function Br(e,t,s,r){if(e===t&&s===r)return pt;const n=i=>Xx(i,0,1,e,s);return i=>i===0||i===1?i:zu(n(i),t,r)}const Hu=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ku=e=>t=>1-e(1-t),Qu=Br(.33,1.53,.69,.99),Xi=Ku(Qu),Zu=Hu(Xi),Yu=e=>(e*=2)<1?.5*Xi(e):.5*(2-Math.pow(2,-10*(e-1))),Ji=e=>1-Math.sin(Math.acos(e)),Gu=Ku(Ji),Xu=Hu(Ji),Jx=Br(.42,0,1,1),ev=Br(0,0,.58,1),Ju=Br(.42,0,.58,1),tv=e=>Array.isArray(e)&&typeof e[0]!="number",eh=e=>Array.isArray(e)&&typeof e[0]=="number",sv={linear:pt,easeIn:Jx,easeInOut:Ju,easeOut:ev,circIn:Ji,circInOut:Xu,circOut:Gu,backIn:Xi,backInOut:Zu,backOut:Qu,anticipate:Yu},rv=e=>typeof e=="string",Kl=e=>{if(eh(e)){Zi(e.length===4);const[t,s,r,n]=e;return Br(t,s,r,n)}else if(rv(e))return sv[e];return e},Gr=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function nv(e,t){let s=new Set,r=new Set,n=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){o.has(d)&&(u.schedule(d),e()),d(l)}const u={schedule:(d,h=!1,f=!1)=>{const m=f&&n?s:r;return h&&o.add(d),m.has(d)||m.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(l=d,n){i=!0;return}n=!0,[s,r]=[r,s],s.forEach(c),s.clear(),n=!1,i&&(i=!1,u.process(d))}};return u}const av=40;function th(e,t){let s=!1,r=!0;const n={delta:0,timestamp:0,isProcessing:!1},i=()=>s=!0,o=Gr.reduce((j,P)=>(j[P]=nv(i),j),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:y,postRender:m}=o,p=()=>{const j=Wt.useManualTiming?n.timestamp:performance.now();s=!1,Wt.useManualTiming||(n.delta=r?1e3/60:Math.max(Math.min(j-n.timestamp,av),1)),n.timestamp=j,n.isProcessing=!0,l.process(n),c.process(n),u.process(n),d.process(n),h.process(n),f.process(n),y.process(n),m.process(n),n.isProcessing=!1,s&&t&&(r=!1,e(p))},g=()=>{s=!0,r=!0,n.isProcessing||e(p)};return{schedule:Gr.reduce((j,P)=>{const _=o[P];return j[P]=(M,F=!1,T=!1)=>(s||g(),_.schedule(M,F,T)),j},{}),cancel:j=>{for(let P=0;P<Gr.length;P++)o[Gr[P]].cancel(j)},state:n,steps:o}}const{schedule:ve,cancel:ts,state:$e,steps:xa}=th(typeof requestAnimationFrame<"u"?requestAnimationFrame:pt,!0);let un;function iv(){un=void 0}const Je={now:()=>(un===void 0&&Je.set($e.isProcessing||Wt.useManualTiming?$e.timestamp:performance.now()),un),set:e=>{un=e,queueMicrotask(iv)}},sh=e=>t=>typeof t=="string"&&t.startsWith(e),eo=sh("--"),ov=sh("var(--"),to=e=>ov(e)?lv.test(e.split("/*")[0].trim()):!1,lv=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Gs={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},_r={...Gs,transform:e=>$t(0,1,e)},Xr={...Gs,default:1},pr=e=>Math.round(e*1e5)/1e5,so=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function cv(e){return e==null}const dv=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ro=(e,t)=>s=>!!(typeof s=="string"&&dv.test(s)&&s.startsWith(e)||t&&!cv(s)&&Object.prototype.hasOwnProperty.call(s,t)),rh=(e,t,s)=>r=>{if(typeof r!="string")return r;const[n,i,o,l]=r.match(so);return{[e]:parseFloat(n),[t]:parseFloat(i),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},uv=e=>$t(0,255,e),va={...Gs,transform:e=>Math.round(uv(e))},hs={test:ro("rgb","red"),parse:rh("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:r=1})=>"rgba("+va.transform(e)+", "+va.transform(t)+", "+va.transform(s)+", "+pr(_r.transform(r))+")"};function hv(e){let t="",s="",r="",n="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),r=e.substring(5,7),n=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),r=e.substring(3,4),n=e.substring(4,5),t+=t,s+=s,r+=r,n+=n),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:n?parseInt(n,16)/255:1}}const ri={test:ro("#"),parse:hv,transform:hs.transform},$r=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Kt=$r("deg"),Mt=$r("%"),Q=$r("px"),fv=$r("vh"),mv=$r("vw"),Ql={...Mt,parse:e=>Mt.parse(e)/100,transform:e=>Mt.transform(e*100)},Ps={test:ro("hsl","hue"),parse:rh("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:r=1})=>"hsla("+Math.round(e)+", "+Mt.transform(pr(t))+", "+Mt.transform(pr(s))+", "+pr(_r.transform(r))+")"},Ae={test:e=>hs.test(e)||ri.test(e)||Ps.test(e),parse:e=>hs.test(e)?hs.parse(e):Ps.test(e)?Ps.parse(e):ri.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?hs.transform(e):Ps.transform(e),getAnimatableNone:e=>{const t=Ae.parse(e);return t.alpha=0,Ae.transform(t)}},pv=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function gv(e){return isNaN(e)&&typeof e=="string"&&(e.match(so)?.length||0)+(e.match(pv)?.length||0)>0}const nh="number",ah="color",yv="var",xv="var(",Zl="${}",vv=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pr(e){const t=e.toString(),s=[],r={color:[],number:[],var:[]},n=[];let i=0;const l=t.replace(vv,c=>(Ae.test(c)?(r.color.push(i),n.push(ah),s.push(Ae.parse(c))):c.startsWith(xv)?(r.var.push(i),n.push(yv),s.push(c)):(r.number.push(i),n.push(nh),s.push(parseFloat(c))),++i,Zl)).split(Zl);return{values:s,split:l,indexes:r,types:n}}function ih(e){return Pr(e).values}function oh(e){const{split:t,types:s}=Pr(e),r=t.length;return n=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],n[o]!==void 0){const l=s[o];l===nh?i+=pr(n[o]):l===ah?i+=Ae.transform(n[o]):i+=n[o]}return i}}const bv=e=>typeof e=="number"?0:Ae.test(e)?Ae.getAnimatableNone(e):e;function wv(e){const t=ih(e);return oh(e)(t.map(bv))}const ss={test:gv,parse:ih,createTransformer:oh,getAnimatableNone:wv};function ba(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function jv({hue:e,saturation:t,lightness:s,alpha:r}){e/=360,t/=100,s/=100;let n=0,i=0,o=0;if(!t)n=i=o=s;else{const l=s<.5?s*(1+t):s+t-s*t,c=2*s-l;n=ba(c,l,e+1/3),i=ba(c,l,e),o=ba(c,l,e-1/3)}return{red:Math.round(n*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function An(e,t){return s=>s>0?t:e}const we=(e,t,s)=>e+(t-e)*s,wa=(e,t,s)=>{const r=e*e,n=s*(t*t-r)+r;return n<0?0:Math.sqrt(n)},Nv=[ri,hs,Ps],Tv=e=>Nv.find(t=>t.test(e));function Yl(e){const t=Tv(e);if(!t)return!1;let s=t.parse(e);return t===Ps&&(s=jv(s)),s}const Gl=(e,t)=>{const s=Yl(e),r=Yl(t);if(!s||!r)return An(e,t);const n={...s};return i=>(n.red=wa(s.red,r.red,i),n.green=wa(s.green,r.green,i),n.blue=wa(s.blue,r.blue,i),n.alpha=we(s.alpha,r.alpha,i),hs.transform(n))},ni=new Set(["none","hidden"]);function Sv(e,t){return ni.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function kv(e,t){return s=>we(e,t,s)}function no(e){return typeof e=="number"?kv:typeof e=="string"?to(e)?An:Ae.test(e)?Gl:Pv:Array.isArray(e)?lh:typeof e=="object"?Ae.test(e)?Gl:Cv:An}function lh(e,t){const s=[...e],r=s.length,n=e.map((i,o)=>no(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)s[o]=n[o](i);return s}}function Cv(e,t){const s={...e,...t},r={};for(const n in s)e[n]!==void 0&&t[n]!==void 0&&(r[n]=no(e[n])(e[n],t[n]));return n=>{for(const i in r)s[i]=r[i](n);return s}}function _v(e,t){const s=[],r={color:0,var:0,number:0};for(let n=0;n<t.values.length;n++){const i=t.types[n],o=e.indexes[i][r[i]],l=e.values[o]??0;s[n]=l,r[i]++}return s}const Pv=(e,t)=>{const s=ss.createTransformer(t),r=Pr(e),n=Pr(t);return r.indexes.var.length===n.indexes.var.length&&r.indexes.color.length===n.indexes.color.length&&r.indexes.number.length>=n.indexes.number.length?ni.has(e)&&!n.values.length||ni.has(t)&&!r.values.length?Sv(e,t):Ur(lh(_v(r,n),n.values),s):An(e,t)};function ch(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?we(e,t,s):no(e)(e,t)}const Av=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>ve.update(t,s),stop:()=>ts(t),now:()=>$e.isProcessing?$e.timestamp:Je.now()}},dh=(e,t,s=10)=>{let r="";const n=Math.max(Math.round(t/s),2);for(let i=0;i<n;i++)r+=Math.round(e(i/(n-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Dn=2e4;function ao(e){let t=0;const s=50;let r=e.next(t);for(;!r.done&&t<Dn;)t+=s,r=e.next(t);return t>=Dn?1/0:t}function Dv(e,t=100,s){const r=s({...e,keyframes:[0,t]}),n=Math.min(ao(r),Dn);return{type:"keyframes",ease:i=>r.next(n*i).value/t,duration:Rt(n)}}const Ev=5;function uh(e,t,s){const r=Math.max(t-Ev,0);return qu(s-e(r),t-r)}const Ne={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ja=.001;function Rv({duration:e=Ne.duration,bounce:t=Ne.bounce,velocity:s=Ne.velocity,mass:r=Ne.mass}){let n,i,o=1-t;o=$t(Ne.minDamping,Ne.maxDamping,o),e=$t(Ne.minDuration,Ne.maxDuration,Rt(e)),o<1?(n=u=>{const d=u*o,h=d*e,f=d-s,y=ai(u,o),m=Math.exp(-h);return ja-f/y*m},i=u=>{const h=u*o*e,f=h*s+s,y=Math.pow(o,2)*Math.pow(u,2)*e,m=Math.exp(-h),p=ai(Math.pow(u,2),o);return(-n(u)+ja>0?-1:1)*((f-y)*m)/p}):(n=u=>{const d=Math.exp(-u*e),h=(u-s)*e+1;return-ja+d*h},i=u=>{const d=Math.exp(-u*e),h=(s-u)*(e*e);return d*h});const l=5/e,c=Ov(n,i,l);if(e=Et(e),isNaN(c))return{stiffness:Ne.stiffness,damping:Ne.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const Mv=12;function Ov(e,t,s){let r=s;for(let n=1;n<Mv;n++)r=r-e(r)/t(r);return r}function ai(e,t){return e*Math.sqrt(1-t*t)}const Vv=["duration","bounce"],Fv=["stiffness","damping","mass"];function Xl(e,t){return t.some(s=>e[s]!==void 0)}function Lv(e){let t={velocity:Ne.velocity,stiffness:Ne.stiffness,damping:Ne.damping,mass:Ne.mass,isResolvedFromDuration:!1,...e};if(!Xl(e,Fv)&&Xl(e,Vv))if(e.visualDuration){const s=e.visualDuration,r=2*Math.PI/(s*1.2),n=r*r,i=2*$t(.05,1,1-(e.bounce||0))*Math.sqrt(n);t={...t,mass:Ne.mass,stiffness:n,damping:i}}else{const s=Rv(e);t={...t,...s,mass:Ne.mass},t.isResolvedFromDuration=!0}return t}function En(e=Ne.visualDuration,t=Ne.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:n}=s;const i=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:y}=Lv({...s,velocity:-Rt(s.velocity||0)}),m=f||0,p=u/(2*Math.sqrt(c*d)),g=o-i,v=Rt(Math.sqrt(c/d)),b=Math.abs(g)<5;r||(r=b?Ne.restSpeed.granular:Ne.restSpeed.default),n||(n=b?Ne.restDelta.granular:Ne.restDelta.default);let j;if(p<1){const _=ai(v,p);j=M=>{const F=Math.exp(-p*v*M);return o-F*((m+p*v*g)/_*Math.sin(_*M)+g*Math.cos(_*M))}}else if(p===1)j=_=>o-Math.exp(-v*_)*(g+(m+v*g)*_);else{const _=v*Math.sqrt(p*p-1);j=M=>{const F=Math.exp(-p*v*M),T=Math.min(_*M,300);return o-F*((m+p*v*g)*Math.sinh(T)+_*g*Math.cosh(T))/_}}const P={calculatedDuration:y&&h||null,next:_=>{const M=j(_);if(y)l.done=_>=h;else{let F=_===0?m:0;p<1&&(F=_===0?Et(m):uh(j,_,M));const T=Math.abs(F)<=r,q=Math.abs(o-M)<=n;l.done=T&&q}return l.value=l.done?o:M,l},toString:()=>{const _=Math.min(ao(P),Dn),M=dh(F=>P.next(_*F).value,_,30);return _+"ms "+M},toTransition:()=>{}};return P}En.applyToOptions=e=>{const t=Dv(e,100,En);return e.ease=t.ease,e.duration=Et(t.duration),e.type="keyframes",e};function ii({keyframes:e,velocity:t=0,power:s=.8,timeConstant:r=325,bounceDamping:n=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},y=T=>l!==void 0&&T<l||c!==void 0&&T>c,m=T=>l===void 0?c:c===void 0||Math.abs(l-T)<Math.abs(c-T)?l:c;let p=s*t;const g=h+p,v=o===void 0?g:o(g);v!==g&&(p=v-h);const b=T=>-p*Math.exp(-T/r),j=T=>v+b(T),P=T=>{const q=b(T),te=j(T);f.done=Math.abs(q)<=u,f.value=f.done?v:te};let _,M;const F=T=>{y(f.value)&&(_=T,M=En({keyframes:[f.value,m(f.value)],velocity:uh(j,T,f.value),damping:n,stiffness:i,restDelta:u,restSpeed:d}))};return F(0),{calculatedDuration:null,next:T=>{let q=!1;return!M&&_===void 0&&(q=!0,P(T),F(T)),_!==void 0&&T>=_?M.next(T-_):(!q&&P(T),f)}}}function Iv(e,t,s){const r=[],n=s||Wt.mix||ch,i=e.length-1;for(let o=0;o<i;o++){let l=n(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||pt:t;l=Ur(c,l)}r.push(l)}return r}function Uv(e,t,{clamp:s=!0,ease:r,mixer:n}={}){const i=e.length;if(Zi(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Iv(t,r,n),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=Cr(e[h],e[h+1],d);return l[h](f)};return s?d=>u($t(e[0],e[i-1],d)):u}function Bv(e,t){const s=e[e.length-1];for(let r=1;r<=t;r++){const n=Cr(0,t,r);e.push(we(s,1,n))}}function $v(e){const t=[0];return Bv(t,e.length-1),t}function Wv(e,t){return e.map(s=>s*t)}function qv(e,t){return e.map(()=>t||Ju).splice(0,e.length-1)}function gr({duration:e=300,keyframes:t,times:s,ease:r="easeInOut"}){const n=tv(r)?r.map(Kl):Kl(r),i={done:!1,value:t[0]},o=Wv(s&&s.length===t.length?s:$v(t),e),l=Uv(o,t,{ease:Array.isArray(n)?n:qv(t,n)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const zv=e=>e!==null;function io(e,{repeat:t,repeatType:s="loop"},r,n=1){const i=e.filter(zv),l=n<0||t&&s!=="loop"&&t%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const Hv={decay:ii,inertia:ii,tween:gr,keyframes:gr,spring:En};function hh(e){typeof e.type=="string"&&(e.type=Hv[e.type])}class oo{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const Kv=e=>e/100;class lo extends oo{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==Je.now()&&this.tick(Je.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;hh(t);const{type:s=gr,repeat:r=0,repeatDelay:n=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=s||gr;c!==gr&&typeof l[0]!="number"&&(this.mixKeyframes=Ur(Kv,ch(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=ao(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+n,this.totalDuration=this.resolvedDuration*(r+1)-n,this.generator=u}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:r,totalDuration:n,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:y,type:m,onUpdate:p,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-n/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const v=this.currentTime-u*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?v<0:v>n;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=n);let j=this.currentTime,P=r;if(h){const T=Math.min(this.currentTime,n)/l;let q=Math.floor(T),te=T%1;!te&&T>=1&&(te=1),te===1&&q--,q=Math.min(q,h+1),!!(q%2)&&(f==="reverse"?(te=1-te,y&&(te-=y/l)):f==="mirror"&&(P=o)),j=$t(0,1,te)*l}const _=b?{done:!1,value:d[0]}:P.next(j);i&&(_.value=i(_.value));let{done:M}=_;!b&&c!==null&&(M=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return F&&m!==ii&&(_.value=io(d,this.options,g,this.speed)),p&&p(_.value),F&&this.finish(),_}then(t,s){return this.finished.then(t,s)}get duration(){return Rt(this.calculatedDuration)}get time(){return Rt(this.currentTime)}set time(t){t=Et(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Je.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=Rt(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=Av,startTime:s}=this.options;this.driver||(this.driver=t(n=>this.tick(n))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=s??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Je.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function Qv(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const fs=e=>e*180/Math.PI,oi=e=>{const t=fs(Math.atan2(e[1],e[0]));return li(t)},Zv={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:oi,rotateZ:oi,skewX:e=>fs(Math.atan(e[1])),skewY:e=>fs(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},li=e=>(e=e%360,e<0&&(e+=360),e),Jl=oi,ec=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),tc=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Yv={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ec,scaleY:tc,scale:e=>(ec(e)+tc(e))/2,rotateX:e=>li(fs(Math.atan2(e[6],e[5]))),rotateY:e=>li(fs(Math.atan2(-e[2],e[0]))),rotateZ:Jl,rotate:Jl,skewX:e=>fs(Math.atan(e[4])),skewY:e=>fs(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function ci(e){return e.includes("scale")?1:0}function di(e,t){if(!e||e==="none")return ci(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,n;if(s)r=Yv,n=s;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Zv,n=l}if(!n)return ci(t);const i=r[t],o=n[1].split(",").map(Xv);return typeof i=="function"?i(o):o[i]}const Gv=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return di(s,t)};function Xv(e){return parseFloat(e.trim())}const Xs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Js=new Set(Xs),sc=e=>e===Gs||e===Q,Jv=new Set(["x","y","z"]),e0=Xs.filter(e=>!Jv.has(e));function t0(e){const t=[];return e0.forEach(s=>{const r=e.getValue(s);r!==void 0&&(t.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),t}const gs={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>di(t,"x"),y:(e,{transform:t})=>di(t,"y")};gs.translateX=gs.x;gs.translateY=gs.y;const ys=new Set;let ui=!1,hi=!1,fi=!1;function fh(){if(hi){const e=Array.from(ys).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),s=new Map;t.forEach(r=>{const n=t0(r);n.length&&(s.set(r,n),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const n=s.get(r);n&&n.forEach(([i,o])=>{r.getValue(i)?.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}hi=!1,ui=!1,ys.forEach(e=>e.complete(fi)),ys.clear()}function mh(){ys.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(hi=!0)})}function s0(){fi=!0,mh(),fh(),fi=!1}class co{constructor(t,s,r,n,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=r,this.motionValue=n,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ys.add(this),ui||(ui=!0,ve.read(mh),ve.resolveKeyframes(fh))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:r,motionValue:n}=this;if(t[0]===null){const i=n?.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&s){const l=r.readValue(s,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),n&&i===void 0&&n.set(t[0])}Qv(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ys.delete(this)}cancel(){this.state==="scheduled"&&(ys.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const r0=e=>e.startsWith("--");function n0(e,t,s){r0(t)?e.style.setProperty(t,s):e.style[t]=s}const a0=Yi(()=>window.ScrollTimeline!==void 0),i0={};function o0(e,t){const s=Yi(e);return()=>i0[t]??s()}const ph=o0(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),hr=([e,t,s,r])=>`cubic-bezier(${e}, ${t}, ${s}, ${r})`,rc={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hr([0,.65,.55,1]),circOut:hr([.55,0,1,.45]),backIn:hr([.31,.01,.66,-.59]),backOut:hr([.33,1.53,.69,.99])};function gh(e,t){if(e)return typeof e=="function"?ph()?dh(e,t):"ease-out":eh(e)?hr(e):Array.isArray(e)?e.map(s=>gh(s,t)||rc.easeOut):rc[e]}function l0(e,t,s,{delay:r=0,duration:n=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:s};c&&(d.offset=c);const h=gh(l,n);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:n,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),e.animate(d,f)}function yh(e){return typeof e=="function"&&"applyToOptions"in e}function c0({type:e,...t}){return yh(e)&&ph()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class d0 extends oo{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:r,keyframes:n,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Zi(typeof t.type!="string");const u=c0(t);this.animation=l0(s,r,n,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=io(n,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):n0(s,r,d),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Rt(Number(t))}get time(){return Rt(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Et(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&a0()?(this.animation.timeline=t,pt):s(this)}}const xh={anticipate:Yu,backInOut:Zu,circInOut:Xu};function u0(e){return e in xh}function h0(e){typeof e.ease=="string"&&u0(e.ease)&&(e.ease=xh[e.ease])}const nc=10;class f0 extends d0{constructor(t){h0(t),hh(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:r,onComplete:n,element:i,...o}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const l=new lo({...o,autoplay:!1}),c=Et(this.finishedTime??this.time);s.setWithVelocity(l.sample(c-nc).value,l.sample(c).value,nc),l.stop()}}const ac=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ss.test(e)||e==="0")&&!e.startsWith("url("));function m0(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function p0(e,t,s,r){const n=e[0];if(n===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=ac(n,t),l=ac(i,t);return!o||!l?!1:m0(e)||(s==="spring"||yh(s))&&r}function mi(e){e.duration=0,e.type}const g0=new Set(["opacity","clipPath","filter","transform"]),y0=Yi(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function x0(e){const{motionValue:t,name:s,repeatDelay:r,repeatType:n,damping:i,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return y0()&&s&&g0.has(s)&&(s!=="transform"||!u)&&!c&&!r&&n!=="mirror"&&i!==0&&o!=="inertia"}const v0=40;class b0 extends oo{constructor({autoplay:t=!0,delay:s=0,type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Je.now();const f={autoplay:t,delay:s,type:r,repeat:n,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:d,...h},y=d?.KeyframeResolver||co;this.keyframeResolver=new y(l,(m,p,g)=>this.onKeyframesResolved(m,p,f,!g),c,u,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,s,r,n){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=Je.now(),p0(t,i,o,l)||((Wt.instantAnimations||!c)&&d?.(io(t,r,s)),t[0]=t[t.length-1],mi(r),r.repeat=0);const f={startTime:n?this.resolvedAt?this.resolvedAt-this.createdAt>v0?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...r,keyframes:t},y=!u&&x0(f)?new f0({...f,element:f.motionValue.owner.current}):new lo(f);y.finished.then(()=>this.notifyFinished()).catch(pt),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),s0()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const w0=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function j0(e){const t=w0.exec(e);if(!t)return[,];const[,s,r,n]=t;return[`--${s??r}`,n]}function vh(e,t,s=1){const[r,n]=j0(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return Bu(o)?parseFloat(o):o}return to(n)?vh(n,t,s+1):n}function uo(e,t){return e?.[t]??e?.default??e}const bh=new Set(["width","height","top","left","right","bottom",...Xs]),N0={test:e=>e==="auto",parse:e=>e},wh=e=>t=>t.test(e),jh=[Gs,Q,Mt,Kt,mv,fv,N0],ic=e=>jh.find(wh(e));function T0(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Wu(e):!0}const S0=new Set(["brightness","contrast","saturate","opacity"]);function k0(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=s.match(so)||[];if(!r)return e;const n=s.replace(r,"");let i=S0.has(t)?1:0;return r!==s&&(i*=100),t+"("+i+n+")"}const C0=/\b([a-z-]*)\(.*?\)/gu,pi={...ss,getAnimatableNone:e=>{const t=e.match(C0);return t?t.map(k0).join(" "):e}},oc={...Gs,transform:Math.round},_0={rotate:Kt,rotateX:Kt,rotateY:Kt,rotateZ:Kt,scale:Xr,scaleX:Xr,scaleY:Xr,scaleZ:Xr,skew:Kt,skewX:Kt,skewY:Kt,distance:Q,translateX:Q,translateY:Q,translateZ:Q,x:Q,y:Q,z:Q,perspective:Q,transformPerspective:Q,opacity:_r,originX:Ql,originY:Ql,originZ:Q},ho={borderWidth:Q,borderTopWidth:Q,borderRightWidth:Q,borderBottomWidth:Q,borderLeftWidth:Q,borderRadius:Q,radius:Q,borderTopLeftRadius:Q,borderTopRightRadius:Q,borderBottomRightRadius:Q,borderBottomLeftRadius:Q,width:Q,maxWidth:Q,height:Q,maxHeight:Q,top:Q,right:Q,bottom:Q,left:Q,padding:Q,paddingTop:Q,paddingRight:Q,paddingBottom:Q,paddingLeft:Q,margin:Q,marginTop:Q,marginRight:Q,marginBottom:Q,marginLeft:Q,backgroundPositionX:Q,backgroundPositionY:Q,..._0,zIndex:oc,fillOpacity:_r,strokeOpacity:_r,numOctaves:oc},P0={...ho,color:Ae,backgroundColor:Ae,outlineColor:Ae,fill:Ae,stroke:Ae,borderColor:Ae,borderTopColor:Ae,borderRightColor:Ae,borderBottomColor:Ae,borderLeftColor:Ae,filter:pi,WebkitFilter:pi},Nh=e=>P0[e];function Th(e,t){let s=Nh(e);return s!==pi&&(s=ss),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const A0=new Set(["auto","none","0"]);function D0(e,t,s){let r=0,n;for(;r<e.length&&!n;){const i=e[r];typeof i=="string"&&!A0.has(i)&&Pr(i).values.length&&(n=e[r]),r++}if(n&&s)for(const i of t)e[i]=Th(s,n)}class E0 extends co{constructor(t,s,r,n,i){super(t,s,r,n,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),to(u))){const d=vh(u,s.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!bh.has(r)||t.length!==2)return;const[n,i]=t,o=ic(n),l=ic(i);if(o!==l)if(sc(o)&&sc(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else gs[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,r=[];for(let n=0;n<t.length;n++)(t[n]===null||T0(t[n]))&&r.push(n);r.length&&D0(t,r,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gs[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const n=s[s.length-1];n!==void 0&&t.getValue(r,n).jump(n,!1)}measureEndState(){const{element:t,name:s,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const n=t.getValue(s);n&&n.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=gs[s](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function R0(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const n=s?.[e]??r.querySelectorAll(e);return n?Array.from(n):[]}return Array.from(e)}const Sh=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function M0(e){return $u(e)&&"offsetHeight"in e}const lc=30,O0=e=>!isNaN(parseFloat(e));class V0{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const n=Je.now();if(this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Je.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=O0(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Gi);const r=this.events[t].add(s);return t==="change"?()=>{r(),ve.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Je.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>lc)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,lc);return qu(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hs(e,t){return new V0(e,t)}const{schedule:fo}=th(queueMicrotask,!1),xt={x:!1,y:!1};function kh(){return xt.x||xt.y}function F0(e){return e==="x"||e==="y"?xt[e]?null:(xt[e]=!0,()=>{xt[e]=!1}):xt.x||xt.y?null:(xt.x=xt.y=!0,()=>{xt.x=xt.y=!1})}function Ch(e,t){const s=R0(e),r=new AbortController,n={passive:!0,...t,signal:r.signal};return[s,n,()=>r.abort()]}function cc(e){return!(e.pointerType==="touch"||kh())}function L0(e,t,s={}){const[r,n,i]=Ch(e,s),o=l=>{if(!cc(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=h=>{cc(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,n)};return r.forEach(l=>{l.addEventListener("pointerenter",o,n)}),i}const _h=(e,t)=>t?e===t?!0:_h(e,t.parentElement):!1,mo=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,I0=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function U0(e){return I0.has(e.tagName)||e.tabIndex!==-1}const hn=new WeakSet;function dc(e){return t=>{t.key==="Enter"&&e(t)}}function Na(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const B0=(e,t)=>{const s=e.currentTarget;if(!s)return;const r=dc(()=>{if(hn.has(s))return;Na(s,"down");const n=dc(()=>{Na(s,"up")}),i=()=>Na(s,"cancel");s.addEventListener("keyup",n,t),s.addEventListener("blur",i,t)});s.addEventListener("keydown",r,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),t)};function uc(e){return mo(e)&&!kh()}function $0(e,t,s={}){const[r,n,i]=Ch(e,s),o=l=>{const c=l.currentTarget;if(!uc(l))return;hn.add(c);const u=t(c,l),d=(y,m)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),hn.has(c)&&hn.delete(c),uc(y)&&typeof u=="function"&&u(y,{success:m})},h=y=>{d(y,c===window||c===document||s.useGlobalTarget||_h(c,y.target))},f=y=>{d(y,!1)};window.addEventListener("pointerup",h,n),window.addEventListener("pointercancel",f,n)};return r.forEach(l=>{(s.useGlobalTarget?window:l).addEventListener("pointerdown",o,n),M0(l)&&(l.addEventListener("focus",u=>B0(u,n)),!U0(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function Ph(e){return $u(e)&&"ownerSVGElement"in e}function W0(e){return Ph(e)&&e.tagName==="svg"}const qe=e=>!!(e&&e.getVelocity),q0=[...jh,Ae,ss],z0=e=>q0.find(wh(e)),Ah=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function H0(e=!0){const t=x.useContext(Hi);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:n}=t,i=x.useId();x.useEffect(()=>{if(e)return n(i)},[e]);const o=x.useCallback(()=>e&&r&&r(i),[i,r,e]);return!s&&r?[!1,o]:[!0]}const Dh=x.createContext({strict:!1}),hc={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ks={};for(const e in hc)Ks[e]={isEnabled:t=>hc[e].some(s=>!!t[s])};function K0(e){for(const t in e)Ks[t]={...Ks[t],...e[t]}}const Q0=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Rn(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Q0.has(e)}let Eh=e=>!Rn(e);function Z0(e){typeof e=="function"&&(Eh=t=>t.startsWith("on")?!Rn(t):e(t))}try{Z0(require("@emotion/is-prop-valid").default)}catch{}function Y0(e,t,s){const r={};for(const n in e)n==="values"&&typeof e.values=="object"||(Eh(n)||s===!0&&Rn(n)||!t&&!Rn(n)||e.draggable&&n.startsWith("onDrag"))&&(r[n]=e[n]);return r}const Zn=x.createContext({});function Yn(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ar(e){return typeof e=="string"||Array.isArray(e)}const po=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],go=["initial",...po];function Gn(e){return Yn(e.animate)||go.some(t=>Ar(e[t]))}function Rh(e){return!!(Gn(e)||e.variants)}function G0(e,t){if(Gn(e)){const{initial:s,animate:r}=e;return{initial:s===!1||Ar(s)?s:void 0,animate:Ar(r)?r:void 0}}return e.inherit!==!1?t:{}}function X0(e){const{initial:t,animate:s}=G0(e,x.useContext(Zn));return x.useMemo(()=>({initial:t,animate:s}),[fc(t),fc(s)])}function fc(e){return Array.isArray(e)?e.join(" "):e}const Dr={};function J0(e){for(const t in e)Dr[t]=e[t],eo(t)&&(Dr[t].isCSSVariable=!0)}function Mh(e,{layout:t,layoutId:s}){return Js.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!Dr[e]||e==="opacity")}const eb={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tb=Xs.length;function sb(e,t,s){let r="",n=!0;for(let i=0;i<tb;i++){const o=Xs[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||s){const u=Sh(l,ho[o]);if(!c){n=!1;const d=eb[o]||o;r+=`${d}(${u}) `}s&&(t[o]=u)}}return r=r.trim(),s?r=s(t,n?"":r):n&&(r="none"),r}function yo(e,t,s){const{style:r,vars:n,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(Js.has(c)){o=!0;continue}else if(eo(c)){n[c]=u;continue}else{const d=Sh(u,ho[c]);c.startsWith("origin")?(l=!0,i[c]=d):r[c]=d}}if(t.transform||(o||s?r.transform=sb(t,e.transform,s):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const xo=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Oh(e,t,s){for(const r in t)!qe(t[r])&&!Mh(r,s)&&(e[r]=t[r])}function rb({transformTemplate:e},t){return x.useMemo(()=>{const s=xo();return yo(s,t,e),Object.assign({},s.vars,s.style)},[t])}function nb(e,t){const s=e.style||{},r={};return Oh(r,s,e),Object.assign(r,rb(e,t)),r}function ab(e,t){const s={},r=nb(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=r,s}const ib={offset:"stroke-dashoffset",array:"stroke-dasharray"},ob={offset:"strokeDashoffset",array:"strokeDasharray"};function lb(e,t,s=1,r=0,n=!0){e.pathLength=1;const i=n?ib:ob;e[i.offset]=Q.transform(-r);const o=Q.transform(t),l=Q.transform(s);e[i.array]=`${o} ${l}`}function Vh(e,{attrX:t,attrY:s,attrScale:r,pathLength:n,pathSpacing:i=1,pathOffset:o=0,...l},c,u,d){if(yo(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=d?.transformBox??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),s!==void 0&&(h.y=s),r!==void 0&&(h.scale=r),n!==void 0&&lb(h,n,i,o,!1)}const Fh=()=>({...xo(),attrs:{}}),Lh=e=>typeof e=="string"&&e.toLowerCase()==="svg";function cb(e,t,s,r){const n=x.useMemo(()=>{const i=Fh();return Vh(i,t,Lh(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Oh(i,e.style,e),n.style={...i,...n.style}}return n}const db=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vo(e){return typeof e!="string"||e.includes("-")?!1:!!(db.indexOf(e)>-1||/[A-Z]/u.test(e))}function ub(e,t,s,{latestValues:r},n,i=!1){const l=(vo(e)?cb:ab)(t,r,n,e),c=Y0(t,typeof e=="string",i),u=e!==x.Fragment?{...c,...l,ref:s}:{},{children:d}=t,h=x.useMemo(()=>qe(d)?d.get():d,[d]);return x.createElement(e,{...u,children:h})}function mc(e){const t=[{},{}];return e?.values.forEach((s,r)=>{t[0][r]=s.get(),t[1][r]=s.getVelocity()}),t}function bo(e,t,s,r){if(typeof t=="function"){const[n,i]=mc(r);t=t(s!==void 0?s:e.custom,n,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[n,i]=mc(r);t=t(s!==void 0?s:e.custom,n,i)}return t}function fn(e){return qe(e)?e.get():e}function hb({scrapeMotionValuesFromProps:e,createRenderState:t},s,r,n){return{latestValues:fb(s,r,n,e),renderState:t()}}function fb(e,t,s,r){const n={},i=r(e,{});for(const f in i)n[f]=fn(i[f]);let{initial:o,animate:l}=e;const c=Gn(e),u=Rh(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=s?s.initial===!1:!1;d=d||o===!1;const h=d?l:o;if(h&&typeof h!="boolean"&&!Yn(h)){const f=Array.isArray(h)?h:[h];for(let y=0;y<f.length;y++){const m=bo(e,f[y]);if(m){const{transitionEnd:p,transition:g,...v}=m;for(const b in v){let j=v[b];if(Array.isArray(j)){const P=d?j.length-1:0;j=j[P]}j!==null&&(n[b]=j)}for(const b in p)n[b]=p[b]}}}return n}const Ih=e=>(t,s)=>{const r=x.useContext(Zn),n=x.useContext(Hi),i=()=>hb(e,t,r,n);return s?i():Kx(i)};function wo(e,t,s){const{style:r}=e,n={};for(const i in r)(qe(r[i])||t.style&&qe(t.style[i])||Mh(i,e)||s?.getValue(i)?.liveStyle!==void 0)&&(n[i]=r[i]);return n}const mb=Ih({scrapeMotionValuesFromProps:wo,createRenderState:xo});function Uh(e,t,s){const r=wo(e,t,s);for(const n in e)if(qe(e[n])||qe(t[n])){const i=Xs.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[i]=e[n]}return r}const pb=Ih({scrapeMotionValuesFromProps:Uh,createRenderState:Fh}),gb=Symbol.for("motionComponentSymbol");function As(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function yb(e,t,s){return x.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),s&&(typeof s=="function"?s(r):As(s)&&(s.current=r))},[t])}const jo=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),xb="framerAppearId",Bh="data-"+jo(xb),$h=x.createContext({});function vb(e,t,s,r,n){const{visualElement:i}=x.useContext(Zn),o=x.useContext(Dh),l=x.useContext(Hi),c=x.useContext(Ah).reducedMotion,u=x.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:i,props:s,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=x.useContext($h);d&&!d.projection&&n&&(d.type==="html"||d.type==="svg")&&bb(u.current,s,n,h);const f=x.useRef(!1);x.useInsertionEffect(()=>{d&&f.current&&d.update(s,l)});const y=s[Bh],m=x.useRef(!!y&&!window.MotionHandoffIsComplete?.(y)&&window.MotionHasOptimisedAnimation?.(y));return Qx(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),m.current&&d.animationState&&d.animationState.animateChanges())}),x.useEffect(()=>{d&&(!m.current&&d.animationState&&d.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(y)}),m.current=!1),d.enteringChildren=void 0)}),d}function bb(e,t,s,r){const{layoutId:n,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:Wh(e.parent)),e.projection.setOptions({layoutId:n,layout:i,alwaysMeasureLayout:!!o||l&&As(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function Wh(e){if(e)return e.options.allowProjection!==!1?e.projection:Wh(e.parent)}function Ta(e,{forwardMotionProps:t=!1}={},s,r){s&&K0(s);const n=vo(e)?pb:mb;function i(l,c){let u;const d={...x.useContext(Ah),...l,layoutId:wb(l)},{isStatic:h}=d,f=X0(l),y=n(l,h);if(!h&&zi){jb();const m=Nb(d);u=m.MeasureLayout,f.visualElement=vb(e,y,d,r,m.ProjectionNode)}return a.jsxs(Zn.Provider,{value:f,children:[u&&f.visualElement?a.jsx(u,{visualElement:f.visualElement,...d}):null,ub(e,l,yb(y,f.visualElement,c),y,h,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=x.forwardRef(i);return o[gb]=e,o}function wb({layoutId:e}){const t=x.useContext(Uu).id;return t&&e!==void 0?t+"-"+e:e}function jb(e,t){x.useContext(Dh).strict}function Nb(e){const{drag:t,layout:s}=Ks;if(!t&&!s)return{};const r={...t,...s};return{MeasureLayout:t?.isEnabled(e)||s?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Tb(e,t){if(typeof Proxy>"u")return Ta;const s=new Map,r=(i,o)=>Ta(i,o,e,t),n=(i,o)=>r(i,o);return new Proxy(n,{get:(i,o)=>o==="create"?r:(s.has(o)||s.set(o,Ta(o,void 0,e,t)),s.get(o))})}function qh({top:e,left:t,right:s,bottom:r}){return{x:{min:t,max:s},y:{min:e,max:r}}}function Sb({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function kb(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function Sa(e){return e===void 0||e===1}function gi({scale:e,scaleX:t,scaleY:s}){return!Sa(e)||!Sa(t)||!Sa(s)}function ls(e){return gi(e)||zh(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function zh(e){return pc(e.x)||pc(e.y)}function pc(e){return e&&e!=="0%"}function Mn(e,t,s){const r=e-s,n=t*r;return s+n}function gc(e,t,s,r,n){return n!==void 0&&(e=Mn(e,n,r)),Mn(e,s,r)+t}function yi(e,t=0,s=1,r,n){e.min=gc(e.min,t,s,r,n),e.max=gc(e.max,t,s,r,n)}function Hh(e,{x:t,y:s}){yi(e.x,t.translate,t.scale,t.originPoint),yi(e.y,s.translate,s.scale,s.originPoint)}const yc=.999999999999,xc=1.0000000000001;function Cb(e,t,s,r=!1){const n=s.length;if(!n)return;t.x=t.y=1;let i,o;for(let l=0;l<n;l++){i=s[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Es(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Hh(e,o)),r&&ls(i.latestValues)&&Es(e,i.latestValues))}t.x<xc&&t.x>yc&&(t.x=1),t.y<xc&&t.y>yc&&(t.y=1)}function Ds(e,t){e.min=e.min+t,e.max=e.max+t}function vc(e,t,s,r,n=.5){const i=we(e.min,e.max,n);yi(e,t,s,i,r)}function Es(e,t){vc(e.x,t.x,t.scaleX,t.scale,t.originX),vc(e.y,t.y,t.scaleY,t.scale,t.originY)}function Kh(e,t){return qh(kb(e.getBoundingClientRect(),t))}function _b(e,t,s){const r=Kh(e,s),{scroll:n}=t;return n&&(Ds(r.x,n.offset.x),Ds(r.y,n.offset.y)),r}const bc=()=>({translate:0,scale:1,origin:0,originPoint:0}),Rs=()=>({x:bc(),y:bc()}),wc=()=>({min:0,max:0}),ke=()=>({x:wc(),y:wc()}),xi={current:null},Qh={current:!1};function Pb(){if(Qh.current=!0,!!zi)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>xi.current=e.matches;e.addEventListener("change",t),t()}else xi.current=!1}const Ab=new WeakMap;function Db(e,t,s){for(const r in t){const n=t[r],i=s[r];if(qe(n))e.addValue(r,n);else if(qe(i))e.addValue(r,Hs(n,{owner:e}));else if(i!==n)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(n):o.hasAnimated||o.set(n)}else{const o=e.getStaticValue(r);e.addValue(r,Hs(o!==void 0?o:n,{owner:e}))}}for(const r in s)t[r]===void 0&&e.removeValue(r);return t}const jc=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Eb{scrapeMotionValuesFromProps(t,s,r){return{}}constructor({parent:t,props:s,presenceContext:r,reducedMotionConfig:n,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=co,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Je.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,ve.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=s,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=n,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Gn(s),this.isVariantNode=Rh(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(s,{},this);for(const f in h){const y=h[f];c[f]!==void 0&&qe(y)&&y.set(c[f])}}mount(t){this.current=t,Ab.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),Qh.current||Pb(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xi.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ts(this.notifyUpdate),ts(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Js.has(t);r&&this.onBindTransform&&this.onBindTransform();const n=s.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&ve.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{n(),i&&i(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ks){const s=Ks[t];if(!s)continue;const{isEnabled:r,Feature:n}=s;if(!this.features[t]&&n&&r(this.props)&&(this.features[t]=new n(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ke()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<jc.length;r++){const n=jc[r];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const i="on"+n,o=t[i];o&&(this.propEventSubscriptions[n]=this.on(n,o))}this.prevMotionValues=Db(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const r=this.values.get(t);s!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&s!==void 0&&(r=Hs(s===null?void 0:s,{owner:this}),this.addValue(t,r)),r}readValue(t,s){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Bu(r)||Wu(r))?r=parseFloat(r):!z0(r)&&ss.test(s)&&(r=Th(t,s)),this.setBaseTarget(t,qe(r)?r.get():r)),qe(r)?r.get():r}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const i=bo(this.props,s,this.presenceContext?.custom);i&&(r=i[t])}if(s&&r!==void 0)return r;const n=this.getBaseTargetFromProps(this.props,t);return n!==void 0&&!qe(n)?n:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Gi),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){fo.render(this.render)}}class Zh extends Eb{constructor(){super(...arguments),this.KeyframeResolver=E0}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:r}){delete s[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;qe(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function Yh(e,{style:t,vars:s},r,n){const i=e.style;let o;for(o in t)i[o]=t[o];n?.applyProjectionStyles(i,r);for(o in s)i.setProperty(o,s[o])}function Rb(e){return window.getComputedStyle(e)}class Mb extends Zh{constructor(){super(...arguments),this.type="html",this.renderInstance=Yh}readValueFromInstance(t,s){if(Js.has(s))return this.projection?.isProjecting?ci(s):Gv(t,s);{const r=Rb(t),n=(eo(s)?r.getPropertyValue(s):r[s])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(t,{transformPagePoint:s}){return Kh(t,s)}build(t,s,r){yo(t,s,r.transformTemplate)}scrapeMotionValuesFromProps(t,s,r){return wo(t,s,r)}}const Gh=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ob(e,t,s,r){Yh(e,t,void 0,r);for(const n in t.attrs)e.setAttribute(Gh.has(n)?n:jo(n),t.attrs[n])}class Vb extends Zh{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ke}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Js.has(s)){const r=Nh(s);return r&&r.default||0}return s=Gh.has(s)?s:jo(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,r){return Uh(t,s,r)}build(t,s,r){Vh(t,s,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,s,r,n){Ob(t,s,r,n)}mount(t){this.isSVGTag=Lh(t.tagName),super.mount(t)}}const Fb=(e,t)=>vo(e)?new Vb(t):new Mb(t,{allowProjection:e!==x.Fragment});function Fs(e,t,s){const r=e.getProps();return bo(r,t,s!==void 0?s:r.custom,e)}const vi=e=>Array.isArray(e);function Lb(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Hs(s))}function Ib(e){return vi(e)?e[e.length-1]||0:e}function Ub(e,t){const s=Fs(e,t);let{transitionEnd:r={},transition:n={},...i}=s||{};i={...i,...r};for(const o in i){const l=Ib(i[o]);Lb(e,o,l)}}function Bb(e){return!!(qe(e)&&e.add)}function bi(e,t){const s=e.getValue("willChange");if(Bb(s))return s.add(t);if(!s&&Wt.WillChange){const r=new Wt.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function Xh(e){return e.props[Bh]}const $b=e=>e!==null;function Wb(e,{repeat:t,repeatType:s="loop"},r){const n=e.filter($b),i=t&&s!=="loop"&&t%2===1?0:n.length-1;return n[i]}const qb={type:"spring",stiffness:500,damping:25,restSpeed:10},zb=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Hb={type:"keyframes",duration:.8},Kb={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Qb=(e,{keyframes:t})=>t.length>2?Hb:Js.has(e)?e.startsWith("scale")?zb(t[1]):qb:Kb;function Zb({when:e,delay:t,delayChildren:s,staggerChildren:r,staggerDirection:n,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const No=(e,t,s,r={},n,i)=>o=>{const l=uo(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Et(c);const d={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:n};Zb(l)||Object.assign(d,Qb(e,d)),d.duration&&(d.duration=Et(d.duration)),d.repeatDelay&&(d.repeatDelay=Et(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(mi(d),d.delay===0&&(h=!0)),(Wt.instantAnimations||Wt.skipAnimations)&&(h=!0,mi(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!i&&t.get()!==void 0){const f=Wb(d.keyframes,l);if(f!==void 0){ve.update(()=>{d.onUpdate(f),d.onComplete()});return}}return l.isSync?new lo(d):new b0(d)};function Yb({protectedKeys:e,needsAnimating:t},s){const r=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,r}function Jh(e,t,{delay:s=0,transitionOverride:r,type:n}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(i=r);const c=[],u=n&&e.animationState&&e.animationState.getState()[n];for(const d in l){const h=e.getValue(d,e.latestValues[d]??null),f=l[d];if(f===void 0||u&&Yb(u,d))continue;const y={delay:s,...uo(i||{},d)},m=h.get();if(m!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===m&&!y.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const v=Xh(e);if(v){const b=window.MotionHandoffAnimation(v,d,ve);b!==null&&(y.startTime=b,p=!0)}}bi(e,d),h.start(No(d,h,f,e.shouldReduceMotion&&bh.has(d)?{type:!1}:y,e,p));const g=h.animation;g&&c.push(g)}return o&&Promise.all(c).then(()=>{ve.update(()=>{o&&Ub(e,o)})}),c}function ef(e,t,s,r=0,n=1){const i=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),o=e.size,l=(o-1)*r;return typeof s=="function"?s(i,o):n===1?i*r:l-i*r}function wi(e,t,s={}){const r=Fs(e,t,s.type==="exit"?e.presenceContext?.custom:void 0);let{transition:n=e.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(n=s.transitionOverride);const i=r?()=>Promise.all(Jh(e,r,s)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=n;return Gb(e,t,c,u,d,h,s)}:()=>Promise.resolve(),{when:l}=n;if(l){const[c,u]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(s.delay)])}function Gb(e,t,s=0,r=0,n=0,i=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(wi(c,t,{...o,delay:s+(typeof r=="function"?0:r)+ef(e.variantChildren,c,r,n,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function Xb(e,t,s={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const n=t.map(i=>wi(e,i,s));r=Promise.all(n)}else if(typeof t=="string")r=wi(e,t,s);else{const n=typeof t=="function"?Fs(e,t,s.custom):t;r=Promise.all(Jh(e,n,s))}return r.then(()=>{e.notify("AnimationComplete",t)})}function tf(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let r=0;r<s;r++)if(t[r]!==e[r])return!1;return!0}const Jb=go.length;function sf(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?sf(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<Jb;s++){const r=go[s],n=e.props[r];(Ar(n)||n===!1)&&(t[r]=n)}return t}const ew=[...po].reverse(),tw=po.length;function sw(e){return t=>Promise.all(t.map(({animation:s,options:r})=>Xb(e,s,r)))}function rw(e){let t=sw(e),s=Nc(),r=!0;const n=c=>(u,d)=>{const h=Fs(e,d,c==="exit"?e.presenceContext?.custom:void 0);if(h){const{transition:f,transitionEnd:y,...m}=h;u={...u,...m,...y}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=sf(e.parent)||{},h=[],f=new Set;let y={},m=1/0;for(let g=0;g<tw;g++){const v=ew[g],b=s[v],j=u[v]!==void 0?u[v]:d[v],P=Ar(j),_=v===c?b.isActive:null;_===!1&&(m=g);let M=j===d[v]&&j!==u[v]&&P;if(M&&r&&e.manuallyAnimateOnMount&&(M=!1),b.protectedKeys={...y},!b.isActive&&_===null||!j&&!b.prevProp||Yn(j)||typeof j=="boolean")continue;const F=nw(b.prevProp,j);let T=F||v===c&&b.isActive&&!M&&P||g>m&&P,q=!1;const te=Array.isArray(j)?j:[j];let ue=te.reduce(n(v),{});_===!1&&(ue={});const{prevResolvedValues:X={}}=b,re={...X,...ue},ie=K=>{T=!0,f.has(K)&&(q=!0,f.delete(K)),b.needsAnimating[K]=!0;const pe=e.getValue(K);pe&&(pe.liveStyle=!1)};for(const K in re){const pe=ue[K],je=X[K];if(y.hasOwnProperty(K))continue;let rt=!1;vi(pe)&&vi(je)?rt=!tf(pe,je):rt=pe!==je,rt?pe!=null?ie(K):f.add(K):pe!==void 0&&f.has(K)?ie(K):b.protectedKeys[K]=!0}b.prevProp=j,b.prevResolvedValues=ue,b.isActive&&(y={...y,...ue}),r&&e.blockInitialAnimation&&(T=!1);const k=M&&F;T&&(!k||q)&&h.push(...te.map(K=>{const pe={type:v};if(typeof K=="string"&&r&&!k&&e.manuallyAnimateOnMount&&e.parent){const{parent:je}=e,rt=Fs(je,K);if(je.enteringChildren&&rt){const{delayChildren:L}=rt.transition||{};pe.delay=ef(je.enteringChildren,e,L)}}return{animation:K,options:pe}}))}if(f.size){const g={};if(typeof u.initial!="boolean"){const v=Fs(e,Array.isArray(u.initial)?u.initial[0]:u.initial);v&&v.transition&&(g.transition=v.transition)}f.forEach(v=>{const b=e.getBaseTarget(v),j=e.getValue(v);j&&(j.liveStyle=!0),g[v]=b??null}),h.push({animation:g})}let p=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(p=!1),r=!1,p?t(h):Promise.resolve()}function l(c,u){if(s[c].isActive===u)return Promise.resolve();e.variantChildren?.forEach(h=>h.animationState?.setActive(c,u)),s[c].isActive=u;const d=o(c);for(const h in s)s[h].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>s,reset:()=>{s=Nc(),r=!0}}}function nw(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!tf(t,e):!1}function os(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Nc(){return{animate:os(!0),whileInView:os(),whileHover:os(),whileTap:os(),whileDrag:os(),whileFocus:os(),exit:os()}}class as{constructor(t){this.isMounted=!1,this.node=t}update(){}}class aw extends as{constructor(t){super(t),t.animationState||(t.animationState=rw(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Yn(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let iw=0;class ow extends as{constructor(){super(...arguments),this.id=iw++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const n=this.node.animationState.setActive("exit",!t);s&&!t&&n.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const lw={animation:{Feature:aw},exit:{Feature:ow}};function Er(e,t,s,r={passive:!0}){return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s)}function Wr(e){return{point:{x:e.pageX,y:e.pageY}}}const cw=e=>t=>mo(t)&&e(t,Wr(t));function yr(e,t,s,r){return Er(e,t,cw(s),r)}const rf=1e-4,dw=1-rf,uw=1+rf,nf=.01,hw=0-nf,fw=0+nf;function Ye(e){return e.max-e.min}function mw(e,t,s){return Math.abs(e-t)<=s}function Tc(e,t,s,r=.5){e.origin=r,e.originPoint=we(t.min,t.max,e.origin),e.scale=Ye(s)/Ye(t),e.translate=we(s.min,s.max,e.origin)-e.originPoint,(e.scale>=dw&&e.scale<=uw||isNaN(e.scale))&&(e.scale=1),(e.translate>=hw&&e.translate<=fw||isNaN(e.translate))&&(e.translate=0)}function xr(e,t,s,r){Tc(e.x,t.x,s.x,r?r.originX:void 0),Tc(e.y,t.y,s.y,r?r.originY:void 0)}function Sc(e,t,s){e.min=s.min+t.min,e.max=e.min+Ye(t)}function pw(e,t,s){Sc(e.x,t.x,s.x),Sc(e.y,t.y,s.y)}function kc(e,t,s){e.min=t.min-s.min,e.max=e.min+Ye(t)}function vr(e,t,s){kc(e.x,t.x,s.x),kc(e.y,t.y,s.y)}function ut(e){return[e("x"),e("y")]}const af=({current:e})=>e?e.ownerDocument.defaultView:null,Cc=(e,t)=>Math.abs(e-t);function gw(e,t){const s=Cc(e.x,t.x),r=Cc(e.y,t.y);return Math.sqrt(s**2+r**2)}class of{constructor(t,s,{transformPagePoint:r,contextWindow:n=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Ca(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,m=gw(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!m)return;const{point:p}=f,{timestamp:g}=$e;this.history.push({...p,timestamp:g});const{onStart:v,onMove:b}=this.handlers;y||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,f)},this.handlePointerMove=(f,y)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=ka(y,this.transformPagePoint),ve.update(this.updatePoint,!0)},this.handlePointerUp=(f,y)=>{this.end();const{onEnd:m,onSessionEnd:p,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Ca(f.type==="pointercancel"?this.lastMoveEventInfo:ka(y,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,v),p&&p(f,v)},!mo(t))return;this.dragSnapToOrigin=i,this.handlers=s,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=n||window;const l=Wr(t),c=ka(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=$e;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=s;h&&h(t,Ca(c,this.history)),this.removeListeners=Ur(yr(this.contextWindow,"pointermove",this.handlePointerMove),yr(this.contextWindow,"pointerup",this.handlePointerUp),yr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ts(this.updatePoint)}}function ka(e,t){return t?{point:t(e.point)}:e}function _c(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ca({point:e},t){return{point:e,delta:_c(e,lf(t)),offset:_c(e,yw(t)),velocity:xw(t,.1)}}function yw(e){return e[0]}function lf(e){return e[e.length-1]}function xw(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,r=null;const n=lf(e);for(;s>=0&&(r=e[s],!(n.timestamp-r.timestamp>Et(t)));)s--;if(!r)return{x:0,y:0};const i=Rt(n.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(n.x-r.x)/i,y:(n.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function vw(e,{min:t,max:s},r){return t!==void 0&&e<t?e=r?we(t,e,r.min):Math.max(e,t):s!==void 0&&e>s&&(e=r?we(s,e,r.max):Math.min(e,s)),e}function Pc(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function bw(e,{top:t,left:s,bottom:r,right:n}){return{x:Pc(e.x,s,n),y:Pc(e.y,t,r)}}function Ac(e,t){let s=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,r]=[r,s]),{min:s,max:r}}function ww(e,t){return{x:Ac(e.x,t.x),y:Ac(e.y,t.y)}}function jw(e,t){let s=.5;const r=Ye(e),n=Ye(t);return n>r?s=Cr(t.min,t.max-r,e.min):r>n&&(s=Cr(e.min,e.max-n,t.min)),$t(0,1,s)}function Nw(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const ji=.35;function Tw(e=ji){return e===!1?e=0:e===!0&&(e=ji),{x:Dc(e,"left","right"),y:Dc(e,"top","bottom")}}function Dc(e,t,s){return{min:Ec(e,t),max:Ec(e,s)}}function Ec(e,t){return typeof e=="number"?e:e[t]||0}const Sw=new WeakMap;class kw{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ke(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:r}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Wr(h).point)},o=(h,f)=>{const{drag:y,dragPropagation:m,onDragStart:p}=this.getProps();if(y&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=F0(y),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ut(v=>{let b=this.getAxisMotionValue(v).get()||0;if(Mt.test(b)){const{projection:j}=this.visualElement;if(j&&j.layout){const P=j.layout.layoutBox[v];P&&(b=Ye(P)*(parseFloat(b)/100))}}this.originPoint[v]=b}),p&&ve.postRender(()=>p(h,f)),bi(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:y,dragDirectionLock:m,onDirectionLock:p,onDrag:g}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:v}=f;if(m&&this.currentDirection===null){this.currentDirection=Cw(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),g&&g(h,f)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>ut(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new of(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:af(this.visualElement)})}stop(t,s){const r=t||this.latestPointerEvent,n=s||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!n||!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&ve.postRender(()=>l(r,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,r){const{drag:n}=this.getProps();if(!r||!Jr(t,n,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=vw(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,n=this.constraints;t&&As(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=bw(r.layoutBox,t):this.constraints=!1,this.elastic=Tw(s),n!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ut(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=Nw(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!As(t))return!1;const r=t.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const i=_b(r,n.root,this.visualElement.getTransformPagePoint());let o=ww(n.layout.layoutBox,i);if(s){const l=s(Sb(o));this.hasMutatedConstraints=!!l,l&&(o=qh(l))}return o}startAnimation(t){const{drag:s,dragMomentum:r,dragElastic:n,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ut(d=>{if(!Jr(d,s,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=n?200:1e6,y=n?40:1e7,m={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,m)});return Promise.all(u).then(l)}startAxisValueAnimation(t,s){const r=this.getAxisMotionValue(t);return bi(this.visualElement,t),r.start(No(t,r,0,s,this.visualElement,!1))}stopAnimation(){ut(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ut(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),n=r[s];return n||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ut(s=>{const{drag:r}=this.getProps();if(!Jr(s,r,this.currentDirection))return;const{projection:n}=this.visualElement,i=this.getAxisMotionValue(s);if(n&&n.layout){const{min:o,max:l}=n.layout.layoutBox[s];i.set(t[s]-we(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!As(s)||!r||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};ut(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();n[o]=jw({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ut(o=>{if(!Jr(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(we(c,u,n[o]))})}addListeners(){if(!this.visualElement.current)return;Sw.set(this.visualElement,this);const t=this.visualElement.current,s=yr(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();As(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",r);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),ve.read(r);const o=Er(window,"resize",()=>this.scalePositionWithinConstraints()),l=n.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ut(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())}));return()=>{o(),s(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:i=!1,dragElastic:o=ji,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:r,dragPropagation:n,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Jr(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function Cw(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class _w extends as{constructor(t){super(t),this.removeGroupControls=pt,this.removeListeners=pt,this.controls=new kw(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||pt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Rc=e=>(t,s)=>{e&&ve.postRender(()=>e(t,s))};class Pw extends as{constructor(){super(...arguments),this.removePointerDownListener=pt}onPointerDown(t){this.session=new of(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:af(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:Rc(t),onStart:Rc(s),onMove:r,onEnd:(i,o)=>{delete this.session,n&&ve.postRender(()=>n(i,o))}}}mount(){this.removePointerDownListener=yr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const mn={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Mc(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const or={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Q.test(e))e=parseFloat(e);else return e;const s=Mc(e,t.target.x),r=Mc(e,t.target.y);return`${s}% ${r}%`}},Aw={correct:(e,{treeScale:t,projectionDelta:s})=>{const r=e,n=ss.parse(e);if(n.length>5)return r;const i=ss.createTransformer(e),o=typeof n[0]!="number"?1:0,l=s.x.scale*t.x,c=s.y.scale*t.y;n[0+o]/=l,n[1+o]/=c;const u=we(l,c,.5);return typeof n[2+o]=="number"&&(n[2+o]/=u),typeof n[3+o]=="number"&&(n[3+o]/=u),i(n)}};let _a=!1;class Dw extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r,layoutId:n}=this.props,{projection:i}=t;J0(Ew),i&&(s.group&&s.group.add(i),r&&r.register&&n&&r.register(i),_a&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),mn.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:r,drag:n,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,_a=!0,n||t.layoutDependency!==s||s===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||ve.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),fo.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:n}=t;_a=!0,n&&(n.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function cf(e){const[t,s]=H0(),r=x.useContext(Uu);return a.jsx(Dw,{...e,layoutGroup:r,switchLayoutGroup:x.useContext($h),isPresent:t,safeToRemove:s})}const Ew={borderRadius:{...or,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:or,borderTopRightRadius:or,borderBottomLeftRadius:or,borderBottomRightRadius:or,boxShadow:Aw};function Rw(e,t,s){const r=qe(e)?e:Hs(e);return r.start(No("",r,t,s)),r.animation}const Mw=(e,t)=>e.depth-t.depth;class Ow{constructor(){this.children=[],this.isDirty=!1}add(t){Ki(this.children,t),this.isDirty=!0}remove(t){Qi(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Mw),this.isDirty=!1,this.children.forEach(t)}}function Vw(e,t){const s=Je.now(),r=({timestamp:n})=>{const i=n-s;i>=t&&(ts(r),e(i-t))};return ve.setup(r,!0),()=>ts(r)}const df=["TopLeft","TopRight","BottomLeft","BottomRight"],Fw=df.length,Oc=e=>typeof e=="string"?parseFloat(e):e,Vc=e=>typeof e=="number"||Q.test(e);function Lw(e,t,s,r,n,i){n?(e.opacity=we(0,s.opacity??1,Iw(r)),e.opacityExit=we(t.opacity??1,0,Uw(r))):i&&(e.opacity=we(t.opacity??1,s.opacity??1,r));for(let o=0;o<Fw;o++){const l=`border${df[o]}Radius`;let c=Fc(t,l),u=Fc(s,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Vc(c)===Vc(u)?(e[l]=Math.max(we(Oc(c),Oc(u),r),0),(Mt.test(u)||Mt.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||s.rotate)&&(e.rotate=we(t.rotate||0,s.rotate||0,r))}function Fc(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Iw=uf(0,.5,Gu),Uw=uf(.5,.95,pt);function uf(e,t,s){return r=>r<e?0:r>t?1:s(Cr(e,t,r))}function Lc(e,t){e.min=t.min,e.max=t.max}function ct(e,t){Lc(e.x,t.x),Lc(e.y,t.y)}function Ic(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Uc(e,t,s,r,n){return e-=t,e=Mn(e,1/s,r),n!==void 0&&(e=Mn(e,1/n,r)),e}function Bw(e,t=0,s=1,r=.5,n,i=e,o=e){if(Mt.test(t)&&(t=parseFloat(t),t=we(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=we(i.min,i.max,r);e===i&&(l-=t),e.min=Uc(e.min,t,s,l,n),e.max=Uc(e.max,t,s,l,n)}function Bc(e,t,[s,r,n],i,o){Bw(e,t[s],t[r],t[n],t.scale,i,o)}const $w=["x","scaleX","originX"],Ww=["y","scaleY","originY"];function $c(e,t,s,r){Bc(e.x,t,$w,s?s.x:void 0,r?r.x:void 0),Bc(e.y,t,Ww,s?s.y:void 0,r?r.y:void 0)}function Wc(e){return e.translate===0&&e.scale===1}function hf(e){return Wc(e.x)&&Wc(e.y)}function qc(e,t){return e.min===t.min&&e.max===t.max}function qw(e,t){return qc(e.x,t.x)&&qc(e.y,t.y)}function zc(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function ff(e,t){return zc(e.x,t.x)&&zc(e.y,t.y)}function Hc(e){return Ye(e.x)/Ye(e.y)}function Kc(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class zw{constructor(){this.members=[]}add(t){Ki(this.members,t),t.scheduleRender()}remove(t){if(Qi(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(n=>t===n);if(s===0)return!1;let r;for(let n=s;n>=0;n--){const i=this.members[n];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,s){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,s&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:n}=t.options;n===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:r}=t;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Hw(e,t,s){let r="";const n=e.x.translate/t.x,i=e.y.translate/t.y,o=s?.z||0;if((n||i||o)&&(r=`translate3d(${n}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:y,skewY:m}=s;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),y&&(r+=`skewX(${y}deg) `),m&&(r+=`skewY(${m}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Pa=["","X","Y","Z"],Kw=1e3;let Qw=0;function Aa(e,t,s,r){const{latestValues:n}=t;n[e]&&(s[e]=n[e],t.setStaticValue(e,0),r&&(r[e]=0))}function mf(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=Xh(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:n,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",ve,!(n||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&mf(r)}function pf({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:r,resetTransform:n}){return class{constructor(o={},l=t?.()){this.id=Qw++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Gw),this.nodes.forEach(tj),this.nodes.forEach(sj),this.nodes.forEach(Xw)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ow)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Gi),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Ph(o)&&!W0(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;ve.read(()=>{h=window.innerWidth}),e(o,()=>{const y=window.innerWidth;y!==h&&(h=y,this.root.updateBlockedByResize=!0,d&&d(),d=Vw(f,250),mn.hasAnimatedSinceResize&&(mn.hasAnimatedSinceResize=!1,this.nodes.forEach(Yc)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||u.getDefaultTransition()||oj,{onLayoutAnimationStart:p,onLayoutAnimationComplete:g}=u.getProps(),v=!this.targetLayout||!ff(this.targetLayout,y),b=!h&&f;if(this.options.layoutRoot||this.resumeFrom||b||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...uo(m,"layout"),onPlay:p,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(d,b)}else h||Yc(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ts(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rj),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&mf(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Qc);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Zc);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(ej),this.nodes.forEach(Zw),this.nodes.forEach(Yw)):this.nodes.forEach(Zc),this.clearAllSnapshots();const l=Je.now();$e.delta=$t(0,1e3/60,l-$e.timestamp),$e.timestamp=l,$e.isProcessing=!0,xa.update.process($e),xa.preRender.process($e),xa.render.process($e),$e.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fo.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Jw),this.sharedNodes.forEach(nj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ve.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ve.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ye(this.snapshot.measuredBox.x)&&!Ye(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ke(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!n)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!hf(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||ls(this.latestValues)||d)&&(n(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),lj(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return ke();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(cj))){const{scroll:u}=this.root;u&&(Ds(l.x,u.offset.x),Ds(l.y,u.offset.y))}return l}removeElementScroll(o){const l=ke();if(ct(l,o),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&ct(l,o),Ds(l.x,d.offset.x),Ds(l.y,d.offset.y))}return l}applyTransform(o,l=!1){const c=ke();ct(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Es(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ls(d.latestValues)&&Es(c,d.latestValues)}return ls(this.latestValues)&&Es(c,this.latestValues),c}removeTransform(o){const l=ke();ct(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ls(u.latestValues))continue;gi(u.latestValues)&&u.updateSnapshot();const d=ke(),h=u.measurePageBox();ct(d,h),$c(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ls(this.latestValues)&&$c(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$e.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=$e.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ke(),this.relativeTargetOrigin=ke(),vr(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),ct(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ke(),this.targetWithTransforms=ke()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),pw(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ct(this.target,this.layout.layoutBox),Hh(this.target,this.targetDelta)):ct(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ke(),this.relativeTargetOrigin=ke(),vr(this.relativeTargetOrigin,this.target,f.target),ct(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||gi(this.parent.latestValues)||zh(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===$e.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;ct(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;Cb(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ke());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ic(this.prevProjectionDelta.x,this.projectionDelta.x),Ic(this.prevProjectionDelta.y,this.projectionDelta.y)),xr(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!Kc(this.projectionDelta.x,this.prevProjectionDelta.x)||!Kc(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Rs(),this.projectionDelta=Rs(),this.projectionDeltaWithTransform=Rs()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Rs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=ke(),y=c?c.source:void 0,m=this.layout?this.layout.source:void 0,p=y!==m,g=this.getStack(),v=!g||g.members.length<=1,b=!!(p&&!v&&this.options.crossfade===!0&&!this.path.some(ij));this.animationProgress=0;let j;this.mixTargetDelta=P=>{const _=P/1e3;Gc(h.x,o.x,_),Gc(h.y,o.y,_),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vr(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),aj(this.relativeTarget,this.relativeTargetOrigin,f,_),j&&qw(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=ke()),ct(j,this.relativeTarget)),p&&(this.animationValues=d,Lw(d,u,this.latestValues,_,b,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ts(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ve.update(()=>{mn.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Hs(0)),this.currentAnimation=Rw(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Kw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&gf(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ke();const h=Ye(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=Ye(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}ct(l,c),Es(l,d),xr(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new zw),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Aa("z",o,u,this.animationValues);for(let d=0;d<Pa.length;d++)Aa(`rotate${Pa[d]}`,o,u,this.animationValues),Aa(`skew${Pa[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=fn(l?.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=fn(l?.pointerEvents)||""),this.hasProjected&&!ls(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=Hw(this.projectionDeltaWithTransform,this.treeScale,d);c&&(h=c(d,h)),o.transform=h;const{x:f,y}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${y.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const m in Dr){if(d[m]===void 0)continue;const{correct:p,applyTo:g,isCSSVariable:v}=Dr[m],b=h==="none"?d[m]:p(d[m],u);if(g){const j=g.length;for(let P=0;P<j;P++)o[g[P]]=b}else v?this.options.visualElement.renderState.vars[m]=b:o[m]=b}this.options.layoutId&&(o.pointerEvents=u===this?fn(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(Qc),this.root.sharedNodes.clear()}}}function Zw(e){e.updateLayout()}function Yw(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=e.layout,{animationType:n}=e.options,i=t.source!==e.layout.source;n==="size"?ut(d=>{const h=i?t.measuredBox[d]:t.layoutBox[d],f=Ye(h);h.min=s[d].min,h.max=h.min+f}):gf(n,t.layoutBox,s)&&ut(d=>{const h=i?t.measuredBox[d]:t.layoutBox[d],f=Ye(s[d]);h.max=h.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+f)});const o=Rs();xr(o,s,t.layoutBox);const l=Rs();i?xr(l,e.applyTransform(r,!0),t.measuredBox):xr(l,s,t.layoutBox);const c=!hf(o);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:f}=d;if(h&&f){const y=ke();vr(y,t.layoutBox,h.layoutBox);const m=ke();vr(m,s,f.layoutBox),ff(y,m)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=y,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function Gw(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Xw(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Jw(e){e.clearSnapshot()}function Qc(e){e.clearMeasurements()}function Zc(e){e.isLayoutDirty=!1}function ej(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Yc(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function tj(e){e.resolveTargetDelta()}function sj(e){e.calcProjection()}function rj(e){e.resetSkewAndRotation()}function nj(e){e.removeLeadSnapshot()}function Gc(e,t,s){e.translate=we(t.translate,0,s),e.scale=we(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function Xc(e,t,s,r){e.min=we(t.min,s.min,r),e.max=we(t.max,s.max,r)}function aj(e,t,s,r){Xc(e.x,t.x,s.x,r),Xc(e.y,t.y,s.y,r)}function ij(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const oj={duration:.45,ease:[.4,0,.1,1]},Jc=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),ed=Jc("applewebkit/")&&!Jc("chrome/")?Math.round:pt;function td(e){e.min=ed(e.min),e.max=ed(e.max)}function lj(e){td(e.x),td(e.y)}function gf(e,t,s){return e==="position"||e==="preserve-aspect"&&!mw(Hc(t),Hc(s),.2)}function cj(e){return e!==e.root&&e.scroll?.wasRoot}const dj=pf({attachResizeListener:(e,t)=>Er(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Da={current:void 0},yf=pf({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Da.current){const e=new dj({});e.mount(window),e.setOptions({layoutScroll:!0}),Da.current=e}return Da.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),uj={pan:{Feature:Pw},drag:{Feature:_w,ProjectionNode:yf,MeasureLayout:cf}};function sd(e,t,s){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",s==="Start");const n="onHover"+s,i=r[n];i&&ve.postRender(()=>i(t,Wr(t)))}class hj extends as{mount(){const{current:t}=this.node;t&&(this.unmount=L0(t,(s,r)=>(sd(this.node,r,"Start"),n=>sd(this.node,n,"End"))))}unmount(){}}class fj extends as{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ur(Er(this.node.current,"focus",()=>this.onFocus()),Er(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function rd(e,t,s){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",s==="Start");const n="onTap"+(s==="End"?"":s),i=r[n];i&&ve.postRender(()=>i(t,Wr(t)))}class mj extends as{mount(){const{current:t}=this.node;t&&(this.unmount=$0(t,(s,r)=>(rd(this.node,r,"Start"),(n,{success:i})=>rd(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ni=new WeakMap,Ea=new WeakMap,pj=e=>{const t=Ni.get(e.target);t&&t(e)},gj=e=>{e.forEach(pj)};function yj({root:e,...t}){const s=e||document;Ea.has(s)||Ea.set(s,{});const r=Ea.get(s),n=JSON.stringify(t);return r[n]||(r[n]=new IntersectionObserver(gj,{root:e,...t})),r[n]}function xj(e,t,s){const r=yj(t);return Ni.set(e,s),r.observe(e),()=>{Ni.delete(e),r.unobserve(e)}}const vj={some:0,all:1};class bj extends as{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:r,amount:n="some",once:i}=t,o={root:s?s.current:void 0,rootMargin:r,threshold:typeof n=="number"?n:vj[n]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return xj(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(wj(t,s))&&this.startObserver()}unmount(){}}function wj({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const jj={inView:{Feature:bj},tap:{Feature:mj},focus:{Feature:fj},hover:{Feature:hj}},Nj={layout:{ProjectionNode:yf,MeasureLayout:cf}},Tj={...lw,...jj,...uj,...Nj},xf=Tb(Tj,Fb),ee=({children:e,className:t})=>a.jsx(xf.div,{className:De("rounded-lg border bg-card text-card-foreground shadow-sm",t),whileHover:{y:-2,transition:{duration:.2,ease:"easeInOut"}},children:e}),ye=({children:e,className:t,...s})=>a.jsx("div",{className:De("flex flex-col space-y-1.5 p-6",t),...s,children:e}),xe=({children:e,className:t,...s})=>a.jsx("h3",{className:De("text-2xl font-semibold leading-none tracking-tight",t),...s,children:e}),ae=({children:e,className:t,...s})=>a.jsx("div",{className:De("p-6 pt-0",t),...s,children:e}),nd={whileHover:{scale:1.02,transition:{duration:.2,ease:"easeInOut"}}},ad={whileTap:{scale:.98,transition:{duration:.1,ease:"easeInOut"}}},id={whileFocus:{scale:1.01,transition:{duration:.15,ease:"easeInOut"}}},W=({variant:e="default",size:t="default",className:s,children:r,...n})=>{const i="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",o={default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},l={default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"};return a.jsx(xf.button,{...n,className:De(i,o[e],l[t],s),whileHover:{...nd.whileHover,transition:{...nd.whileHover.transition,ease:[.42,0,.58,1]}},whileTap:{...ad.whileTap,transition:{...ad.whileTap.transition,ease:[.42,0,.58,1]}},whileFocus:{...id.whileFocus,transition:{...id.whileFocus.transition,ease:[.42,0,.58,1]}},transition:{duration:.2,ease:[.42,0,.58,1]},...n,children:r})},vf={getSummary:async()=>(await V.get("/api/v1/admin/dashboard/summary")).data,getCharts:async()=>(await V.get("/api/v1/admin/dashboard/charts")).data,getActivity:async()=>(await V.get("/api/v1/admin/dashboard/activity")).data,getExport:async()=>(await V.get("/api/v1/admin/dashboard/export")).data},Ms={all:["admin","dashboard"],summary:()=>[...Ms.all,"summary"],charts:()=>[...Ms.all,"charts"],activity:()=>[...Ms.all,"activity"],export:()=>[...Ms.all,"export"]},Sj=()=>ze({queryKey:Ms.summary(),queryFn:()=>vf.getSummary(),staleTime:6e4,retry:1}),kj=()=>ze({queryKey:Ms.export(),queryFn:()=>vf.getExport(),staleTime:3e5,retry:1});function Cj({title:e,titleId:t,...s},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const pn=x.forwardRef(Cj);function _j({title:e,titleId:t,...s},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const bf=x.forwardRef(_j);function Pj({title:e,titleId:t,...s},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const Aj=x.forwardRef(Pj);function Dj({title:e,titleId:t,...s},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"}))}const od=x.forwardRef(Dj);function Ej({title:e,titleId:t,...s},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const br=x.forwardRef(Ej);function Rj({title:e,titleId:t,...s},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Ti=x.forwardRef(Rj);function Mj({title:e,titleId:t,...s},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const gn=x.forwardRef(Mj);function Oj({title:e,titleId:t,...s},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ld=x.forwardRef(Oj);function Vj({title:e,titleId:t,...s},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const cd=x.forwardRef(Vj);function Fj({title:e,titleId:t,...s},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Lj=x.forwardRef(Fj);function Ij({title:e,titleId:t,...s},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const wf=x.forwardRef(Ij);function Uj({title:e,titleId:t,...s},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Ut=x.forwardRef(Uj);function Bj({title:e,titleId:t,...s},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const To=x.forwardRef(Bj);function $j({title:e,titleId:t,...s},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const On=x.forwardRef($j);function Wj({title:e,titleId:t,...s},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const qj=x.forwardRef(Wj);function zj({title:e,titleId:t,...s},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const So=x.forwardRef(zj);function Hj({title:e,titleId:t,...s},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const er=x.forwardRef(Hj);function Kj({title:e,titleId:t,...s},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Qj=x.forwardRef(Kj);function Zj({title:e,titleId:t,...s},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const js=x.forwardRef(Zj);function Yj({title:e,titleId:t,...s},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const dd=x.forwardRef(Yj);function Gj({title:e,titleId:t,...s},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const tr=x.forwardRef(Gj);function Xj({title:e,titleId:t,...s},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const Si=x.forwardRef(Xj);function Jj({title:e,titleId:t,...s},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const Vn=x.forwardRef(Jj);function e1({title:e,titleId:t,...s},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15.75 10.5 4.72-4.72a.75.75 0 0 1 1.28.53v11.38a.75.75 0 0 1-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25h-9A2.25 2.25 0 0 0 2.25 7.5v9a2.25 2.25 0 0 0 2.25 2.25Z"}))}const t1=x.forwardRef(e1);function s1({title:e,titleId:t,...s},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const en=x.forwardRef(s1);function r1({title:e,titleId:t,...s},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const n1=x.forwardRef(r1);function a1(){const e=ns(),{data:t,isLoading:s,error:r}=Sj(),{data:n}=kj(),i=t?.data,o=n?.data?.export_url,l=()=>{o?z("Export functionality coming soon"):z.error("Export URL not available")},c=u=>{switch(u){case"users":e("/admin/users");break;case"projects":e("/admin/projects");break;case"tenants":e("/admin/tenants");break;case"settings":e("/admin/settings");break;default:z(`${u} functionality coming soon`)}};return s?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"System overview and quick actions"})]}),a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-gray-500",children:"Loading dashboard..."})})]}):r?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"System overview and quick actions"})]}),a.jsx(ee,{children:a.jsx(ae,{className:"text-center py-12",children:a.jsxs("div",{className:"text-red-500",children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Failed to load dashboard"}),a.jsx("p",{className:"text-gray-600",children:"There was an error loading the dashboard data. Please try again."})]})})})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"System overview and quick actions"})]}),a.jsxs(W,{onClick:l,children:[a.jsx(wf,{className:"h-4 w-4 mr-2"}),"Export"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs(ee,{children:[a.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(xe,{className:"text-sm font-medium",children:"Total Users"}),a.jsx(Vn,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-2xl font-bold",children:i?.total_users||0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all tenants"})]})]}),a.jsxs(ee,{children:[a.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(xe,{className:"text-sm font-medium",children:"Total Projects"}),a.jsx(On,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-2xl font-bold",children:i?.total_projects||0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"System-wide"})]})]}),a.jsxs(ee,{children:[a.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(xe,{className:"text-sm font-medium",children:"Active Tenants"}),a.jsx(br,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-2xl font-bold",children:i?.active_tenants||0}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["of ",i?.total_tenants||0," total"]})]})]}),a.jsxs(ee,{children:[a.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(xe,{className:"text-sm font-medium",children:"Active Sessions"}),a.jsx(gn,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-2xl font-bold",children:i?.active_sessions||0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently online"})]})]})]}),a.jsxs(ee,{children:[a.jsx(ye,{children:a.jsx(xe,{children:"Quick Actions"})}),a.jsx(ae,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(W,{variant:"outline",className:"h-20 flex flex-col items-center justify-center",onClick:()=>c("users"),children:[a.jsx(Vn,{className:"h-6 w-6 mb-2"}),"Manage Users"]}),a.jsxs(W,{variant:"outline",className:"h-20 flex flex-col items-center justify-center",onClick:()=>c("tenants"),children:[a.jsx(br,{className:"h-6 w-6 mb-2"}),"Manage Tenants"]}),a.jsxs(W,{variant:"outline",className:"h-20 flex flex-col items-center justify-center",onClick:()=>c("projects"),children:[a.jsx(On,{className:"h-6 w-6 mb-2"}),"View Projects"]}),a.jsxs(W,{variant:"outline",className:"h-20 flex flex-col items-center justify-center",onClick:()=>c("settings"),children:[a.jsx(Lj,{className:"h-6 w-6 mb-2"}),"Settings"]})]})})]})]})}const vt=({className:e,type:t,...s})=>a.jsx("input",{type:t,className:De("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...s}),et=({variant:e="default",className:t,children:s,...r})=>{const n={default:"bg-primary text-primary-foreground hover:bg-primary/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border border-input"};return a.jsx("div",{className:De("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",n[e],t),...r,children:s})},ko={getUsers:async(e={})=>{const t=new URLSearchParams;return e.search&&t.append("search",e.search),e.tenant_id&&t.append("tenant_id",e.tenant_id.toString()),e.role_id&&t.append("role_id",e.role_id.toString()),e.status&&t.append("status",e.status),e.page&&t.append("page",e.page.toString()),e.per_page&&t.append("per_page",e.per_page.toString()),(await V.get(`/api/v1/admin/users?${t.toString()}`)).data},getUser:async e=>(await V.get(`/api/v1/admin/users/${e}`)).data,createUser:async e=>(await V.post("/api/v1/admin/users",e)).data,updateUser:async(e,t)=>(await V.put(`/api/v1/admin/users/${e}`,t)).data,deleteUser:async e=>{await V.delete(`/api/v1/admin/users/${e}`)},bulkUpdateStatus:async(e,t)=>{await V.post("/api/v1/admin/users/bulk-update-status",{user_ids:e,status:t})},bulkDelete:async e=>{await V.post("/api/v1/admin/users/bulk-delete",{user_ids:e})}},ms={all:["admin","users"],lists:()=>[...ms.all,"list"],list:e=>[...ms.lists(),e],details:()=>[...ms.all,"detail"],detail:e=>[...ms.details(),e]},i1=(e={})=>ze({queryKey:ms.list(e),queryFn:()=>ko.getUsers(e),staleTime:3e4,retry:1}),o1=()=>{const e=be();return Ce({mutationFn:t=>ko.deleteUser(t),onSuccess:()=>{e.invalidateQueries({queryKey:ms.lists()})}})},l1=()=>{const e=be();return Ce({mutationFn:({userIds:t,status:s})=>ko.bulkUpdateStatus(t,s),onSuccess:()=>{e.invalidateQueries({queryKey:ms.lists()})}})};function c1(){const[e,t]=x.useState({page:1,per_page:10}),[s,r]=x.useState([]),{data:n,isLoading:i,error:o}=i1(e),l=o1(),c=l1(),u=n?.data||[],d=n?.meta,h=v=>{t(b=>({...b,search:v,page:1}))},f=v=>{t(b=>({...b,status:v==="all"?void 0:v,page:1}))},y=async v=>{if(window.confirm("Are you sure you want to delete this user?"))try{await l.mutateAsync(v),z.success("User deleted successfully")}catch{z.error("Failed to delete user")}},m=async v=>{if(s.length!==0)try{await c.mutateAsync({userIds:s,status:v}),z.success(`${s.length} users have been ${v}`),r([])}catch{z.error("Failed to update users")}},p=v=>{r(b=>b.includes(v)?b.filter(j=>j!==v):[...b,v])},g=()=>{s.length===u.length?r([]):r(u.map(v=>v.id))};return i?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"User Management"}),a.jsx("p",{className:"text-gray-600",children:"Manage system users and their permissions"})]})}),a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-gray-500",children:"Loading users..."})})]}):o?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"User Management"}),a.jsx("p",{className:"text-gray-600",children:"Manage system users and their permissions"})]})}),a.jsx(ee,{children:a.jsx(ae,{className:"text-center py-12",children:a.jsxs("div",{className:"text-red-500",children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Failed to load users"}),a.jsx("p",{className:"text-gray-600",children:"There was an error loading the users. Please try again."})]})})})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"User Management"}),a.jsx("p",{className:"text-gray-600",children:"Manage system users and their permissions"})]}),a.jsxs(W,{children:[a.jsx(js,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),a.jsxs(ee,{children:[a.jsx(ye,{children:a.jsx(xe,{children:"Filters"})}),a.jsx(ae,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Search"}),a.jsxs("div",{className:"relative",children:[a.jsx(So,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(vt,{placeholder:"Search users...",value:e.search||"",onChange:v=>h(v.target.value),className:"pl-10"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),a.jsxs("select",{value:e.status||"all",onChange:v=>f(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"}),a.jsx("option",{value:"suspended",children:"Suspended"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Per Page"}),a.jsxs("select",{value:e.per_page||10,onChange:v=>t(b=>({...b,per_page:parseInt(v.target.value),page:1})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:10,children:"10 per page"}),a.jsx("option",{value:25,children:"25 per page"}),a.jsx("option",{value:50,children:"50 per page"})]})]})]})})]}),a.jsxs(ee,{children:[a.jsx(ye,{children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs(xe,{children:["Users (",d?.total||0,")"]}),s.length>0&&a.jsxs("div",{className:"flex space-x-2",role:"region","aria-label":"Bulk actions",children:[a.jsx(W,{variant:"outline",size:"sm",onClick:()=>m("active"),disabled:c.isPending,"aria-label":`Activate ${s.length} selected users`,children:"Activate Selected"}),a.jsx(W,{variant:"outline",size:"sm",onClick:()=>m("inactive"),disabled:c.isPending,"aria-label":`Deactivate ${s.length} selected users`,children:"Deactivate Selected"}),a.jsx(W,{variant:"outline",size:"sm",onClick:()=>m("suspended"),disabled:c.isPending,"aria-label":`Suspend ${s.length} selected users`,children:"Suspend Selected"})]})]})}),a.jsxs(ae,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",role:"table","aria-label":"Users management table",children:[a.jsx("caption",{className:"sr-only",children:"Users management table with bulk selection and actions"}),a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsxs("th",{className:"text-left py-3 px-4",scope:"col",children:[a.jsx("input",{type:"checkbox",checked:s.length===u.length&&u.length>0,onChange:g,className:"rounded border-gray-300","aria-label":"Select all users","aria-describedby":"select-all-help"}),a.jsx("span",{id:"select-all-help",className:"sr-only",children:"Select or deselect all users in the table"})]}),a.jsx("th",{className:"text-left py-3 px-4",scope:"col",children:"Name"}),a.jsx("th",{className:"text-left py-3 px-4",scope:"col",children:"Email"}),a.jsx("th",{className:"text-left py-3 px-4",scope:"col",children:"Tenant"}),a.jsx("th",{className:"text-left py-3 px-4",scope:"col",children:"Roles"}),a.jsx("th",{className:"text-left py-3 px-4",scope:"col",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4",scope:"col",children:"Last Login"}),a.jsx("th",{className:"text-left py-3 px-4",scope:"col",children:"Actions"})]})}),a.jsx("tbody",{children:u.map(v=>a.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[a.jsxs("td",{className:"py-3 px-4",children:[a.jsx("input",{type:"checkbox",checked:s.includes(v.id),onChange:()=>p(v.id),className:"rounded border-gray-300","aria-label":`Select user ${v.name}`,"aria-describedby":`user-${v.id}-help`}),a.jsxs("span",{id:`user-${v.id}-help`,className:"sr-only",children:["Select or deselect user ",v.name]})]}),a.jsx("td",{className:"py-3 px-4 font-medium",children:v.name}),a.jsx("td",{className:"py-3 px-4 text-gray-600",children:v.email}),a.jsx("td",{className:"py-3 px-4",children:v.tenant_name}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("div",{className:"flex flex-wrap gap-1",children:v.roles.map(b=>a.jsx(et,{variant:"secondary",className:"text-xs",children:b.name},b.id))})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx(et,{variant:v.status==="active"?"default":"destructive",children:v.status})}),a.jsx("td",{className:"py-3 px-4 text-gray-600",children:v.last_login_at?new Date(v.last_login_at).toLocaleDateString():"Never"}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(W,{variant:"ghost",size:"sm","aria-label":`View user ${v.name}`,children:a.jsx(To,{className:"h-4 w-4"})}),a.jsx(W,{variant:"ghost",size:"sm","aria-label":`Edit user ${v.name}`,children:a.jsx(er,{className:"h-4 w-4"})}),a.jsx(W,{variant:"ghost",size:"sm",className:"text-red-600",onClick:()=>y(v.id),disabled:l.isPending,"aria-label":`Delete user ${v.name}`,children:a.jsx(tr,{className:"h-4 w-4"})})]})})]},v.id))})]})}),d&&d.last_page>1&&a.jsxs("nav",{className:"flex justify-between items-center mt-4",role:"navigation","aria-label":"Users pagination",children:[a.jsxs("div",{className:"text-sm text-gray-600","aria-live":"polite",children:["Showing ",(d.current_page-1)*d.per_page+1," to ",Math.min(d.current_page*d.per_page,d.total)," of ",d.total," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(W,{variant:"outline",size:"sm",onClick:()=>t(v=>({...v,page:v.page-1})),disabled:d.current_page<=1,"aria-label":`Go to page ${d.current_page-1}`,children:"Previous"}),a.jsx(W,{variant:"outline",size:"sm",onClick:()=>t(v=>({...v,page:v.page+1})),disabled:d.current_page>=d.last_page,"aria-label":`Go to page ${d.current_page+1}`,children:"Next"})]})]})]})]}),u.length===0&&!i&&a.jsx(ee,{children:a.jsx(ae,{className:"text-center py-12",children:a.jsxs("div",{className:"text-gray-500",children:[a.jsx(Vn,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"No users found"}),a.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters or add a new user."})]})})})]})}const Co={getRoles:async(e={})=>{const t=new URLSearchParams;return e.search&&t.append("search",e.search),e.page&&t.append("page",e.page.toString()),e.per_page&&t.append("per_page",e.per_page.toString()),(await V.get(`/api/v1/admin/roles?${t.toString()}`)).data},getRole:async e=>(await V.get(`/api/v1/admin/roles/${e}`)).data,createRole:async e=>(await V.post("/api/v1/admin/roles",e)).data,updateRole:async(e,t)=>(await V.put(`/api/v1/admin/roles/${e}`,t)).data,deleteRole:async e=>{await V.delete(`/api/v1/admin/roles/${e}`)},getPermissions:async()=>(await V.get("/api/v1/admin/permissions")).data,assignRole:async e=>{await V.post("/api/v1/admin/role-assignments",e)},bulkAssignRole:async e=>{await V.post("/api/v1/admin/role-assignments/bulk",e)},removeRole:async(e,t)=>{await V.delete(`/api/v1/admin/users/${e}/roles/${t}`)}},Zt={all:["admin","roles"],lists:()=>[...Zt.all,"list"],list:e=>[...Zt.lists(),e],details:()=>[...Zt.all,"detail"],detail:e=>[...Zt.details(),e],permissions:()=>[...Zt.all,"permissions"]},d1=(e={})=>ze({queryKey:Zt.list(e),queryFn:()=>Co.getRoles(e),staleTime:3e4,retry:1}),u1=()=>ze({queryKey:Zt.permissions(),queryFn:()=>Co.getPermissions(),staleTime:3e5,retry:1}),h1=()=>{const e=be();return Ce({mutationFn:t=>Co.deleteRole(t),onSuccess:()=>{e.invalidateQueries({queryKey:Zt.lists()})}})};function f1(){const[e,t]=x.useState({page:1,per_page:10}),[s,r]=x.useState([]),{data:n,isLoading:i,error:o}=d1(e),{data:l}=u1(),c=h1(),u=n?.data||[],d=n?.meta,h=l?.data||[],f=g=>{t(v=>({...v,search:g,page:1}))},y=async g=>{if(window.confirm("Are you sure you want to delete this role?"))try{await c.mutateAsync(g),z.success("Role deleted successfully")}catch{z.error("Failed to delete role")}},m=g=>{r(v=>v.includes(g)?v.filter(b=>b!==g):[...v,g])},p=()=>{s.length===u.length?r([]):r(u.map(g=>g.id))};return i?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Roles & Permissions"}),a.jsx("p",{className:"text-gray-600",children:"Manage system roles and their permissions"})]})}),a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-gray-500",children:"Loading roles..."})})]}):o?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Roles & Permissions"}),a.jsx("p",{className:"text-gray-600",children:"Manage system roles and their permissions"})]})}),a.jsx(ee,{children:a.jsx(ae,{className:"text-center py-12",children:a.jsxs("div",{className:"text-red-500",children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Failed to load roles"}),a.jsx("p",{className:"text-gray-600",children:"There was an error loading the roles. Please try again."})]})})})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Roles & Permissions"}),a.jsx("p",{className:"text-gray-600",children:"Manage system roles and their permissions"})]}),a.jsxs(W,{children:[a.jsx(js,{className:"h-4 w-4 mr-2"}),"Create Role"]})]}),a.jsx(ee,{children:a.jsx(ae,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex-1",children:a.jsx(vt,{type:"text",placeholder:"Search roles by name or description...",onChange:g=>f(g.target.value),className:"w-full"})}),a.jsxs("div",{className:"ml-4 flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:s.length===u.length&&u.length>0,onChange:p,className:"rounded border-gray-300"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Select All"})]})]})})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(g=>a.jsxs(ee,{className:"hover:shadow-lg transition-shadow",children:[a.jsxs(ye,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(dd,{className:"h-5 w-5 text-blue-600"}),a.jsx(xe,{className:"text-lg",children:g.name})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(et,{variant:"secondary",className:"text-xs",children:[a.jsx(Vn,{className:"h-3 w-3 mr-1"}),g.user_count," users"]}),a.jsx("input",{type:"checkbox",checked:s.includes(g.id),onChange:()=>m(g.id),className:"rounded border-gray-300"})]})]}),a.jsx("p",{className:"text-sm text-gray-600",children:g.description})]}),a.jsx(ae,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Permissions:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:g.permissions.length>3?a.jsxs(a.Fragment,{children:[g.permissions.slice(0,3).map((v,b)=>a.jsx(et,{variant:"outline",className:"text-xs",children:v.code},b)),a.jsxs(et,{variant:"outline",className:"text-xs",children:["+",g.permissions.length-3," more"]})]}):g.permissions.map((v,b)=>a.jsx(et,{variant:"outline",className:"text-xs",children:v.code},b))})]}),a.jsxs("div",{className:"flex space-x-2 pt-2",children:[a.jsxs(W,{variant:"outline",size:"sm",className:"flex-1",children:[a.jsx(er,{className:"h-4 w-4 mr-1"}),"Edit"]}),a.jsx(W,{variant:"outline",size:"sm",className:"text-red-600",onClick:()=>y(g.id),disabled:c.isPending,children:a.jsx(tr,{className:"h-4 w-4"})})]})]})})]},g.id))}),d&&d.last_page>1&&a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(d.current_page-1)*d.per_page+1," to ",Math.min(d.current_page*d.per_page,d.total)," of ",d.total," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(W,{variant:"outline",size:"sm",onClick:()=>t(g=>({...g,page:g.page-1})),disabled:d.current_page<=1,children:"Previous"}),a.jsx(W,{variant:"outline",size:"sm",onClick:()=>t(g=>({...g,page:g.page+1})),disabled:d.current_page>=d.last_page,children:"Next"})]})]}),u.length===0&&!i&&a.jsx(ee,{children:a.jsx(ae,{className:"text-center py-12",children:a.jsxs("div",{className:"text-gray-500",children:[a.jsx(dd,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"No roles found"}),a.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters or create a new role."})]})})}),a.jsxs(ee,{children:[a.jsx(ye,{children:a.jsx(xe,{children:"System Permissions Overview"})}),a.jsx(ae,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.length>0?Object.entries(h.reduce((g,v)=>{const b=v.resource;return g[b]||(g[b]=[]),g[b].push(v),g},{})).map(([g,v])=>a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium text-gray-900 mb-2 capitalize",children:[g.replace("_"," ")," Management"]}),a.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:v.map(b=>a.jsxs("li",{children:["• ",b.code]},b.id))})]},g)):a.jsx("div",{className:"col-span-full text-center text-gray-500 py-8",children:"No permissions available"})})})]})]})}const Xn={getTenants:async(e={})=>{const t=new URLSearchParams;return e.search&&t.append("search",e.search),e.status&&t.append("status",e.status),e.plan&&t.append("plan",e.plan),e.page&&t.append("page",e.page.toString()),e.per_page&&t.append("per_page",e.per_page.toString()),(await V.get(`/api/v1/admin/tenants?${t.toString()}`)).data},getTenant:async e=>(await V.get(`/api/v1/admin/tenants/${e}`)).data,createTenant:async e=>(await V.post("/api/v1/admin/tenants",e)).data,updateTenant:async(e,t)=>(await V.put(`/api/v1/admin/tenants/${e}`,t)).data,deleteTenant:async e=>{await V.delete(`/api/v1/admin/tenants/${e}`)},getTenantStats:async e=>(await V.get(`/api/v1/admin/tenants/${e}/stats`)).data,suspendTenant:async(e,t)=>{await V.post(`/api/v1/admin/tenants/${e}/suspend`,{reason:t})},activateTenant:async e=>{await V.post(`/api/v1/admin/tenants/${e}/activate`)},bulkUpdateStatus:async(e,t)=>{await V.post("/api/v1/admin/tenants/bulk-update-status",{tenant_ids:e,status:t})},bulkDelete:async e=>{await V.post("/api/v1/admin/tenants/bulk-delete",{tenant_ids:e})},extendTrial:async(e,t)=>{await V.post(`/api/v1/admin/tenants/${e}/extend-trial`,{days:t})}},jt={all:["admin","tenants"],lists:()=>[...jt.all,"list"],list:e=>[...jt.lists(),e],details:()=>[...jt.all,"detail"],detail:e=>[...jt.details(),e],stats:e=>[...jt.detail(e),"stats"]},m1=(e={})=>ze({queryKey:jt.list(e),queryFn:()=>Xn.getTenants(e),staleTime:3e4,retry:1}),p1=()=>{const e=be();return Ce({mutationFn:t=>Xn.deleteTenant(t),onSuccess:()=>{e.invalidateQueries({queryKey:jt.lists()})}})},g1=()=>{const e=be();return Ce({mutationFn:({id:t,reason:s})=>Xn.suspendTenant(t,s),onSuccess:(t,{id:s})=>{e.invalidateQueries({queryKey:jt.detail(s)}),e.invalidateQueries({queryKey:jt.lists()})}})},y1=()=>{const e=be();return Ce({mutationFn:t=>Xn.activateTenant(t),onSuccess:(t,s)=>{e.invalidateQueries({queryKey:jt.detail(s)}),e.invalidateQueries({queryKey:jt.lists()})}})};function x1(){const[e,t]=x.useState({page:1,per_page:10}),{data:s,isLoading:r,error:n}=m1(e),i=p1(),o=g1(),l=y1(),c=s?.data||[],u=s?.meta,d=async m=>{if(window.confirm("Are you sure you want to delete this tenant? This action cannot be undone."))try{await i.mutateAsync(m),z.success("Tenant deleted successfully")}catch{z.error("Failed to delete tenant")}},h=async(m,p)=>{try{p==="active"?(await o.mutateAsync({id:m}),z.success("Tenant suspended successfully")):(await l.mutateAsync(m),z.success("Tenant activated successfully"))}catch{z.error("Failed to update tenant status")}};if(r)return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Tenant Management"}),a.jsx("p",{className:"text-gray-600",children:"Manage multi-tenant organizations"})]})}),a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-gray-500",children:"Loading tenants..."})})]});if(n)return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Tenant Management"}),a.jsx("p",{className:"text-gray-600",children:"Manage multi-tenant organizations"})]})}),a.jsx(ee,{children:a.jsx(ae,{className:"text-center py-12",children:a.jsxs("div",{className:"text-red-500",children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Failed to load tenants"}),a.jsx("p",{className:"text-gray-600",children:"There was an error loading the tenants. Please try again."})]})})})]});const f=m=>{switch(m){case"active":return"default";case"inactive":return"secondary";case"suspended":return"destructive";default:return"secondary"}},y=m=>{switch(m){case"active":return a.jsx(ld,{className:"h-4 w-4 text-green-600"});case"inactive":return a.jsx(en,{className:"h-4 w-4 text-gray-400"});case"suspended":return a.jsx(en,{className:"h-4 w-4 text-red-600"});default:return a.jsx(en,{className:"h-4 w-4 text-gray-400"})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Tenant Management"}),a.jsx("p",{className:"text-gray-600",children:"Manage multi-tenant organizations"})]}),a.jsxs(W,{children:[a.jsx(js,{className:"h-4 w-4 mr-2"}),"Add Tenant"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs(ee,{children:[a.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(xe,{className:"text-sm font-medium",children:"Total Tenants"}),a.jsx(br,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(ae,{children:a.jsx("div",{className:"text-2xl font-bold",children:u?.total||0})})]}),a.jsxs(ee,{children:[a.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(xe,{className:"text-sm font-medium",children:"Active"}),a.jsx(ld,{className:"h-4 w-4 text-green-600"})]}),a.jsx(ae,{children:a.jsx("div",{className:"text-2xl font-bold",children:c.filter(m=>m.status==="active").length})})]}),a.jsxs(ee,{children:[a.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(xe,{className:"text-sm font-medium",children:"Suspended"}),a.jsx(en,{className:"h-4 w-4 text-red-600"})]}),a.jsx(ae,{children:a.jsx("div",{className:"text-2xl font-bold",children:c.filter(m=>m.status==="suspended").length})})]}),a.jsxs(ee,{children:[a.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(xe,{className:"text-sm font-medium",children:"Total Users"}),a.jsx(br,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(ae,{children:a.jsx("div",{className:"text-2xl font-bold",children:c.reduce((m,p)=>m+p.user_count,0)})})]})]}),a.jsxs(ee,{children:[a.jsx(ye,{children:a.jsx(xe,{children:"Tenants"})}),a.jsxs(ae,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"Name"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Domain"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Plan"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Users"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Created"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),a.jsx("tbody",{children:c.map(m=>a.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4 font-medium",children:m.name}),a.jsx("td",{className:"py-3 px-4 text-gray-600",children:m.domain}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[y(m.status),a.jsx(et,{variant:f(m.status),children:m.status})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx(et,{variant:"outline",children:m.plan})}),a.jsx("td",{className:"py-3 px-4",children:m.user_count}),a.jsx("td",{className:"py-3 px-4 text-gray-600",children:new Date(m.created_at).toLocaleDateString()}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(W,{variant:"ghost",size:"sm",onClick:()=>h(m.id,m.status),disabled:o.isPending||l.isPending,children:m.status==="active"?"Suspend":"Activate"}),a.jsx(W,{variant:"ghost",size:"sm",children:a.jsx(er,{className:"h-4 w-4"})}),a.jsx(W,{variant:"ghost",size:"sm",className:"text-red-600",onClick:()=>d(m.id),disabled:i.isPending,children:a.jsx(tr,{className:"h-4 w-4"})})]})})]},m.id))})]})}),u&&u.last_page>1&&a.jsxs("div",{className:"flex justify-between items-center mt-4",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(u.current_page-1)*u.per_page+1," to ",Math.min(u.current_page*u.per_page,u.total)," of ",u.total," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(W,{variant:"outline",size:"sm",onClick:()=>t(m=>({...m,page:m.page-1})),disabled:u.current_page<=1,children:"Previous"}),a.jsx(W,{variant:"outline",size:"sm",onClick:()=>t(m=>({...m,page:m.page+1})),disabled:u.current_page>=u.last_page,children:"Next"})]})]})]})]}),c.length===0&&!r&&a.jsx(ee,{children:a.jsx(ae,{className:"text-center py-12",children:a.jsxs("div",{className:"text-gray-500",children:[a.jsx(br,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"No tenants found"}),a.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters or add a new tenant."})]})})})]})}const ud=({open:e,onOpenChange:t,children:s})=>(x.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),e?a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:()=>t?.(!1)}),a.jsx("div",{className:"relative z-50",children:s})]}):null),hd=({className:e,children:t})=>a.jsx("div",{className:De("bg-white rounded-lg shadow-lg border border-gray-200 p-6 max-w-md w-full mx-4",e),onClick:s=>s.stopPropagation(),children:t}),fd=({children:e})=>a.jsx("div",{className:"mb-4",children:e}),md=({children:e})=>a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:e}),v1=({children:e})=>a.jsx(a.Fragment,{children:e}),dt=({className:e,children:t,...s})=>a.jsx("label",{className:De("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...s,children:t}),Rr=({className:e,label:t,error:s,helperText:r,...n})=>a.jsxs("div",{className:"space-y-2",children:[t&&a.jsx("label",{className:"text-sm font-medium text-gray-700",children:t}),a.jsx("textarea",{className:De("min-h-[80px] w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:cursor-not-allowed disabled:opacity-50",s&&"border-red-500 focus:ring-red-500",e),...n}),s&&a.jsx("p",{className:"text-sm text-red-600",children:s}),r&&!s&&a.jsx("p",{className:"text-sm text-gray-500",children:r})]}),qr=Z.createContext({isOpen:!1,setIsOpen:()=>{}}),tn=({value:e,onValueChange:t,children:s})=>{const[r,n]=x.useState(!1);return a.jsx(qr.Provider,{value:{value:e,onValueChange:t,isOpen:r,setIsOpen:n},children:a.jsx("div",{className:"relative",children:s})})},sn=({className:e,children:t})=>{const{isOpen:s,setIsOpen:r}=Z.useContext(qr);return a.jsx("button",{type:"button",className:De("flex h-10 w-full items-center justify-between rounded-md border border-gray-300 bg-white px-3 py-2 text-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",e),onClick:()=>r(!s),children:t})},rn=({children:e})=>{const{isOpen:t}=Z.useContext(qr);return t?a.jsx("div",{className:"absolute z-50 mt-1 w-full rounded-md border border-gray-200 bg-white shadow-lg",children:a.jsx("div",{className:"py-1",children:e})}):null},Le=({value:e,children:t})=>{const{onValueChange:s,setIsOpen:r}=Z.useContext(qr);return a.jsx("button",{type:"button",className:"w-full px-3 py-2 text-left text-sm hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:()=>{s?.(e),r(!1)},children:t})},nn=({placeholder:e})=>{const{value:t}=Z.useContext(qr);return a.jsx("span",{children:t||e})},sr={getProjects:async(e={})=>{const t=new URLSearchParams;e.search&&t.append("search",e.search),e.status&&t.append("status",e.status),e.priority&&t.append("priority",e.priority),e.tenant_id&&t.append("tenant_id",e.tenant_id.toString()),e.created_by&&t.append("created_by",e.created_by.toString()),e.page&&t.append("page",e.page.toString()),e.per_page&&t.append("per_page",e.per_page.toString());const r=(await V.get(`/app/projects?${t.toString()}`)).data??{},n=r.meta??{},i=n.current_page??1,o=n.last_page??i;return{data:r.data??[],meta:{current_page:i,last_page:o,per_page:n.per_page??e.per_page??15,total:n.total??r.data?.length??0},links:r.links??{first:r.links?.first??"",last:r.links?.last??"",prev:i>1?String(i-1):void 0,next:i<o?String(i+1):void 0}}},getProject:async e=>(await V.get(`/app/projects/${e}`)).data,createProject:async e=>(await V.post("/app/projects",e)).data,updateProject:async(e,t)=>(await V.put(`/app/projects/${e}`,t)).data,deleteProject:async e=>{await V.delete(`/app/projects/${e}`)},getProjectStats:async e=>(await V.get(`/app/projects/${e}/stats`)).data,addTeamMember:async(e,t,s)=>{await V.post(`/app/projects/${e}/team-members`,{user_id:t,role:s})},removeTeamMember:async(e,t)=>{await V.delete(`/app/projects/${e}/team-members/${t}`)},exportProjects:async(e={})=>{const t=new URLSearchParams;return e.search&&t.append("search",e.search),e.status&&t.append("status",e.status),e.priority&&t.append("priority",e.priority),e.tenant_id&&t.append("tenant_id",e.tenant_id.toString()),e.created_by&&t.append("created_by",e.created_by.toString()),t.append("format","csv"),(await V.get(`/admin/csv/export/projects?${t.toString()}`,{responseType:"blob",headers:{Accept:"text/csv"}})).data}},Nt={all:["projects"],lists:()=>[...Nt.all,"list"],list:e=>[...Nt.lists(),e],details:()=>[...Nt.all,"detail"],detail:e=>[...Nt.details(),e],stats:e=>[...Nt.detail(e),"stats"]},b1=(e={})=>ze({queryKey:Nt.list(e),queryFn:()=>sr.getProjects(e),staleTime:3e4,retry:1}),w1=(e,t=!0)=>ze({queryKey:Nt.detail(e),queryFn:()=>sr.getProject(e),enabled:t&&!!e,staleTime:6e4,retry:1}),j1=()=>{const e=be();return Ce({mutationFn:t=>sr.createProject(t),onSuccess:()=>{e.invalidateQueries({queryKey:Nt.lists()})}})},N1=()=>{const e=be();return Ce({mutationFn:({id:t,projectData:s})=>sr.updateProject(t,s),onSuccess:(t,{id:s})=>{e.invalidateQueries({queryKey:Nt.detail(s)}),e.invalidateQueries({queryKey:Nt.lists()})}})},jf=()=>{const e=be();return Ce({mutationFn:t=>sr.deleteProject(t),onSuccess:()=>{e.invalidateQueries({queryKey:Nt.lists()})}})},T1=()=>Ce({mutationFn:(e={})=>sr.exportProjects(e)});function S1(){const[e,t]=x.useState({page:1,per_page:12}),[s,r]=x.useState(!1),[n,i]=x.useState(!1),[o,l]=x.useState(null),[c,u]=x.useState({name:"",description:"",status:"planning",priority:"medium",start_date:new Date().toISOString().split("T")[0],end_date:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0]}),[d,h]=x.useState({name:"",description:"",status:"planning",priority:"medium",start_date:"",end_date:""}),{data:f,isLoading:y,error:m}=b1(e),p=jf(),g=j1(),v=N1(),b=T1(),j=f?.data||[],P=f?.meta,_=k=>{t(A=>({...A,search:k,page:1}))},M=k=>{t(A=>({...A,status:k==="all"?void 0:k,page:1}))},F=k=>{t(A=>({...A,priority:k==="all"?void 0:k,page:1}))},T=async k=>{if(window.confirm("Are you sure you want to delete this project?"))try{await p.mutateAsync(k),z.success("Project deleted successfully")}catch{z.error("Failed to delete project")}},q=async k=>{k.preventDefault();try{await g.mutateAsync({...c,status:c.status,priority:c.priority}),z.success("Project created successfully"),r(!1),u({name:"",description:"",status:"planning",priority:"medium",start_date:new Date().toISOString().split("T")[0],end_date:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0]})}catch{z.error("Failed to create project")}},te=async k=>{if(k.preventDefault(),!!o)try{await v.mutateAsync({id:o.id,projectData:{...d,status:d.status,priority:d.priority}}),z.success("Project updated successfully"),i(!1),l(null)}catch{z.error("Failed to update project")}},ue=async()=>{try{const k=await b.mutateAsync(e),A=window.URL.createObjectURL(k),K=document.createElement("a");K.href=A,K.download=`projects-export-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(K),K.click(),window.URL.revokeObjectURL(A),document.body.removeChild(K),z.success("Projects exported successfully")}catch{z.error("Failed to export projects")}},X=k=>{l(k),h({name:k.name||"",description:k.description||"",status:k.status||"planning",priority:k.priority||"medium",start_date:k.start_date?new Date(k.start_date).toISOString().split("T")[0]:"",end_date:k.end_date?new Date(k.end_date).toISOString().split("T")[0]:""}),i(!0)};if(y)return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Projects"}),a.jsx("p",{className:"text-gray-600",children:"Manage your projects and track progress"})]})}),a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-gray-500",children:"Loading projects..."})})]});if(m)return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Projects"}),a.jsx("p",{className:"text-gray-600",children:"Manage your projects and track progress"})]})}),a.jsx(ee,{children:a.jsx(ae,{className:"text-center py-12",children:a.jsxs("div",{className:"text-red-500",children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Failed to load projects"}),a.jsx("p",{className:"text-gray-600",children:"There was an error loading the projects. Please try again."})]})})})]});const re=k=>{switch(k){case"active":return"default";case"planning":return"secondary";case"on_hold":return"destructive";case"completed":return"outline";case"cancelled":return"destructive";default:return"secondary"}},ie=k=>{switch(k){case"urgent":return"destructive";case"high":return"default";case"medium":return"secondary";case"low":return"outline";default:return"secondary"}};return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Projects"}),a.jsx("p",{className:"text-gray-600",children:"Manage your projects and track progress"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(W,{variant:"outline",onClick:ue,disabled:b.isPending,children:[a.jsx(pn,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),a.jsxs(ud,{open:s,onOpenChange:r,children:[a.jsx(v1,{asChild:!0,children:a.jsxs(W,{children:[a.jsx(js,{className:"h-4 w-4 mr-2"}),"New Project"]})}),a.jsxs(hd,{className:"sm:max-w-[425px]",children:[a.jsx(fd,{children:a.jsx(md,{children:"Create New Project"})}),a.jsxs("form",{onSubmit:q,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(dt,{htmlFor:"name",children:"Project Name"}),a.jsx(vt,{id:"name",value:c.name,onChange:k=>u(A=>({...A,name:k.target.value})),placeholder:"Enter project name",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(dt,{htmlFor:"description",children:"Description"}),a.jsx(Rr,{id:"description",value:c.description,onChange:k=>u(A=>({...A,description:k.target.value})),placeholder:"Enter project description",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(dt,{htmlFor:"status",children:"Status"}),a.jsxs(tn,{value:c.status,onValueChange:k=>u(A=>({...A,status:k})),children:[a.jsx(sn,{children:a.jsx(nn,{})}),a.jsxs(rn,{children:[a.jsx(Le,{value:"planning",children:"Planning"}),a.jsx(Le,{value:"active",children:"Active"}),a.jsx(Le,{value:"on_hold",children:"On Hold"}),a.jsx(Le,{value:"completed",children:"Completed"}),a.jsx(Le,{value:"cancelled",children:"Cancelled"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(dt,{htmlFor:"priority",children:"Priority"}),a.jsxs(tn,{value:c.priority,onValueChange:k=>u(A=>({...A,priority:k})),children:[a.jsx(sn,{children:a.jsx(nn,{})}),a.jsxs(rn,{children:[a.jsx(Le,{value:"low",children:"Low"}),a.jsx(Le,{value:"medium",children:"Medium"}),a.jsx(Le,{value:"high",children:"High"}),a.jsx(Le,{value:"urgent",children:"Urgent"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(dt,{htmlFor:"start_date",children:"Start Date"}),a.jsx(vt,{id:"start_date",type:"date",value:c.start_date,onChange:k=>u(A=>({...A,start_date:k.target.value})),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(dt,{htmlFor:"end_date",children:"End Date"}),a.jsx(vt,{id:"end_date",type:"date",value:c.end_date,onChange:k=>u(A=>({...A,end_date:k.target.value})),required:!0})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(W,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),a.jsx(W,{type:"submit",disabled:g.isPending,children:g.isPending?"Creating...":"Create Project"})]})]})]})]})]}),a.jsx(ud,{open:n,onOpenChange:i,children:a.jsxs(hd,{className:"sm:max-w-[425px]",children:[a.jsx(fd,{children:a.jsx(md,{children:"Edit Project"})}),a.jsxs("form",{onSubmit:te,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(dt,{htmlFor:"edit-name",children:"Project Name"}),a.jsx(vt,{id:"edit-name",value:d.name,onChange:k=>h(A=>({...A,name:k.target.value})),placeholder:"Enter project name",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(dt,{htmlFor:"edit-description",children:"Description"}),a.jsx(Rr,{id:"edit-description",value:d.description,onChange:k=>h(A=>({...A,description:k.target.value})),placeholder:"Enter project description",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(dt,{htmlFor:"edit-status",children:"Status"}),a.jsxs(tn,{value:d.status,onValueChange:k=>h(A=>({...A,status:k})),children:[a.jsx(sn,{children:a.jsx(nn,{})}),a.jsxs(rn,{children:[a.jsx(Le,{value:"planning",children:"Planning"}),a.jsx(Le,{value:"active",children:"Active"}),a.jsx(Le,{value:"on_hold",children:"On Hold"}),a.jsx(Le,{value:"completed",children:"Completed"}),a.jsx(Le,{value:"cancelled",children:"Cancelled"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(dt,{htmlFor:"edit-priority",children:"Priority"}),a.jsxs(tn,{value:d.priority,onValueChange:k=>h(A=>({...A,priority:k})),children:[a.jsx(sn,{children:a.jsx(nn,{})}),a.jsxs(rn,{children:[a.jsx(Le,{value:"low",children:"Low"}),a.jsx(Le,{value:"medium",children:"Medium"}),a.jsx(Le,{value:"high",children:"High"}),a.jsx(Le,{value:"urgent",children:"Urgent"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(dt,{htmlFor:"edit-start-date",children:"Start Date"}),a.jsx(vt,{id:"edit-start-date",type:"date",value:d.start_date,onChange:k=>h(A=>({...A,start_date:k.target.value})),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(dt,{htmlFor:"edit-end-date",children:"End Date"}),a.jsx(vt,{id:"edit-end-date",type:"date",value:d.end_date,onChange:k=>h(A=>({...A,end_date:k.target.value})),required:!0})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(W,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),a.jsx(W,{type:"submit",disabled:v.isPending,children:v.isPending?"Updating...":"Update Project"})]})]})]})}),a.jsxs(ee,{children:[a.jsx(ye,{children:a.jsx(xe,{children:"Filters"})}),a.jsx(ae,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Search"}),a.jsxs("div",{className:"relative",children:[a.jsx(So,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(vt,{placeholder:"Search projects...",value:e.search||"",onChange:k=>_(k.target.value),className:"pl-10"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),a.jsxs("select",{value:e.status||"all",onChange:k=>M(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"planning",children:"Planning"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"on_hold",children:"On Hold"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Priority"}),a.jsxs("select",{value:e.priority||"all",onChange:k=>F(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"All Priorities"}),a.jsx("option",{value:"urgent",children:"Urgent"}),a.jsx("option",{value:"high",children:"High"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"low",children:"Low"})]})]})]})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",role:"grid","aria-label":"Projects grid",children:j.map(k=>a.jsxs(ee,{className:"hover:shadow-lg transition-shadow",role:"gridcell",children:[a.jsx(ye,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(xe,{className:"text-lg",children:k.name}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k.description})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(et,{variant:re(k.status),"aria-label":`Project status: ${k.status}`,children:k.status}),a.jsx(et,{variant:ie(k.priority),"aria-label":`Project priority: ${k.priority}`,children:k.priority})]})]})}),a.jsx(ae,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[a.jsx("span",{children:"Progress"}),a.jsxs("span",{"aria-live":"polite",children:[k.progress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",role:"progressbar","aria-valuenow":k.progress,"aria-valuemin":0,"aria-valuemax":100,"aria-label":`Project progress: ${k.progress}%`,children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${k.progress}%`}})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ti,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-gray-600",children:new Date(k.start_date).toLocaleDateString()})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Si,{className:"h-4 w-4 text-gray-400"}),a.jsxs("span",{className:"text-gray-600",children:[k.team_members.length," members"]})]})]}),a.jsxs("div",{className:"flex space-x-2 pt-2",children:[a.jsxs(W,{variant:"outline",size:"sm",className:"flex-1","aria-label":`View project ${k.name}`,children:[a.jsx(To,{className:"h-4 w-4 mr-1"}),"View"]}),a.jsx(W,{variant:"outline",size:"sm",onClick:()=>X(k),"aria-label":`Edit project ${k.name}`,children:a.jsx(er,{className:"h-4 w-4"})}),a.jsx(W,{variant:"outline",size:"sm",className:"text-red-600",onClick:()=>T(k.id),disabled:p.isPending,"aria-label":`Delete project ${k.name}`,children:a.jsx(tr,{className:"h-4 w-4"})})]})]})})]},k.id))}),P&&P.last_page>1&&a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(P.current_page-1)*P.per_page+1," to ",Math.min(P.current_page*P.per_page,P.total)," of ",P.total," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(W,{variant:"outline",size:"sm",onClick:()=>t(k=>({...k,page:k.page-1})),disabled:P.current_page<=1,children:"Previous"}),a.jsx(W,{variant:"outline",size:"sm",onClick:()=>t(k=>({...k,page:k.page+1})),disabled:P.current_page>=P.last_page,children:"Next"})]})]}),j.length===0&&!y&&a.jsx(ee,{children:a.jsx(ae,{className:"text-center py-12",children:a.jsxs("div",{className:"text-gray-500",children:[a.jsx(On,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"No projects found"}),a.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters or create a new project."})]})})})]})})}const lr=e=>({id:e.id,name:e.name??e.title??"",filename:e.file_name??e.filename??"",original_filename:e.original_name??e.original_filename??e.name??"",mime_type:e.mime_type??e.file_type??"",size:e.file_size??e.size??0,path:e.file_path??e.path??"",url:e.url??e.path??"",project_id:e.project_id??e.project?.id,project_name:e.project?.name,uploaded_by:e.uploaded_by??e.uploader?.id,uploaded_by_name:e.uploader?.name??e.uploaded_by_name??"",uploaded_at:e.created_at??e.uploaded_at??"",updated_at:e.updated_at??"",tags:e.tags??[],description:e.description??"",version:e.version??e.currentVersion?.version_number??1,is_public:!!e.is_public,download_count:e.download_count??0,last_accessed_at:e.last_accessed_at}),Ra=e=>({id:Number(e.id),version:e.version??e.version_number??1,filename:e.filename??e.file_name??"",size:e.size??e.file_size??0,mime_type:e.mime_type??e.file_type??"",checksum:e.checksum??e.file_hash,uploaded_at:e.created_at??e.uploaded_at??"",uploaded_by:e.created_by??e.uploaded_by??e.user_id??0,uploaded_by_name:e.uploader?.name??e.uploaded_by_name??e.user_name??e.user?.name??"",change_description:e.change_description??e.comment,reverted_from_version:e.reverted_from_version??e.reverted_from_version_number}),pd=e=>({id:String(e.id??e.event_id??`${Date.now()}`),action:e.action??e.event??"upload",actor_id:e.actor_id??e.user_id??0,actor_name:e.actor_name??e.user_name??"",metadata:e.metadata??e.payload??void 0,created_at:e.created_at??e.timestamp??new Date().toISOString()}),Tt={getDocuments:async(e={})=>{const t=new URLSearchParams;e.search&&t.append("search",e.search),e.project_id&&t.append("project_id",e.project_id.toString()),e.mime_type&&t.append("mime_type",e.mime_type),e.tags&&e.tags.length>0&&e.tags.forEach(c=>t.append("tags[]",c)),e.uploaded_by&&t.append("uploaded_by",e.uploaded_by.toString()),e.is_public!==void 0&&t.append("is_public",e.is_public.toString()),e.page&&t.append("page",e.page.toString()),e.per_page&&t.append("per_page",e.per_page.toString()),e.sort_by&&t.append("sort_by",e.sort_by),e.sort_order&&t.append("sort_order",e.sort_order);const r=(await V.get(`/api/v1/documents?${t.toString()}`)).data??{},n=Array.isArray(r.data?.documents)?r.data.documents:Array.isArray(r.data)?r.data:[],i=r.data?.pagination??{},o=i.current_page??1,l=i.last_page??o;return{data:n.map(lr),meta:{current_page:o,last_page:l,per_page:i.per_page??e.per_page??12,total:i.total??n.length},links:{first:i.first_page_url??"",last:i.last_page_url??"",prev:o>1?String(o-1):void 0,next:o<l?String(o+1):void 0}}},getDocument:async e=>{const t=await V.get(`/api/v1/documents/${e}`),s=t.data?.data??t.data??{};return{data:{...lr(s),versions:Array.isArray(s.versions)?s.versions.map(Ra):void 0,activity:Array.isArray(s.activity)?s.activity.map(pd):void 0}}},uploadDocument:async e=>{const t=new FormData;t.append("file",e.file),e.project_id&&t.append("project_id",e.project_id.toString()),e.description&&t.append("description",e.description),e.tags&&e.tags.forEach(r=>t.append("tags[]",r)),e.is_public!==void 0&&t.append("is_public",e.is_public.toString());const s=await V.post("/api/v1/documents",t,{headers:{"Content-Type":"multipart/form-data"}});return{data:lr(s.data.data??s.data)}},updateDocument:async(e,t)=>{const s=await V.put(`/api/v1/documents/${e}`,t);return{data:lr(s.data.data??s.data)}},deleteDocument:async e=>{await V.delete(`/api/v1/documents/${e}`)},downloadDocument:async e=>(await V.get(`/api/v1/documents/${e}/download`,{responseType:"blob"})).data,downloadVersion:async(e,t)=>(await V.get(`/api/v1/documents/${e}/versions/${t}/download`,{responseType:"blob"})).data,getDocumentStats:async()=>{const e=await V.get("/api/v1/documents/stats");return{data:e.data.data??e.data}},getDocumentVersions:async e=>{const t=await V.get(`/api/v1/documents/${e}/versions`);return{data:(t.data?.data??t.data??[]).map(Ra)}},uploadNewVersion:async(e,t,s)=>{const r=new FormData;r.append("file",t),s&&r.append("change_description",s);const n=await V.post(`/api/v1/documents/${e}/versions`,r,{headers:{"Content-Type":"multipart/form-data"}});return{data:Ra(n.data?.data??n.data)}},getDocumentActivity:async e=>{const t=await V.get(`/api/v1/documents/${e}/activity`);return{data:(t.data?.data??t.data??[]).map(pd)}},revertVersion:async(e,t,s)=>{const r=await V.post(`/api/v1/documents/${e}/revert`,{version_id:t,comment:s});return{data:lr(r.data.data??r.data)}},bulkDelete:async e=>{await V.post("/api/v1/documents/bulk-delete",{document_ids:e})},bulkUpdateTags:async(e,t)=>{await V.post("/api/v1/documents/bulk-update-tags",{document_ids:e,tags:t})},bulkUpdateVisibility:async(e,t)=>{await V.post("/api/v1/documents/bulk-update-visibility",{document_ids:e,is_public:t})}},Re={all:["documents"],lists:()=>[...Re.all,"list"],list:e=>[...Re.lists(),e],details:()=>[...Re.all,"detail"],detail:e=>[...Re.details(),e],stats:()=>[...Re.all,"stats"],versions:e=>[...Re.detail(e),"versions"]},Nf=(e={})=>ze({queryKey:Re.list(e),queryFn:()=>Tt.getDocuments(e),staleTime:3e4,retry:1}),k1=(e,t=!0)=>ze({queryKey:Re.detail(e),queryFn:()=>Tt.getDocument(e),enabled:t&&!!e,staleTime:6e4,retry:1}),C1=(e,t=!0)=>ze({queryKey:Re.versions(e),queryFn:()=>Tt.getDocumentVersions(e),enabled:t&&!!e,staleTime:6e4,retry:1}),_1=(e,t=!0)=>ze({queryKey:[...Re.detail(e),"activity"],queryFn:()=>Tt.getDocumentActivity(e),enabled:t&&!!e,staleTime:6e4,retry:1}),P1=()=>{const e=be();return Ce({mutationFn:t=>Tt.uploadDocument(t),onSuccess:()=>{e.invalidateQueries({queryKey:Re.lists()}),e.invalidateQueries({queryKey:Re.stats()})}})},A1=()=>{const e=be();return Ce({mutationFn:t=>Tt.deleteDocument(t),onSuccess:()=>{e.invalidateQueries({queryKey:Re.lists()}),e.invalidateQueries({queryKey:Re.stats()})}})},D1=()=>Ce({mutationFn:e=>Tt.downloadDocument(e)}),E1=()=>{const e=be();return Ce({mutationFn:({id:t,file:s,changeDescription:r})=>Tt.uploadNewVersion(t,s,r),onSuccess:(t,{id:s})=>{e.invalidateQueries({queryKey:Re.detail(s)}),e.invalidateQueries({queryKey:Re.versions(s)}),e.invalidateQueries({queryKey:Re.lists()})}})},R1=()=>{const e=be();return Ce({mutationFn:({id:t,versionId:s,comment:r})=>Tt.revertVersion(t,s,r),onSuccess:(t,{id:s})=>{e.invalidateQueries({queryKey:Re.detail(s)}),e.invalidateQueries({queryKey:Re.versions(s)}),e.invalidateQueries({queryKey:Re.lists()})}})};function M1(){const{id:e}=kd(),t=ns(),s=e?parseInt(e):0,{data:r,isLoading:n,error:i}=w1(s),{data:o}=Nf({project_id:s,per_page:5}),l=jf(),c=r?.data,u=o?.data||[],d=async()=>{if(window.confirm("Are you sure you want to delete this project? This action cannot be undone."))try{await l.mutateAsync(s),z.success("Project deleted successfully"),t("/app/projects")}catch{z.error("Failed to delete project")}},h=()=>{z("Edit project functionality coming soon")},f=()=>{z("Add task functionality coming soon")};if(n)return a.jsx("div",{className:"space-y-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-gray-500",children:"Loading project..."})})});if(i||!c)return a.jsx("div",{className:"space-y-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-red-500",children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Failed to load project"}),a.jsx("p",{className:"text-gray-600",children:"There was an error loading the project. Please try again."})]})})});const y=m=>{switch(m){case"active":return"default";case"planning":return"secondary";case"on_hold":return"destructive";case"completed":return"outline";case"cancelled":return"destructive";default:return"secondary"}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>t("/app/projects"),children:[a.jsx(bf,{className:"h-4 w-4 mr-2"}),"Back to Projects"]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:c.name}),a.jsx("p",{className:"text-gray-600",children:c.description})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(W,{variant:"outline",onClick:h,children:[a.jsx(er,{className:"h-4 w-4 mr-2"}),"Edit Project"]}),a.jsxs(W,{onClick:f,children:[a.jsx(js,{className:"h-4 w-4 mr-2"}),"Add Task"]}),a.jsxs(W,{variant:"outline",className:"text-red-600",onClick:d,disabled:l.isPending,children:[a.jsx(tr,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs(ee,{children:[a.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(xe,{className:"text-sm font-medium",children:"Status"}),a.jsx(gn,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(ae,{children:a.jsx(et,{variant:y(c.status),className:"text-sm",children:c.status})})]}),a.jsxs(ee,{children:[a.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(xe,{className:"text-sm font-medium",children:"Progress"}),a.jsx(gn,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(ae,{children:a.jsxs("div",{className:"text-2xl font-bold",children:[c.progress,"%"]})})]}),a.jsxs(ee,{children:[a.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(xe,{className:"text-sm font-medium",children:"Team Size"}),a.jsx(Si,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(ae,{children:a.jsx("div",{className:"text-2xl font-bold",children:c.team_members.length})})]}),a.jsxs(ee,{children:[a.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(xe,{className:"text-sm font-medium",children:"Budget"}),a.jsx(gn,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ae,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:["$",(c.spent||0).toLocaleString()]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["of $",(c.budget||0).toLocaleString()]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2 space-y-6"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ee,{children:[a.jsx(ye,{children:a.jsx(xe,{children:"Project Information"})}),a.jsxs(ae,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ti,{className:"h-4 w-4 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Start Date"}),a.jsx("p",{className:"text-sm text-gray-600",children:new Date(c.start_date).toLocaleDateString()})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ti,{className:"h-4 w-4 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"End Date"}),a.jsx("p",{className:"text-sm text-gray-600",children:new Date(c.end_date).toLocaleDateString()})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Si,{className:"h-4 w-4 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Team Size"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[c.team_members.length," members"]})]})]})]})]}),a.jsxs(ee,{children:[a.jsx(ye,{children:a.jsx(xe,{children:"Recent Documents"})}),a.jsx(ae,{children:a.jsx("div",{className:"space-y-3",children:u.length>0?u.map(m=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ut,{className:"h-5 w-5 text-gray-400"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium",children:m.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Updated ",new Date(m.updated_at).toLocaleDateString()]})]})]},m.id)):a.jsxs("div",{className:"text-center text-gray-500 py-4",children:[a.jsx(Ut,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),a.jsx("p",{className:"text-sm",children:"No documents yet"})]})})})]})]})]})]})}const O1={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"},ki=({isOpen:e,onClose:t,title:s,children:r,size:n="md",closeOnBackdrop:i=!0,closeOnEscape:o=!0,className:l})=>{if(x.useEffect(()=>{if(!o)return;const u=d=>{d.key==="Escape"&&e&&t()};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[e,t,o]),x.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),!e)return null;const c=a.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:i?t:void 0}),a.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:a.jsxs("div",{className:De("relative w-full bg-white rounded-lg shadow-xl transform transition-all",O1[n],l),onClick:u=>u.stopPropagation(),children:[s&&a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"p-6",children:r})]})})]});return zf.createPortal(c,document.body)};function Tf(){const{user:e}=yu(),t=Array.isArray(e?.roles)?e.roles.map(l=>typeof l=="string"?l:l?.name).filter(l=>!!l):[];return{hasRole:l=>t.includes(l),hasAnyRole:l=>l.some(c=>t.includes(c)),hasPermission:l=>e?.permissions?.includes?.(l)??!1,hasAnyPermission:l=>l.some(c=>e?.permissions?.includes?.(c))??!1,canAccess:(l,c)=>!(!e||l&&l.length>0&&!l.some(d=>t.includes(d))||c&&c.length>0&&!c.some(d=>e.permissions?.includes?.(d)))}}const V1=10*1024*1024,Sf=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","image/jpeg","image/png","image/gif","text/plain"],F1=e=>e.size>V1?{valid:!1,error:`File size must be less than 10MB. Current size: ${(e.size/1024/1024).toFixed(2)}MB`}:Sf.includes(e.type)?{valid:!0}:{valid:!1,error:"File type not allowed. Allowed types: PDF, Word, Excel, PowerPoint, Images, and Text files"},gd=e=>e<1024?`${e} B`:e<1024*1024?`${(e/1024).toFixed(2)} KB`:`${(e/(1024*1024)).toFixed(2)} MB`;function L1(){const e=ns(),{canAccess:t}=Tf(),s=x.useRef(null),[r,n]=x.useState({page:1,per_page:12}),[i,o]=x.useState(!1),[l,c]=x.useState(null),[u,d]=x.useState(""),[h,f]=x.useState(""),[y,m]=x.useState(!1),{data:p,isLoading:g,error:v}=Nf(r),b=P1(),j=A1(),P=D1(),_=p?.data||[],M=p?.meta,F=t(void 0,["document.create"]),T=t(void 0,["document.delete"]),q=t(void 0,["document.download"]),te=t(void 0,["document.update"]),ue=L=>{n(Fe=>({...Fe,search:L,page:1}))},X=L=>{n(Fe=>({...Fe,project_id:L==="all"?void 0:parseInt(L),page:1}))},re=L=>{n(Fe=>({...Fe,mime_type:L==="all"?void 0:L,page:1}))},ie=L=>{const Fe=L.target.files?.[0];if(!Fe)return;const Ft=F1(Fe);if(!Ft.valid){z.error(Ft.error||"Invalid file");return}c(Fe)},k=async()=>{if(!l){z.error("Please select a file");return}try{const L=h.split(",").map(Fe=>Fe.trim()).filter(Boolean);await b.mutateAsync({file:l,description:u||void 0,tags:L,is_public:y}),z.success("Document uploaded successfully"),o(!1),c(null),d(""),f(""),m(!1)}catch{z.error("Failed to upload document")}},A=async(L,Fe)=>{if(window.confirm(`Are you sure you want to delete "${Fe}"?`))try{await j.mutateAsync(L),z.success("Document deleted successfully")}catch{z.error("Failed to delete document")}},K=async L=>{try{const Fe=await P.mutateAsync(L.id),Ft=window.URL.createObjectURL(Fe),is=window.document.createElement("a");is.href=Ft,is.download=L.filename||L.name,window.document.body.appendChild(is),is.click(),window.URL.revokeObjectURL(Ft),window.document.body.removeChild(is),z.success("Document downloaded successfully")}catch{z.error("Failed to download document")}},pe=L=>{e(`/app/documents/${L.id}`)},je=L=>L.includes("pdf")?a.jsx(Ut,{className:"h-5 w-5 text-red-500"}):L.includes("word")||L.includes("document")?a.jsx(Ut,{className:"h-5 w-5 text-blue-500"}):L.includes("sheet")||L.includes("excel")?a.jsx(Ut,{className:"h-5 w-5 text-green-500"}):L.includes("presentation")||L.includes("powerpoint")?a.jsx(Ut,{className:"h-5 w-5 text-orange-500"}):L.includes("image")?a.jsx(Qj,{className:"h-5 w-5 text-purple-500"}):L.includes("video")?a.jsx(t1,{className:"h-5 w-5 text-indigo-500"}):a.jsx(Ut,{className:"h-5 w-5 text-gray-500"}),rt=[...new Set(_.map(L=>L.project_name).filter(Boolean))];return g?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Documents"}),a.jsx("p",{className:"text-gray-600",children:"Manage and organize your project documents"})]})}),a.jsx(ee,{children:a.jsx(ae,{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})]}):v?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Documents"}),a.jsx("p",{className:"text-gray-600",children:"Manage and organize your project documents"})]})}),a.jsx(ee,{children:a.jsx(ae,{className:"text-center py-12",children:a.jsxs("div",{className:"text-red-500",children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Failed to load documents"}),a.jsx("p",{className:"text-gray-600",children:"There was an error loading the documents. Please try again."}),a.jsx(W,{onClick:()=>window.location.reload(),variant:"outline",className:"mt-4",children:"Retry"})]})})})]}):a.jsxs("div",{className:"space-y-6","aria-live":"polite",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Documents"}),a.jsx("p",{className:"text-gray-600",children:"Manage and organize your project documents"})]}),F&&a.jsxs(W,{onClick:()=>o(!0),children:[a.jsx(js,{className:"h-4 w-4 mr-2"}),"Upload Document"]})]}),a.jsxs(ee,{children:[a.jsx(ye,{children:a.jsx(xe,{children:"Filters"})}),a.jsx(ae,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Search"}),a.jsxs("div",{className:"relative",children:[a.jsx(So,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(vt,{placeholder:"Search documents...",value:r.search||"",onChange:L=>ue(L.target.value),className:"pl-10","aria-label":"Search documents"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"File Type"}),a.jsxs("select",{value:r.mime_type||"all",onChange:L=>re(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Filter by file type",children:[a.jsx("option",{value:"all",children:"All Types"}),a.jsx("option",{value:"application/pdf",children:"PDF"}),a.jsx("option",{value:"application/msword",children:"Word"}),a.jsx("option",{value:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",children:"Word (DOCX)"}),a.jsx("option",{value:"application/vnd.ms-excel",children:"Excel"}),a.jsx("option",{value:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",children:"Excel (XLSX)"}),a.jsx("option",{value:"image/jpeg",children:"JPEG"}),a.jsx("option",{value:"image/png",children:"PNG"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Project"}),a.jsxs("select",{value:r.project_id?.toString()||"all",onChange:L=>X(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Filter by project",children:[a.jsx("option",{value:"all",children:"All Projects"}),rt.map(L=>a.jsx("option",{value:L,children:L},L))]})]})]})})]}),a.jsxs(ee,{children:[a.jsx(ye,{children:a.jsxs(xe,{children:["Documents (",M?.total||0,")"]})}),a.jsx(ae,{children:_.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(On,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),a.jsx("h3",{className:"text-lg font-medium mb-2 text-gray-500",children:"No documents found"}),a.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters or upload a new document."})]}):a.jsx("div",{className:"space-y-4",children:_.map(L=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[a.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[je(L.mime_type),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:L.name}),a.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[a.jsx("span",{className:"text-sm text-gray-500",children:gd(L.size)}),a.jsxs("span",{className:"text-sm text-gray-500",children:["by ",L.uploaded_by_name]}),L.project_name&&a.jsx(et,{variant:"outline",className:"text-xs",children:L.project_name})]})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[q&&a.jsx(W,{variant:"ghost",size:"sm",onClick:()=>pe(L),"aria-label":`View ${L.name}`,children:a.jsx(To,{className:"h-4 w-4"})}),q&&a.jsx(W,{variant:"ghost",size:"sm",onClick:()=>K(L),disabled:P.isPending,"aria-label":`Download ${L.name}`,children:a.jsx(wf,{className:"h-4 w-4"})}),te&&a.jsx(W,{variant:"ghost",size:"sm",onClick:()=>e(`/app/documents/${L.id}/edit`),"aria-label":`Edit ${L.name}`,children:a.jsx(er,{className:"h-4 w-4"})}),T&&a.jsx(W,{variant:"ghost",size:"sm",className:"text-red-600",onClick:()=>A(L.id,L.name),disabled:j.isPending,"aria-label":`Delete ${L.name}`,children:a.jsx(tr,{className:"h-4 w-4"})})]})]},L.id))})})]}),i&&a.jsx(ki,{isOpen:i,onClose:()=>o(!1),title:"Upload Document",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select File *"}),a.jsx("input",{ref:s,type:"file",onChange:ie,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",accept:Sf.join(",")}),l&&a.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-700",children:l.name}),a.jsx("button",{onClick:()=>{c(null),s.current&&(s.current.value="")},className:"text-gray-400 hover:text-gray-600",children:a.jsx(n1,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Size: ",gd(l.size)," | Type: ",l.type]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx(Rr,{value:u,onChange:L=>d(L.target.value),placeholder:"Optional description for this document...",rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (comma-separated)"}),a.jsx(vt,{value:h,onChange:L=>f(L.target.value),placeholder:"e.g., project, milestone, important"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"is-public",checked:y,onChange:L=>m(L.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"is-public",className:"ml-2 text-sm text-gray-700",children:"Make this document public"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(W,{onClick:()=>o(!1),variant:"outline",disabled:b.isPending,children:"Cancel"}),a.jsx(W,{onClick:k,disabled:!l||b.isPending,children:b.isPending?"Uploading...":"Upload"})]})]})})]})}const I1={sm:"text-xs",md:"text-sm",lg:"text-base"},an={sm:"px-2 py-1",md:"px-4 py-2",lg:"px-6 py-3"};function U1({columns:e,data:t,loading:s=!1,pagination:r,rowSelection:n,onRow:i,className:o,size:l="md",bordered:c=!0,striped:u=!0}){const d=m=>{if(n)if(m){const p=t.map((g,v)=>v);n.onChange(p,t)}else n.onChange([],[])},h=(m,p,g)=>{if(!n)return;const{selectedRowKeys:v}=n;let b,j;g?(b=[...v,p],j=t.filter((P,_)=>b.includes(_))):(b=v.filter(P=>P!==p),j=t.filter((P,_)=>b.includes(_))),n.onChange(b,j)},f=n&&n.selectedRowKeys.length===t.length&&t.length>0,y=n&&n.selectedRowKeys.length>0&&n.selectedRowKeys.length<t.length;return a.jsxs("div",{className:De("overflow-hidden",o),children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:De("min-w-full divide-y divide-gray-200",I1[l],c&&"border border-gray-200"),children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[n&&a.jsx("th",{className:De("relative",an[l]),children:a.jsx("input",{type:"checkbox",className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:f,ref:m=>{m&&(m.indeterminate=y||!1)},onChange:m=>d(m.target.checked)})}),e.map((m,p)=>a.jsx("th",{className:De("font-medium text-gray-900 tracking-wider uppercase",an[l],m.align==="center"&&"text-center",m.align==="right"&&"text-right",m.sortable&&"cursor-pointer hover:bg-gray-100"),style:{width:m.width},children:m.title},String(m.key)+p))]})}),a.jsx("tbody",{className:De("bg-white divide-y divide-gray-200",u&&"divide-y divide-gray-200"),children:s?a.jsx("tr",{children:a.jsx("td",{colSpan:e.length+(n?1:0),className:"px-6 py-12 text-center text-gray-500",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Đang tải..."]})})}):t.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:e.length+(n?1:0),className:"px-6 py-12 text-center text-gray-500",children:"Không có dữ liệu"})}):t.map((m,p)=>{const g=i?.(m,p)||{},v=n?.selectedRowKeys.includes(p)||!1,b=n?.getCheckboxProps?.(m)||{};return a.jsxs("tr",{className:De("hover:bg-gray-50 transition-colors duration-150",u&&p%2===0&&"bg-gray-50",v&&"bg-blue-50",g.className),onClick:g.onClick,onDoubleClick:g.onDoubleClick,children:[n&&a.jsx("td",{className:an[l],children:a.jsx("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:v,disabled:b.disabled,onChange:j=>h(m,p,j.target.checked)})}),e.map((j,P)=>{const _=m[j.key],M=j.render?j.render(_,m,p):String(_||"");return a.jsx("td",{className:De("text-gray-900",an[l],j.align==="center"&&"text-center",j.align==="right"&&"text-right"),children:M},String(j.key)+P)})]},p)})})]})}),r&&a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white border-t border-gray-200",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:["Hiển thị ",Math.min((r.current-1)*r.pageSize+1,r.total)," đến"," ",Math.min(r.current*r.pageSize,r.total)," trong tổng số"," ",r.total," kết quả"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>r.onChange(r.current-1,r.pageSize),disabled:r.current<=1,className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trước"}),a.jsxs("span",{className:"px-3 py-1 text-sm",children:["Trang ",r.current," / ",Math.ceil(r.total/r.pageSize)]}),a.jsx("button",{onClick:()=>r.onChange(r.current+1,r.pageSize),disabled:r.current>=Math.ceil(r.total/r.pageSize),className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]})]})}function Fn(e){"@babel/helpers - typeof";return Fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fn(e)}function rs(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function He(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Vt(e){He(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Fn(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):new Date(NaN)}function B1(e,t){He(2,arguments);var s=Vt(e).getTime(),r=rs(t);return new Date(s+r)}var $1={};function Jn(){return $1}function W1(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var kf=6e4,Cf=36e5;function q1(e){return He(1,arguments),e instanceof Date||Fn(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function z1(e){if(He(1,arguments),!q1(e)&&typeof e!="number")return!1;var t=Vt(e);return!isNaN(Number(t))}function H1(e,t){He(2,arguments);var s=rs(t);return B1(e,-s)}var K1=864e5;function Q1(e){He(1,arguments);var t=Vt(e),s=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),n=s-r;return Math.floor(n/K1)+1}function Ln(e){He(1,arguments);var t=1,s=Vt(e),r=s.getUTCDay(),n=(r<t?7:0)+r-t;return s.setUTCDate(s.getUTCDate()-n),s.setUTCHours(0,0,0,0),s}function _f(e){He(1,arguments);var t=Vt(e),s=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(s+1,0,4),r.setUTCHours(0,0,0,0);var n=Ln(r),i=new Date(0);i.setUTCFullYear(s,0,4),i.setUTCHours(0,0,0,0);var o=Ln(i);return t.getTime()>=n.getTime()?s+1:t.getTime()>=o.getTime()?s:s-1}function Z1(e){He(1,arguments);var t=_f(e),s=new Date(0);s.setUTCFullYear(t,0,4),s.setUTCHours(0,0,0,0);var r=Ln(s);return r}var Y1=6048e5;function G1(e){He(1,arguments);var t=Vt(e),s=Ln(t).getTime()-Z1(t).getTime();return Math.round(s/Y1)+1}function In(e,t){var s,r,n,i,o,l,c,u;He(1,arguments);var d=Jn(),h=rs((s=(r=(n=(i=t?.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&n!==void 0?n:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&s!==void 0?s:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Vt(e),y=f.getUTCDay(),m=(y<h?7:0)+y-h;return f.setUTCDate(f.getUTCDate()-m),f.setUTCHours(0,0,0,0),f}function Pf(e,t){var s,r,n,i,o,l,c,u;He(1,arguments);var d=Vt(e),h=d.getUTCFullYear(),f=Jn(),y=rs((s=(r=(n=(i=t?.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:f.firstWeekContainsDate)!==null&&r!==void 0?r:(c=f.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(h+1,0,y),m.setUTCHours(0,0,0,0);var p=In(m,t),g=new Date(0);g.setUTCFullYear(h,0,y),g.setUTCHours(0,0,0,0);var v=In(g,t);return d.getTime()>=p.getTime()?h+1:d.getTime()>=v.getTime()?h:h-1}function X1(e,t){var s,r,n,i,o,l,c,u;He(1,arguments);var d=Jn(),h=rs((s=(r=(n=(i=t?.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&s!==void 0?s:1),f=Pf(e,t),y=new Date(0);y.setUTCFullYear(f,0,h),y.setUTCHours(0,0,0,0);var m=In(y,t);return m}var J1=6048e5;function eN(e,t){He(1,arguments);var s=Vt(e),r=In(s,t).getTime()-X1(s,t).getTime();return Math.round(r/J1)+1}function me(e,t){for(var s=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return s+r}var Ht={y:function(t,s){var r=t.getUTCFullYear(),n=r>0?r:1-r;return me(s==="yy"?n%100:n,s.length)},M:function(t,s){var r=t.getUTCMonth();return s==="M"?String(r+1):me(r+1,2)},d:function(t,s){return me(t.getUTCDate(),s.length)},a:function(t,s){var r=t.getUTCHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,s){return me(t.getUTCHours()%12||12,s.length)},H:function(t,s){return me(t.getUTCHours(),s.length)},m:function(t,s){return me(t.getUTCMinutes(),s.length)},s:function(t,s){return me(t.getUTCSeconds(),s.length)},S:function(t,s){var r=s.length,n=t.getUTCMilliseconds(),i=Math.floor(n*Math.pow(10,r-3));return me(i,s.length)}},Ss={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tN={G:function(t,s,r){var n=t.getUTCFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,s,r){if(s==="yo"){var n=t.getUTCFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Ht.y(t,s)},Y:function(t,s,r,n){var i=Pf(t,n),o=i>0?i:1-i;if(s==="YY"){var l=o%100;return me(l,2)}return s==="Yo"?r.ordinalNumber(o,{unit:"year"}):me(o,s.length)},R:function(t,s){var r=_f(t);return me(r,s.length)},u:function(t,s){var r=t.getUTCFullYear();return me(r,s.length)},Q:function(t,s,r){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(s){case"Q":return String(n);case"QQ":return me(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,s,r){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(s){case"q":return String(n);case"qq":return me(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,s,r){var n=t.getUTCMonth();switch(s){case"M":case"MM":return Ht.M(t,s);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,s,r){var n=t.getUTCMonth();switch(s){case"L":return String(n+1);case"LL":return me(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,s,r,n){var i=eN(t,n);return s==="wo"?r.ordinalNumber(i,{unit:"week"}):me(i,s.length)},I:function(t,s,r){var n=G1(t);return s==="Io"?r.ordinalNumber(n,{unit:"week"}):me(n,s.length)},d:function(t,s,r){return s==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Ht.d(t,s)},D:function(t,s,r){var n=Q1(t);return s==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):me(n,s.length)},E:function(t,s,r){var n=t.getUTCDay();switch(s){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,s,r,n){var i=t.getUTCDay(),o=(i-n.weekStartsOn+8)%7||7;switch(s){case"e":return String(o);case"ee":return me(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,s,r,n){var i=t.getUTCDay(),o=(i-n.weekStartsOn+8)%7||7;switch(s){case"c":return String(o);case"cc":return me(o,s.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,s,r){var n=t.getUTCDay(),i=n===0?7:n;switch(s){case"i":return String(i);case"ii":return me(i,s.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,s,r){var n=t.getUTCHours(),i=n/12>=1?"pm":"am";switch(s){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,s,r){var n=t.getUTCHours(),i;switch(n===12?i=Ss.noon:n===0?i=Ss.midnight:i=n/12>=1?"pm":"am",s){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,s,r){var n=t.getUTCHours(),i;switch(n>=17?i=Ss.evening:n>=12?i=Ss.afternoon:n>=4?i=Ss.morning:i=Ss.night,s){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,s,r){if(s==="ho"){var n=t.getUTCHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ht.h(t,s)},H:function(t,s,r){return s==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Ht.H(t,s)},K:function(t,s,r){var n=t.getUTCHours()%12;return s==="Ko"?r.ordinalNumber(n,{unit:"hour"}):me(n,s.length)},k:function(t,s,r){var n=t.getUTCHours();return n===0&&(n=24),s==="ko"?r.ordinalNumber(n,{unit:"hour"}):me(n,s.length)},m:function(t,s,r){return s==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Ht.m(t,s)},s:function(t,s,r){return s==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Ht.s(t,s)},S:function(t,s){return Ht.S(t,s)},X:function(t,s,r,n){var i=n._originalDate||t,o=i.getTimezoneOffset();if(o===0)return"Z";switch(s){case"X":return xd(o);case"XXXX":case"XX":return cs(o);case"XXXXX":case"XXX":default:return cs(o,":")}},x:function(t,s,r,n){var i=n._originalDate||t,o=i.getTimezoneOffset();switch(s){case"x":return xd(o);case"xxxx":case"xx":return cs(o);case"xxxxx":case"xxx":default:return cs(o,":")}},O:function(t,s,r,n){var i=n._originalDate||t,o=i.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+yd(o,":");case"OOOO":default:return"GMT"+cs(o,":")}},z:function(t,s,r,n){var i=n._originalDate||t,o=i.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+yd(o,":");case"zzzz":default:return"GMT"+cs(o,":")}},t:function(t,s,r,n){var i=n._originalDate||t,o=Math.floor(i.getTime()/1e3);return me(o,s.length)},T:function(t,s,r,n){var i=n._originalDate||t,o=i.getTime();return me(o,s.length)}};function yd(e,t){var s=e>0?"-":"+",r=Math.abs(e),n=Math.floor(r/60),i=r%60;if(i===0)return s+String(n);var o=t;return s+String(n)+o+me(i,2)}function xd(e,t){if(e%60===0){var s=e>0?"-":"+";return s+me(Math.abs(e)/60,2)}return cs(e,t)}function cs(e,t){var s=t||"",r=e>0?"-":"+",n=Math.abs(e),i=me(Math.floor(n/60),2),o=me(n%60,2);return r+i+s+o}var vd=function(t,s){switch(t){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},Af=function(t,s){switch(t){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},sN=function(t,s){var r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return vd(t,s);var o;switch(n){case"P":o=s.dateTime({width:"short"});break;case"PP":o=s.dateTime({width:"medium"});break;case"PPP":o=s.dateTime({width:"long"});break;case"PPPP":default:o=s.dateTime({width:"full"});break}return o.replace("{{date}}",vd(n,s)).replace("{{time}}",Af(i,s))},rN={p:Af,P:sN},nN=["D","DD"],aN=["YY","YYYY"];function iN(e){return nN.indexOf(e)!==-1}function oN(e){return aN.indexOf(e)!==-1}function bd(e,t,s){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var lN={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},cN=function(t,s,r){var n,i=lN[t];return typeof i=="string"?n=i:s===1?n=i.one:n=i.other.replace("{{count}}",s.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Ls(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=t.width?String(t.width):e.defaultWidth,r=e.formats[s]||e.formats[e.defaultWidth];return r}}var dN={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},uN={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},hN={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fN={date:Ls({formats:dN,defaultWidth:"full"}),time:Ls({formats:uN,defaultWidth:"full"}),dateTime:Ls({formats:hN,defaultWidth:"full"})},mN={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},pN=function(t,s,r,n){return mN[t]};function Pt(e){return function(t,s){var r=s!=null&&s.context?String(s.context):"standalone",n;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=s!=null&&s.width?String(s.width):i;n=e.formattingValues[o]||e.formattingValues[i]}else{var l=e.defaultWidth,c=s!=null&&s.width?String(s.width):e.defaultWidth;n=e.values[c]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return n[u]}}var gN={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},yN={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xN={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},vN={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},bN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},wN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},jN=function(t,s){var r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},NN={ordinalNumber:jN,era:Pt({values:gN,defaultWidth:"wide"}),quarter:Pt({values:yN,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Pt({values:xN,defaultWidth:"wide"}),day:Pt({values:vN,defaultWidth:"wide"}),dayPeriod:Pt({values:bN,defaultWidth:"wide",formattingValues:wN,defaultFormattingWidth:"wide"})};function At(e){return function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=s.width,n=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(n);if(!i)return null;var o=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?SN(l,function(h){return h.test(o)}):TN(l,function(h){return h.test(o)}),u;u=e.valueCallback?e.valueCallback(c):c,u=s.valueCallback?s.valueCallback(u):u;var d=t.slice(o.length);return{value:u,rest:d}}}function TN(e,t){for(var s in e)if(e.hasOwnProperty(s)&&t(e[s]))return s}function SN(e,t){for(var s=0;s<e.length;s++)if(t(e[s]))return s}function Df(e){return function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var n=r[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];o=s.valueCallback?s.valueCallback(o):o;var l=t.slice(n.length);return{value:o,rest:l}}}var kN=/^(\d+)(th|st|nd|rd)?/i,CN=/\d+/i,_N={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},PN={any:[/^b/i,/^(a|c)/i]},AN={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},DN={any:[/1/i,/2/i,/3/i,/4/i]},EN={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},RN={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},MN={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ON={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},VN={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},FN={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},LN={ordinalNumber:Df({matchPattern:kN,parsePattern:CN,valueCallback:function(t){return parseInt(t,10)}}),era:At({matchPatterns:_N,defaultMatchWidth:"wide",parsePatterns:PN,defaultParseWidth:"any"}),quarter:At({matchPatterns:AN,defaultMatchWidth:"wide",parsePatterns:DN,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:At({matchPatterns:EN,defaultMatchWidth:"wide",parsePatterns:RN,defaultParseWidth:"any"}),day:At({matchPatterns:MN,defaultMatchWidth:"wide",parsePatterns:ON,defaultParseWidth:"any"}),dayPeriod:At({matchPatterns:VN,defaultMatchWidth:"any",parsePatterns:FN,defaultParseWidth:"any"})},Ef={code:"en-US",formatDistance:cN,formatLong:fN,formatRelative:pN,localize:NN,match:LN,options:{weekStartsOn:0,firstWeekContainsDate:1}},IN=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,UN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,BN=/^'([^]*?)'?$/,$N=/''/g,WN=/[a-zA-Z]/;function qN(e,t,s){var r,n,i,o,l,c,u,d,h,f,y,m,p,g,v,b,j,P;He(2,arguments);var _=String(t),M=Jn(),F=(r=(n=s?.locale)!==null&&n!==void 0?n:M.locale)!==null&&r!==void 0?r:Ef,T=rs((i=(o=(l=(c=s?.firstWeekContainsDate)!==null&&c!==void 0?c:s==null||(u=s.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:M.firstWeekContainsDate)!==null&&o!==void 0?o:(h=M.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var q=rs((y=(m=(p=(g=s?.weekStartsOn)!==null&&g!==void 0?g:s==null||(v=s.locale)===null||v===void 0||(b=v.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&p!==void 0?p:M.weekStartsOn)!==null&&m!==void 0?m:(j=M.locale)===null||j===void 0||(P=j.options)===null||P===void 0?void 0:P.weekStartsOn)!==null&&y!==void 0?y:0);if(!(q>=0&&q<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!F.localize)throw new RangeError("locale must contain localize property");if(!F.formatLong)throw new RangeError("locale must contain formatLong property");var te=Vt(e);if(!z1(te))throw new RangeError("Invalid time value");var ue=W1(te),X=H1(te,ue),re={firstWeekContainsDate:T,weekStartsOn:q,locale:F,_originalDate:te},ie=_.match(UN).map(function(k){var A=k[0];if(A==="p"||A==="P"){var K=rN[A];return K(k,F.formatLong)}return k}).join("").match(IN).map(function(k){if(k==="''")return"'";var A=k[0];if(A==="'")return zN(k);var K=tN[A];if(K)return!(s!=null&&s.useAdditionalWeekYearTokens)&&oN(k)&&bd(k,t,String(e)),!(s!=null&&s.useAdditionalDayOfYearTokens)&&iN(k)&&bd(k,t,String(e)),K(X,k,F.localize,re);if(A.match(WN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return k}).join("");return ie}function zN(e){var t=e.match(BN);return t?t[1].replace($N,"'"):e}function HN(e,t){var s;He(1,arguments);var r=rs((s=void 0)!==null&&s!==void 0?s:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var n=YN(e),i;if(n.date){var o=GN(n.date,r);i=XN(o.restDateString,o.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var l=i.getTime(),c=0,u;if(n.time&&(c=JN(n.time),isNaN(c)))return new Date(NaN);if(n.timezone){if(u=eT(n.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(l+c),h=new Date(0);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}return new Date(l+c+u)}var on={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},KN=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,QN=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ZN=/^([+-])(\d{2})(?::?(\d{2}))?$/;function YN(e){var t={},s=e.split(on.dateTimeDelimiter),r;if(s.length>2)return t;if(/:/.test(s[0])?r=s[0]:(t.date=s[0],r=s[1],on.timeZoneDelimiter.test(t.date)&&(t.date=e.split(on.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var n=on.timezone.exec(r);n?(t.time=r.replace(n[1],""),t.timezone=n[1]):t.time=r}return t}function GN(e,t){var s=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(s);if(!r)return{year:NaN,restDateString:""};var n=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?n:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function XN(e,t){if(t===null)return new Date(NaN);var s=e.match(KN);if(!s)return new Date(NaN);var r=!!s[4],n=cr(s[1]),i=cr(s[2])-1,o=cr(s[3]),l=cr(s[4]),c=cr(s[5])-1;if(r)return aT(t,l,c)?tT(t,l,c):new Date(NaN);var u=new Date(0);return!rT(t,i,o)||!nT(t,n)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(n,o)),u)}function cr(e){return e?parseInt(e):1}function JN(e){var t=e.match(QN);if(!t)return NaN;var s=Ma(t[1]),r=Ma(t[2]),n=Ma(t[3]);return iT(s,r,n)?s*Cf+r*kf+n*1e3:NaN}function Ma(e){return e&&parseFloat(e.replace(",","."))||0}function eT(e){if(e==="Z")return 0;var t=e.match(ZN);if(!t)return 0;var s=t[1]==="+"?-1:1,r=parseInt(t[2]),n=t[3]&&parseInt(t[3])||0;return oT(r,n)?s*(r*Cf+n*kf):NaN}function tT(e,t,s){var r=new Date(0);r.setUTCFullYear(e,0,4);var n=r.getUTCDay()||7,i=(t-1)*7+s+1-n;return r.setUTCDate(r.getUTCDate()+i),r}var sT=[31,null,31,30,31,30,31,31,30,31,30,31];function Rf(e){return e%400===0||e%4===0&&e%100!==0}function rT(e,t,s){return t>=0&&t<=11&&s>=1&&s<=(sT[t]||(Rf(e)?29:28))}function nT(e,t){return t>=1&&t<=(Rf(e)?366:365)}function aT(e,t,s){return t>=1&&t<=53&&s>=0&&s<=6}function iT(e,t,s){return e===24?t===0&&s===0:s>=0&&s<60&&t>=0&&t<60&&e>=0&&e<25}function oT(e,t){return t>=0&&t<=59}var lT={lessThanXSeconds:{one:"dưới 1 giây",other:"dưới {{count}} giây"},xSeconds:{one:"1 giây",other:"{{count}} giây"},halfAMinute:"nửa phút",lessThanXMinutes:{one:"dưới 1 phút",other:"dưới {{count}} phút"},xMinutes:{one:"1 phút",other:"{{count}} phút"},aboutXHours:{one:"khoảng 1 giờ",other:"khoảng {{count}} giờ"},xHours:{one:"1 giờ",other:"{{count}} giờ"},xDays:{one:"1 ngày",other:"{{count}} ngày"},aboutXWeeks:{one:"khoảng 1 tuần",other:"khoảng {{count}} tuần"},xWeeks:{one:"1 tuần",other:"{{count}} tuần"},aboutXMonths:{one:"khoảng 1 tháng",other:"khoảng {{count}} tháng"},xMonths:{one:"1 tháng",other:"{{count}} tháng"},aboutXYears:{one:"khoảng 1 năm",other:"khoảng {{count}} năm"},xYears:{one:"1 năm",other:"{{count}} năm"},overXYears:{one:"hơn 1 năm",other:"hơn {{count}} năm"},almostXYears:{one:"gần 1 năm",other:"gần {{count}} năm"}},cT=function(t,s,r){var n,i=lT[t];return typeof i=="string"?n=i:s===1?n=i.one:n=i.other.replace("{{count}}",String(s)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?n+" nữa":n+" trước":n},dT={full:"EEEE, 'ngày' d MMMM 'năm' y",long:"'ngày' d MMMM 'năm' y",medium:"d MMM 'năm' y",short:"dd/MM/y"},uT={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},hT={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},fT={date:Ls({formats:dT,defaultWidth:"full"}),time:Ls({formats:uT,defaultWidth:"full"}),dateTime:Ls({formats:hT,defaultWidth:"full"})},mT={lastWeek:"eeee 'tuần trước vào lúc' p",yesterday:"'hôm qua vào lúc' p",today:"'hôm nay vào lúc' p",tomorrow:"'ngày mai vào lúc' p",nextWeek:"eeee 'tới vào lúc' p",other:"P"},pT=function(t,s,r,n){return mT[t]},gT={narrow:["TCN","SCN"],abbreviated:["trước CN","sau CN"],wide:["trước Công Nguyên","sau Công Nguyên"]},yT={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["Quý 1","Quý 2","Quý 3","Quý 4"]},xT={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["quý I","quý II","quý III","quý IV"]},vT={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["Thg 1","Thg 2","Thg 3","Thg 4","Thg 5","Thg 6","Thg 7","Thg 8","Thg 9","Thg 10","Thg 11","Thg 12"],wide:["Tháng Một","Tháng Hai","Tháng Ba","Tháng Tư","Tháng Năm","Tháng Sáu","Tháng Bảy","Tháng Tám","Tháng Chín","Tháng Mười","Tháng Mười Một","Tháng Mười Hai"]},bT={narrow:["01","02","03","04","05","06","07","08","09","10","11","12"],abbreviated:["thg 1","thg 2","thg 3","thg 4","thg 5","thg 6","thg 7","thg 8","thg 9","thg 10","thg 11","thg 12"],wide:["tháng 01","tháng 02","tháng 03","tháng 04","tháng 05","tháng 06","tháng 07","tháng 08","tháng 09","tháng 10","tháng 11","tháng 12"]},wT={narrow:["CN","T2","T3","T4","T5","T6","T7"],short:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],abbreviated:["CN","Thứ 2","Thứ 3","Thứ 4","Thứ 5","Thứ 6","Thứ 7"],wide:["Chủ Nhật","Thứ Hai","Thứ Ba","Thứ Tư","Thứ Năm","Thứ Sáu","Thứ Bảy"]},jT={narrow:{am:"am",pm:"pm",midnight:"nửa đêm",noon:"tr",morning:"sg",afternoon:"ch",evening:"tối",night:"đêm"},abbreviated:{am:"AM",pm:"PM",midnight:"nửa đêm",noon:"trưa",morning:"sáng",afternoon:"chiều",evening:"tối",night:"đêm"},wide:{am:"SA",pm:"CH",midnight:"nửa đêm",noon:"trưa",morning:"sáng",afternoon:"chiều",evening:"tối",night:"đêm"}},NT={narrow:{am:"am",pm:"pm",midnight:"nửa đêm",noon:"tr",morning:"sg",afternoon:"ch",evening:"tối",night:"đêm"},abbreviated:{am:"AM",pm:"PM",midnight:"nửa đêm",noon:"trưa",morning:"sáng",afternoon:"chiều",evening:"tối",night:"đêm"},wide:{am:"SA",pm:"CH",midnight:"nửa đêm",noon:"giữa trưa",morning:"vào buổi sáng",afternoon:"vào buổi chiều",evening:"vào buổi tối",night:"vào ban đêm"}},TT=function(t,s){var r=Number(t),n=s?.unit;if(n==="quarter")switch(r){case 1:return"I";case 2:return"II";case 3:return"III";case 4:return"IV"}else if(n==="day")switch(r){case 1:return"thứ 2";case 2:return"thứ 3";case 3:return"thứ 4";case 4:return"thứ 5";case 5:return"thứ 6";case 6:return"thứ 7";case 7:return"chủ nhật"}else{if(n==="week")return r===1?"thứ nhất":"thứ "+r;if(n==="dayOfYear")return r===1?"đầu tiên":"thứ "+r}return String(r)},ST={ordinalNumber:TT,era:Pt({values:gT,defaultWidth:"wide"}),quarter:Pt({values:yT,defaultWidth:"wide",formattingValues:xT,defaultFormattingWidth:"wide",argumentCallback:function(t){return t-1}}),month:Pt({values:vT,defaultWidth:"wide",formattingValues:bT,defaultFormattingWidth:"wide"}),day:Pt({values:wT,defaultWidth:"wide"}),dayPeriod:Pt({values:jT,defaultWidth:"wide",formattingValues:NT,defaultFormattingWidth:"wide"})},kT=/^(\d+)/i,CT=/\d+/i,_T={narrow:/^(tcn|scn)/i,abbreviated:/^(trước CN|sau CN)/i,wide:/^(trước Công Nguyên|sau Công Nguyên)/i},PT={any:[/^t/i,/^s/i]},AT={narrow:/^([1234]|i{1,3}v?)/i,abbreviated:/^q([1234]|i{1,3}v?)/i,wide:/^quý ([1234]|i{1,3}v?)/i},DT={any:[/(1|i)$/i,/(2|ii)$/i,/(3|iii)$/i,/(4|iv)$/i]},ET={narrow:/^(0?[2-9]|10|11|12|0?1)/i,abbreviated:/^thg[ _]?(0?[1-9](?!\d)|10|11|12)/i,wide:/^tháng ?(Một|Hai|Ba|Tư|Năm|Sáu|Bảy|Tám|Chín|Mười|Mười ?Một|Mười ?Hai|0?[1-9](?!\d)|10|11|12)/i},RT={narrow:[/0?1$/i,/0?2/i,/3/,/4/,/5/,/6/,/7/,/8/,/9/,/10/,/11/,/12/],abbreviated:[/^thg[ _]?0?1(?!\d)/i,/^thg[ _]?0?2/i,/^thg[ _]?0?3/i,/^thg[ _]?0?4/i,/^thg[ _]?0?5/i,/^thg[ _]?0?6/i,/^thg[ _]?0?7/i,/^thg[ _]?0?8/i,/^thg[ _]?0?9/i,/^thg[ _]?10/i,/^thg[ _]?11/i,/^thg[ _]?12/i],wide:[/^tháng ?(Một|0?1(?!\d))/i,/^tháng ?(Hai|0?2)/i,/^tháng ?(Ba|0?3)/i,/^tháng ?(Tư|0?4)/i,/^tháng ?(Năm|0?5)/i,/^tháng ?(Sáu|0?6)/i,/^tháng ?(Bảy|0?7)/i,/^tháng ?(Tám|0?8)/i,/^tháng ?(Chín|0?9)/i,/^tháng ?(Mười|10)/i,/^tháng ?(Mười ?Một|11)/i,/^tháng ?(Mười ?Hai|12)/i]},MT={narrow:/^(CN|T2|T3|T4|T5|T6|T7)/i,short:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,abbreviated:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,wide:/^(Chủ ?Nhật|Chúa ?Nhật|thứ ?Hai|thứ ?Ba|thứ ?Tư|thứ ?Năm|thứ ?Sáu|thứ ?Bảy)/i},OT={narrow:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],short:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],abbreviated:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],wide:[/(Chủ|Chúa) ?Nhật/i,/Hai/i,/Ba/i,/Tư/i,/Năm/i,/Sáu/i,/Bảy/i]},VT={narrow:/^(a|p|nửa đêm|trưa|(giờ) (sáng|chiều|tối|đêm))/i,abbreviated:/^(am|pm|nửa đêm|trưa|(giờ) (sáng|chiều|tối|đêm))/i,wide:/^(ch[^i]*|sa|nửa đêm|trưa|(giờ) (sáng|chiều|tối|đêm))/i},FT={any:{am:/^(a|sa)/i,pm:/^(p|ch[^i]*)/i,midnight:/nửa đêm/i,noon:/trưa/i,morning:/sáng/i,afternoon:/chiều/i,evening:/tối/i,night:/^đêm/i}},LT={ordinalNumber:Df({matchPattern:kT,parsePattern:CT,valueCallback:function(t){return parseInt(t,10)}}),era:At({matchPatterns:_T,defaultMatchWidth:"wide",parsePatterns:PT,defaultParseWidth:"any"}),quarter:At({matchPatterns:AT,defaultMatchWidth:"wide",parsePatterns:DT,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:At({matchPatterns:ET,defaultMatchWidth:"wide",parsePatterns:RT,defaultParseWidth:"wide"}),day:At({matchPatterns:MT,defaultMatchWidth:"wide",parsePatterns:OT,defaultParseWidth:"wide"}),dayPeriod:At({matchPatterns:VT,defaultMatchWidth:"wide",parsePatterns:FT,defaultParseWidth:"any"})},IT={code:"vi",formatDistance:cT,formatLong:fT,formatRelative:pT,localize:ST,match:LT,options:{weekStartsOn:1,firstWeekContainsDate:1}};const dr=(e,t=ty.DISPLAY,s="vi")=>{const r=typeof e=="string"?HN(e):e;return qN(r,t,{locale:s==="vi"?IT:Ef})},Oa=e=>{if(e===0)return"0 Bytes";const t=1024,s=["Bytes","KB","MB","GB","TB"],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,r)).toFixed(2))+" "+s[r]},UT=10*1024*1024,Mf=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","image/jpeg","image/png","image/gif","text/plain"],wd=e=>e.size>UT?{valid:!1,error:`File size must be less than 10MB. Current size: ${(e.size/1024/1024).toFixed(2)}MB`}:Mf.includes(e.type)?{valid:!0}:{valid:!1,error:"File type not allowed. Allowed types: PDF, Word, Excel, PowerPoint, Images, and Text files"},BT=()=>{const{id:e}=kd(),t=ns(),{canAccess:s}=Tf(),r=Number(e),[n,i]=x.useState(!1),[o,l]=x.useState(!1),[c,u]=x.useState(null),[d,h]=x.useState(null),[f,y]=x.useState(""),[m,p]=x.useState(""),g=k1(r,!!r),v=C1(r,!!r),b=_1(r,!!r),j=E1(),P=R1(),_=x.useMemo(()=>s(void 0,["document.update","document.approve"]),[s]),M=x.useMemo(()=>s(void 0,["document.download"]),[s]),F=g.isLoading||v.isLoading,T=g.data?.data,q=x.useMemo(()=>v.data?.data??[],[v.data]),te=b.data?.data??[],ue=async()=>{if(!d||!f.trim()){z.error("Please select a file and enter a comment");return}const A=wd(d);if(!A.valid){z.error(A.error||"Invalid file");return}try{await j.mutateAsync({id:r,file:d,changeDescription:f}),z.success("New version uploaded successfully"),i(!1),h(null),y("")}catch{z.error("Failed to upload new version")}},X=A=>{const K=A.target.files?.[0];if(!K)return;const pe=wd(K);if(!pe.valid){z.error(pe.error||"Invalid file");return}h(K)},re=async()=>{if(!c||!m.trim()){z.error("Please enter a comment for reverting");return}try{await P.mutateAsync({id:r,versionId:Number(c.id),comment:m}),z.success(`Reverted to version ${c.version}`),l(!1),u(null),p("")}catch{z.error("Failed to revert version")}},ie=async(A=null)=>{try{const K=A&&A.id?await Tt.downloadVersion(r,Number(A.id)):await Tt.downloadDocument(r),pe=window.URL.createObjectURL(K),je=window.document.createElement("a");je.href=pe,je.download=A?.filename||T?.filename||T?.name||"document",window.document.body.appendChild(je),je.click(),window.URL.revokeObjectURL(pe),window.document.body.removeChild(je),z.success("Document downloaded successfully")}catch{z.error("Failed to download document")}};if(F)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(!T)return a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[a.jsx(Ut,{className:"h-16 w-16 text-gray-400 mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Document not found"}),a.jsx(W,{onClick:()=>t("/app/documents"),variant:"outline",children:"Back to Documents"})]});const k=[{key:"version",title:"Version",render:A=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"font-mono font-medium",children:["v",A.version]}),A.version===T.version&&a.jsx(et,{variant:"default",children:"Current"}),A.reverted_from_version&&a.jsxs(et,{variant:"secondary",children:["Revert from v",A.reverted_from_version]})]})},{key:"file_info",title:"File Info",render:A=>a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{className:"font-medium text-gray-900",children:A.filename}),a.jsx("div",{className:"text-gray-500",children:Oa(A.size)})]})},{key:"change",title:"Change Description",render:A=>a.jsx("div",{className:"text-sm text-gray-700 max-w-xs truncate",title:A.change_description,children:A.change_description||"No description"})},{key:"created_by",title:"Created By",render:A=>a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{className:"font-medium text-gray-900",children:A.uploaded_by_name}),a.jsx("div",{className:"text-gray-500",children:dr(A.uploaded_at)})]})},{key:"actions",title:"Actions",render:A=>a.jsxs("div",{className:"flex items-center space-x-2",children:[M&&a.jsx(W,{onClick:()=>ie(A),variant:"outline",size:"sm",children:a.jsx(pn,{className:"h-4 w-4"})}),A.version!==T.version&&_&&a.jsx(W,{onClick:()=>{u(A),l(!0)},variant:"outline",size:"sm",children:a.jsx(od,{className:"h-4 w-4"})})]})}];return a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(W,{onClick:()=>t("/app/documents"),variant:"outline",size:"sm",children:[a.jsx(bf,{className:"h-4 w-4 mr-2"}),"Back"]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:T.name}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:T.project_name&&`Project: ${T.project_name}`})]})]}),_&&a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs(W,{onClick:()=>i(!0),variant:"default",children:[a.jsx(Aj,{className:"h-4 w-4 mr-2"}),"Upload New Version"]})})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsx(ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[a.jsx(Ut,{className:"h-5 w-5 mr-2"}),"Current Version (v",T.version,")"]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-500",children:"File Type:"}),a.jsx("p",{className:"text-sm text-gray-900",children:T.mime_type})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Size:"}),a.jsx("p",{className:"text-sm text-gray-900",children:Oa(T.size)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Uploaded By:"}),a.jsx("p",{className:"text-sm text-gray-900",children:T.uploaded_by_name})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Upload Date:"}),a.jsx("p",{className:"text-sm text-gray-900",children:dr(T.uploaded_at)})]})]}),T.description&&a.jsxs("div",{className:"mb-4",children:[a.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Description:"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:T.description})]}),M&&a.jsxs(W,{onClick:()=>ie(null),variant:"default",size:"sm",children:[a.jsx(pn,{className:"h-4 w-4 mr-2"}),"Download"]})]})]})}),a.jsx(ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[a.jsx(cd,{className:"h-5 w-5 mr-2"}),"Version History (",q.length,")"]}),a.jsx(U1,{data:q,columns:k})]})}),te.length>0&&a.jsx(ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[a.jsx(cd,{className:"h-5 w-5 mr-2"}),"Activity Log"]}),a.jsx("div",{className:"space-y-3",children:te.slice(0,10).map(A=>a.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded",children:[a.jsxs("div",{className:"flex-shrink-0",children:[A.action==="upload"&&a.jsx(js,{className:"h-5 w-5 text-blue-500"}),A.action==="download"&&a.jsx(pn,{className:"h-5 w-5 text-green-500"}),A.action==="approve"&&a.jsx(qj,{className:"h-5 w-5 text-purple-500"}),A.action==="revert"&&a.jsx(od,{className:"h-5 w-5 text-yellow-500"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[A.actor_name," ",A.action,"d this document"]}),a.jsx("div",{className:"text-xs text-gray-500",children:dr(A.created_at)})]})]},A.id))})]})})]}),a.jsx("div",{className:"space-y-6",children:a.jsx(ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Document Information"}),a.jsxs("dl",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Name"}),a.jsx("dd",{className:"text-sm text-gray-900",children:T.name})]}),a.jsxs("div",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Filename"}),a.jsx("dd",{className:"text-sm text-gray-900",children:T.filename})]}),T.project_name&&a.jsxs("div",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Project"}),a.jsx("dd",{className:"text-sm text-gray-900",children:T.project_name})]}),a.jsxs("div",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Total Versions"}),a.jsx("dd",{className:"text-sm text-gray-900",children:q.length})]}),a.jsxs("div",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Created"}),a.jsx("dd",{className:"text-sm text-gray-900",children:dr(T.uploaded_at)})]}),a.jsxs("div",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Updated"}),a.jsx("dd",{className:"text-sm text-gray-900",children:dr(T.updated_at)})]}),a.jsxs("div",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Download Count"}),a.jsx("dd",{className:"text-sm text-gray-900",children:T.download_count})]})]})]})})})]}),n&&a.jsx(ki,{isOpen:n,onClose:()=>i(!1),title:"Upload New Version",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select File *"}),a.jsx("input",{type:"file",onChange:X,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",accept:Mf.join(",")}),d&&a.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-sm text-gray-700",children:[d.name," (",Oa(d.size),")"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Change Description *"}),a.jsx(Rr,{value:f,onChange:A=>y(A.target.value),placeholder:"Describe the changes in this version...",rows:3})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(W,{onClick:()=>i(!1),variant:"outline",disabled:j.isPending,children:"Cancel"}),a.jsx(W,{onClick:ue,disabled:!d||!f.trim()||j.isPending,children:j.isPending?"Uploading...":"Upload"})]})]})}),o&&c&&a.jsx(ki,{isOpen:o,onClose:()=>l(!1),title:"Revert to Previous Version",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded",children:a.jsxs("p",{className:"text-sm text-yellow-800",children:["You are about to revert to version ",c.version,". This action will create a new version based on the selected one."]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for Revert *"}),a.jsx(Rr,{value:m,onChange:A=>p(A.target.value),placeholder:"Explain why you are reverting to this version...",rows:3})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(W,{onClick:()=>l(!1),variant:"outline",children:"Cancel"}),a.jsx(W,{onClick:re,disabled:!m.trim(),variant:"default",children:"Revert"})]})]})})]})},$T=({children:e})=>{const{isAuthenticated:t,isLoading:s}=Lu(),r=Td();return s?a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-[var(--color-surface-base)] text-[var(--color-text-secondary)]",children:"Đang xác thực phiên đăng nhập..."}):t?e:a.jsx(Os,{to:"/login",state:{from:r},replace:!0})},WT=Hf([{path:"/app",element:a.jsx($T,{children:a.jsx(Xg,{})}),children:[{index:!0,element:a.jsx(Os,{to:"/app/dashboard",replace:!0})},{path:"dashboard",element:a.jsx(Ey,{})},{path:"alerts",element:a.jsx(Ry,{})},{path:"preferences",element:a.jsx(Ux,{})},{path:"projects",element:a.jsx(S1,{})},{path:"projects/:id",element:a.jsx(M1,{})},{path:"documents",element:a.jsx(L1,{})},{path:"documents/:id",element:a.jsx(BT,{})}]},{path:"/admin",element:a.jsx(oy,{children:a.jsx(Jg,{})}),children:[{index:!0,element:a.jsx(Os,{to:"/admin/dashboard",replace:!0})},{path:"dashboard",element:a.jsx(a1,{})},{path:"users",element:a.jsx(c1,{})},{path:"roles",element:a.jsx(f1,{})},{path:"tenants",element:a.jsx(x1,{})}]},{path:"/login",element:a.jsx($x,{})},{path:"/forgot-password",element:a.jsx(qx,{})},{path:"/reset-password",element:a.jsx(Hx,{})},{path:"*",element:a.jsx(Os,{to:"/app/dashboard",replace:!0})}],{future:{}}),qT=()=>{if(typeof window>"u")return"light";const e=window.localStorage.getItem("zenamanage.theme");return e==="light"||e==="dark"?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"},zT=()=>{const[e,t]=x.useState(()=>qT()),[s]=x.useState(()=>new xm({defaultOptions:{queries:{retry:1,staleTime:6e4,refetchOnWindowFocus:!1}}}));x.useEffect(()=>{Tn(e),typeof window<"u"&&window.localStorage.setItem("zenamanage.theme",e)},[e]),x.useEffect(()=>{zg()},[]),x.useEffect(()=>{if(typeof window>"u")return;const n=window.matchMedia("(prefers-color-scheme: dark)"),i=o=>{window.localStorage.getItem("zenamanage.theme")||t(o.matches?"dark":"light")};return n.addEventListener("change",i),()=>n.removeEventListener("change",i)},[]);const r=x.useMemo(()=>({mode:e,setMode:t,toggleMode:()=>t(n=>dx(n))}),[e]);return a.jsx(Bm,{locale:"en",children:a.jsx(Ld.Provider,{value:r,children:a.jsx(Nm,{client:s,children:a.jsxs("div",{className:"min-h-screen bg-[var(--color-surface-base)] text-[var(--color-text-primary)]",children:[a.jsx(Kf,{router:WT}),a.jsx(Qf,{position:"top-right",toastOptions:{duration:3500,style:{background:"var(--color-surface-card)",color:"var(--color-text-primary)",border:"1px solid var(--color-border-subtle)",boxShadow:"0 12px 24px rgba(15, 23, 42, 0.12)"}}})]})})})})};tm.createRoot(document.getElementById("root")).render(a.jsx(Z.StrictMode,{children:a.jsx(zT,{})}));
