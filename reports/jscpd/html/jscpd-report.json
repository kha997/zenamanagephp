{
  "statistics": {
    "detectionDate": "2025-10-09T15:47:10.528Z",
    "formats": {
      "javascript": {
        "sources": {
          "src/components/ui/header/UserMenu.tsx": {
            "lines": 129,
            "tokens": 980,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/header/SearchToggle.tsx": {
            "lines": 34,
            "tokens": 234,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/header/SearchOverlay.tsx": {
            "lines": 82,
            "tokens": 797,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/header/PrimaryNav.tsx": {
            "lines": 39,
            "tokens": 338,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/header/NotificationsOverlay.tsx": {
            "lines": 69,
            "tokens": 561,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/header/NotificationsBell.tsx": {
            "lines": 45,
            "tokens": 334,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/header/MobileSheet.tsx": {
            "lines": 10,
            "tokens": 55,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/header/HeaderShell.tsx": {
            "lines": 80,
            "tokens": 510,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/header/Hamburger.tsx": {
            "lines": 4,
            "tokens": 42,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/pages/admin/UsersManagementPage.tsx": {
            "lines": 556,
            "tokens": 4372,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 96,
            "duplicatedTokens": 738,
            "percentage": 17.27,
            "percentageTokens": 16.88,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/pages/admin/SystemLogsPage.tsx": {
            "lines": 336,
            "tokens": 2692,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/components/ui/Table.tsx": {
            "lines": 21,
            "tokens": 243,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/components/ui/Modal.tsx": {
            "lines": 3,
            "tokens": 24,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/components/ui/Input.tsx": {
            "lines": 0,
            "tokens": 18,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/components/ui/Card.tsx": {
            "lines": 0,
            "tokens": 7,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/components/ui/Button.tsx": {
            "lines": 1,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/components/layout/Layout.tsx": {
            "lines": 0,
            "tokens": 7,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/security/realtime.js": {
            "lines": 333,
            "tokens": 2473,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/security/charts.js": {
            "lines": 248,
            "tokens": 1919,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 124,
            "duplicatedTokens": 968,
            "percentage": 50,
            "percentageTokens": 50.44,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/pages/users.js": {
            "lines": 106,
            "tokens": 827,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/pages/tenants.js": {
            "lines": 106,
            "tokens": 827,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/components/DashboardDemo.tsx": {
            "lines": 79,
            "tokens": 694,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/rewards.js": {
            "lines": 426,
            "tokens": 2544,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 45,
            "duplicatedTokens": 380,
            "percentage": 10.56,
            "percentageTokens": 14.94,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/focus-mode.js": {
            "lines": 392,
            "tokens": 2129,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 23,
            "duplicatedTokens": 188,
            "percentage": 5.87,
            "percentageTokens": 8.83,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/bootstrap.js": {
            "lines": 62,
            "tokens": 520,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/app.tsx": {
            "lines": 31,
            "tokens": 143,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/app.js": {
            "lines": 399,
            "tokens": 3176,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/alpine-data-functions.js": {
            "lines": 974,
            "tokens": 7232,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 4565,
          "tokens": 33707,
          "sources": 28,
          "clones": 7,
          "duplicatedLines": 144,
          "duplicatedTokens": 1137,
          "percentage": 3.15,
          "percentageTokens": 3.37,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "tsx": {
        "sources": {
          "src/components/ui/header/UserMenu.tsx": {
            "lines": 289,
            "tokens": 2275,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 42,
            "duplicatedTokens": 285,
            "percentage": 14.53,
            "percentageTokens": 12.53,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/header/SearchToggle.tsx": {
            "lines": 156,
            "tokens": 1256,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 39,
            "duplicatedTokens": 318,
            "percentage": 25,
            "percentageTokens": 25.32,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/header/SearchOverlay.tsx": {
            "lines": 194,
            "tokens": 1604,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 129,
            "percentage": 7.22,
            "percentageTokens": 8.04,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/header/PrimaryNav.tsx": {
            "lines": 119,
            "tokens": 991,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/header/NotificationsOverlay.tsx": {
            "lines": 137,
            "tokens": 1144,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 129,
            "percentage": 10.22,
            "percentageTokens": 11.28,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/header/NotificationsBell.tsx": {
            "lines": 140,
            "tokens": 1121,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 25,
            "duplicatedTokens": 223,
            "percentage": 17.86,
            "percentageTokens": 19.89,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/header/MobileSheet.tsx": {
            "lines": 152,
            "tokens": 1119,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/header/HeaderShell.tsx": {
            "lines": 188,
            "tokens": 1289,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/header/Hamburger.tsx": {
            "lines": 31,
            "tokens": 249,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/pages/admin/UsersManagementPage.tsx": {
            "lines": 805,
            "tokens": 6605,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 88,
            "duplicatedTokens": 690,
            "percentage": 10.93,
            "percentageTokens": 10.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/pages/admin/SystemLogsPage.tsx": {
            "lines": 768,
            "tokens": 6388,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/components/ui/Table.tsx": {
            "lines": 77,
            "tokens": 657,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/components/ui/Modal.tsx": {
            "lines": 50,
            "tokens": 342,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/components/ui/Input.tsx": {
            "lines": 34,
            "tokens": 262,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/components/ui/Card.tsx": {
            "lines": 13,
            "tokens": 111,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/components/ui/Button.tsx": {
            "lines": 45,
            "tokens": 348,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/components/layout/Layout.tsx": {
            "lines": 15,
            "tokens": 127,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/components/DashboardDemo.tsx": {
            "lines": 161,
            "tokens": 1416,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 64,
            "duplicatedTokens": 456,
            "percentage": 39.75,
            "percentageTokens": 32.2,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/app.tsx": {
            "lines": 112,
            "tokens": 726,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 3486,
          "tokens": 28030,
          "sources": 19,
          "clones": 7,
          "duplicatedLines": 143,
          "duplicatedTokens": 1115,
          "percentage": 4.1,
          "percentageTokens": 3.98,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "typescript": {
        "sources": {
          "src/lib/menu/filterMenu.ts": {
            "lines": 136,
            "tokens": 981,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useHeaderCondense.ts": {
            "lines": 58,
            "tokens": 447,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/lib/utils.ts": {
            "lines": 48,
            "tokens": 522,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/lib/types.ts": {
            "lines": 47,
            "tokens": 311,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/hooks/useDashboard.ts": {
            "lines": 100,
            "tokens": 863,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 20,
            "duplicatedTokens": 246,
            "percentage": 20,
            "percentageTokens": 28.51,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "resources/js/hooks/useApi.ts": {
            "lines": 120,
            "tokens": 1167,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 509,
          "tokens": 4291,
          "sources": 6,
          "clones": 1,
          "duplicatedLines": 10,
          "duplicatedTokens": 123,
          "percentage": 1.96,
          "percentageTokens": 2.87,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "php": {
        "sources": {
          "src/WorkTemplate/routes/api.php": {
            "lines": 187,
            "tokens": 1892,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/WorkTemplate/Services/TemplateService.php": {
            "lines": 506,
            "tokens": 3258,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 56,
            "duplicatedTokens": 257,
            "percentage": 11.07,
            "percentageTokens": 7.89,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/WorkTemplate/Services/ProjectTaskService.php": {
            "lines": 195,
            "tokens": 1389,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/WorkTemplate/Resources/TemplateVersionResource.php": {
            "lines": 45,
            "tokens": 238,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/WorkTemplate/Resources/TemplateResource.php": {
            "lines": 70,
            "tokens": 435,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/WorkTemplate/Resources/TemplateCollectionResource.php": {
            "lines": 58,
            "tokens": 343,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/WorkTemplate/Resources/ProjectTaskResource.php": {
            "lines": 70,
            "tokens": 471,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/WorkTemplate/Resources/ProjectPhaseResource.php": {
            "lines": 61,
            "tokens": 411,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/WorkTemplate/Resources/ApplyTemplateResultResource.php": {
            "lines": 66,
            "tokens": 451,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/WorkTemplate/Requests/UpdateTemplateRequest.php": {
            "lines": 269,
            "tokens": 1606,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 86,
            "duplicatedTokens": 694,
            "percentage": 31.97,
            "percentageTokens": 43.21,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/WorkTemplate/Requests/CreateTemplateRequest.php": {
            "lines": 267,
            "tokens": 1577,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 86,
            "duplicatedTokens": 694,
            "percentage": 32.21,
            "percentageTokens": 44.01,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/WorkTemplate/Requests/ApplyTemplateRequest.php": {
            "lines": 319,
            "tokens": 1975,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/WorkTemplate/Providers/WorkTemplateServiceProvider.php": {
            "lines": 65,
            "tokens": 316,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/WorkTemplate/Models/TemplateVersion.php": {
            "lines": 109,
            "tokens": 529,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/WorkTemplate/Models/Template.php": {
            "lines": 207,
            "tokens": 1200,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/WorkTemplate/Models/ProjectTask.php": {
            "lines": 229,
            "tokens": 1143,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 21,
            "duplicatedTokens": 64,
            "percentage": 9.17,
            "percentageTokens": 5.6,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/WorkTemplate/Models/ProjectPhase.php": {
            "lines": 165,
            "tokens": 807,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 21,
            "duplicatedTokens": 64,
            "percentage": 12.73,
            "percentageTokens": 7.93,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/WorkTemplate/Listeners/WorkTemplateEventListener.php": {
            "lines": 114,
            "tokens": 647,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/WorkTemplate/Events/TemplateApplied.php": {
            "lines": 156,
            "tokens": 824,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 15,
            "duplicatedTokens": 90,
            "percentage": 9.62,
            "percentageTokens": 10.92,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/WorkTemplate/Events/TaskConditionalToggled.php": {
            "lines": 150,
            "tokens": 632,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 15,
            "duplicatedTokens": 90,
            "percentage": 10,
            "percentageTokens": 14.24,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/WorkTemplate/Controllers/TemplateController.php": {
            "lines": 284,
            "tokens": 1689,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 10,
            "duplicatedTokens": 95,
            "percentage": 3.52,
            "percentageTokens": 5.62,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/WorkTemplate/Controllers/ProjectTaskController.php": {
            "lines": 251,
            "tokens": 1501,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 10,
            "duplicatedTokens": 95,
            "percentage": 3.98,
            "percentageTokens": 6.33,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Shared/Requests/BaseApiRequest.php": {
            "lines": 80,
            "tokens": 509,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/RBAC/routes/api.php": {
            "lines": 81,
            "tokens": 1092,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/RBAC/Traits/HasRBACContext.php": {
            "lines": 114,
            "tokens": 458,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/RBAC/Services/RBACManager.php": {
            "lines": 412,
            "tokens": 2940,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 108,
            "duplicatedTokens": 710,
            "percentage": 26.21,
            "percentageTokens": 24.15,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/RBAC/Services/PermissionMatrixService.php": {
            "lines": 244,
            "tokens": 1753,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/RBAC/Services/AuthService.php": {
            "lines": 276,
            "tokens": 1645,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/RBAC/Resources/UserResource.php": {
            "lines": 68,
            "tokens": 462,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/RBAC/Resources/RoleResource.php": {
            "lines": 78,
            "tokens": 464,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/RBAC/Resources/RoleCollection.php": {
            "lines": 72,
            "tokens": 462,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/RBAC/Resources/PermissionResource.php": {
            "lines": 92,
            "tokens": 623,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/RBAC/Providers/RBACServiceProvider.php": {
            "lines": 42,
            "tokens": 263,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/RBAC/Models/UserRoleSystem.php": {
            "lines": 102,
            "tokens": 537,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 21,
            "duplicatedTokens": 88,
            "percentage": 20.59,
            "percentageTokens": 16.39,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/RBAC/Models/UserRoleProject.php": {
            "lines": 114,
            "tokens": 553,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 46,
            "duplicatedTokens": 210,
            "percentage": 40.35,
            "percentageTokens": 37.97,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/RBAC/Models/UserRoleCustom.php": {
            "lines": 87,
            "tokens": 410,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 67,
            "duplicatedTokens": 298,
            "percentage": 77.01,
            "percentageTokens": 72.68,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/RBAC/Models/RolePermission.php": {
            "lines": 34,
            "tokens": 163,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/RBAC/Models/Role.php": {
            "lines": 140,
            "tokens": 699,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/RBAC/Models/Permission.php": {
            "lines": 99,
            "tokens": 492,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/RBAC/Middleware/TenantIsolationMiddleware.php": {
            "lines": 36,
            "tokens": 183,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/RBAC/Middleware/RBACMiddleware.php": {
            "lines": 204,
            "tokens": 1132,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/RBAC/Middleware/ProjectContextMiddleware.php": {
            "lines": 54,
            "tokens": 328,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/RBAC/Middleware/AdminOnlyMiddleware.php": {
            "lines": 49,
            "tokens": 269,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/RBAC/Controllers/RoleController.php": {
            "lines": 300,
            "tokens": 2410,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/RBAC/Controllers/RBACController.php": {
            "lines": 308,
            "tokens": 2408,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/RBAC/Controllers/PermissionMatrixController.php": {
            "lines": 221,
            "tokens": 1698,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/RBAC/Controllers/PermissionController.php": {
            "lines": 142,
            "tokens": 1135,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/RBAC/Controllers/AuthController.php": {
            "lines": 201,
            "tokens": 1323,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/RBAC/Controllers/AssignmentController.php": {
            "lines": 199,
            "tokens": 1421,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 52,
            "duplicatedTokens": 396,
            "percentage": 26.13,
            "percentageTokens": 27.87,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Notification/routes/api.php": {
            "lines": 91,
            "tokens": 732,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Notification/Services/NotificationService.php": {
            "lines": 317,
            "tokens": 1912,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Notification/Services/NotificationRuleService.php": {
            "lines": 341,
            "tokens": 2136,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Notification/Resources/NotificationStatsResource.php": {
            "lines": 144,
            "tokens": 1049,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Notification/Resources/NotificationRuleResource.php": {
            "lines": 73,
            "tokens": 595,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Notification/Resources/NotificationRuleCollection.php": {
            "lines": 85,
            "tokens": 548,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Notification/Resources/NotificationResource.php": {
            "lines": 63,
            "tokens": 408,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Notification/Resources/NotificationCollection.php": {
            "lines": 62,
            "tokens": 407,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Notification/Requests/UpdateNotificationRuleRequest.php": {
            "lines": 123,
            "tokens": 712,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 70,
            "duplicatedTokens": 439,
            "percentage": 56.91,
            "percentageTokens": 61.66,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Notification/Requests/UpdateNotificationRequest.php": {
            "lines": 80,
            "tokens": 398,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 17,
            "duplicatedTokens": 97,
            "percentage": 21.25,
            "percentageTokens": 24.37,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Notification/Requests/StoreNotificationRuleRequest.php": {
            "lines": 168,
            "tokens": 967,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 107,
            "duplicatedTokens": 623,
            "percentage": 63.69,
            "percentageTokens": 64.43,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Notification/Requests/StoreNotificationRequest.php": {
            "lines": 133,
            "tokens": 698,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 54,
            "duplicatedTokens": 281,
            "percentage": 40.6,
            "percentageTokens": 40.26,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Notification/Providers/NotificationServiceProvider.php": {
            "lines": 36,
            "tokens": 189,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Notification/Models/NotificationRule.php": {
            "lines": 256,
            "tokens": 1499,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Notification/Models/Notification.php": {
            "lines": 224,
            "tokens": 1195,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Notification/Listeners/NotificationRuleEventListener.php": {
            "lines": 96,
            "tokens": 497,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Notification/Listeners/NotificationEventListener.php": {
            "lines": 420,
            "tokens": 2301,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Notification/Listeners/NotificationChannelListener.php": {
            "lines": 215,
            "tokens": 1282,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Notification/Events/ProjectNotificationBroadcast.php": {
            "lines": 104,
            "tokens": 483,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Notification/Events/NotificationTriggered.php": {
            "lines": 48,
            "tokens": 352,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Notification/Events/NotificationRuleUpdated.php": {
            "lines": 70,
            "tokens": 265,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 20,
            "duplicatedTokens": 118,
            "percentage": 28.57,
            "percentageTokens": 44.53,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Notification/Events/NotificationRuleDeleted.php": {
            "lines": 59,
            "tokens": 223,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Notification/Events/NotificationRuleCreated.php": {
            "lines": 59,
            "tokens": 223,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Notification/Events/NotificationRead.php": {
            "lines": 70,
            "tokens": 266,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Notification/Events/NotificationCreated.php": {
            "lines": 59,
            "tokens": 223,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Notification/Events/NotificationChannelSent.php": {
            "lines": 92,
            "tokens": 355,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Notification/Events/NotificationBroadcast.php": {
            "lines": 89,
            "tokens": 613,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Notification/Controllers/NotificationRuleController.php": {
            "lines": 348,
            "tokens": 2052,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Notification/Controllers/NotificationController.php": {
            "lines": 312,
            "tokens": 1846,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/InteractionLogs/routes/api.php": {
            "lines": 81,
            "tokens": 703,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/InteractionLogs/Services/InteractionLogService.php": {
            "lines": 636,
            "tokens": 4255,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 292,
            "duplicatedTokens": 2046,
            "percentage": 45.91,
            "percentageTokens": 48.08,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/InteractionLogs/Services/InteractionLogQueryService.php": {
            "lines": 283,
            "tokens": 1729,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/InteractionLogs/Resources/InteractionLogResource.php": {
            "lines": 55,
            "tokens": 475,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/InteractionLogs/Resources/InteractionLogCollection.php": {
            "lines": 37,
            "tokens": 263,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/InteractionLogs/Requests/UpdateInteractionLogRequest.php": {
            "lines": 51,
            "tokens": 286,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/InteractionLogs/Requests/StoreInteractionLogRequest.php": {
            "lines": 65,
            "tokens": 385,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/InteractionLogs/Providers/InteractionLogServiceProvider.php": {
            "lines": 84,
            "tokens": 348,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/InteractionLogs/Models/InteractionLog.php": {
            "lines": 216,
            "tokens": 1115,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/InteractionLogs/Listeners/InteractionLogEventListener.php": {
            "lines": 93,
            "tokens": 550,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/InteractionLogs/Events/InteractionLogUpdated.php": {
            "lines": 56,
            "tokens": 380,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/InteractionLogs/Events/InteractionLogDeleted.php": {
            "lines": 32,
            "tokens": 183,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/InteractionLogs/Events/InteractionLogCreated.php": {
            "lines": 67,
            "tokens": 394,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/InteractionLogs/Events/InteractionLogApprovedForClient.php": {
            "lines": 39,
            "tokens": 271,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/InteractionLogs/Events/InteractionLogApproved.php": {
            "lines": 41,
            "tokens": 277,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/InteractionLogs/Controllers/InteractionLogController.php": {
            "lines": 415,
            "tokens": 2360,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 38,
            "duplicatedTokens": 186,
            "percentage": 9.16,
            "percentageTokens": 7.88,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Utils/JSendResponse.php": {
            "lines": 68,
            "tokens": 323,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Utils/FileUploadHandler.php": {
            "lines": 189,
            "tokens": 1252,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Traits/HasVisibility.php": {
            "lines": 88,
            "tokens": 392,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Traits/HasULID.php": {
            "lines": 41,
            "tokens": 182,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Traits/HasTimestamps.php": {
            "lines": 45,
            "tokens": 232,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Traits/HasTags.php": {
            "lines": 92,
            "tokens": 430,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Traits/HasSoftDeletes.php": {
            "lines": 155,
            "tokens": 815,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Traits/HasOwnership.php": {
            "lines": 93,
            "tokens": 522,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Traits/HasAuditLog.php": {
            "lines": 97,
            "tokens": 599,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Traits/HasAuditFields.php": {
            "lines": 61,
            "tokens": 346,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Traits/FoundationTrait.php": {
            "lines": 85,
            "tokens": 443,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Services/WebSocketService.php": {
            "lines": 151,
            "tokens": 814,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Services/ValidationService.php": {
            "lines": 234,
            "tokens": 1616,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Services/FileStorageService.php": {
            "lines": 266,
            "tokens": 2091,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Services/EventBusService.php": {
            "lines": 99,
            "tokens": 497,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Services/EventBus.php": {
            "lines": 74,
            "tokens": 346,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Services/EnhancedMimeValidationService.php": {
            "lines": 358,
            "tokens": 2644,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Services/CacheService.php": {
            "lines": 204,
            "tokens": 1403,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Services/AuditService.php": {
            "lines": 220,
            "tokens": 1587,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Providers/EventServiceProvider.php": {
            "lines": 89,
            "tokens": 461,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Providers/EventBusServiceProvider.php": {
            "lines": 134,
            "tokens": 772,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Middleware/PermissionMiddleware.php": {
            "lines": 112,
            "tokens": 671,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Listeners/NotificationDispatchListener.php": {
            "lines": 199,
            "tokens": 1369,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Listeners/InterModuleCommunicationListener.php": {
            "lines": 252,
            "tokens": 1381,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Listeners/EventLogListener.php": {
            "lines": 161,
            "tokens": 1163,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Listeners/AuditListener.php": {
            "lines": 201,
            "tokens": 1374,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Helpers/ValidationHelper.php": {
            "lines": 121,
            "tokens": 697,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Helpers/StringHelper.php": {
            "lines": 113,
            "tokens": 926,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Helpers/AuthHelper.php": {
            "lines": 71,
            "tokens": 495,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Helpers/ArrayHelper.php": {
            "lines": 116,
            "tokens": 649,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Events/TaskCompleted.php": {
            "lines": 11,
            "tokens": 56,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Events/ProjectCreated.php": {
            "lines": 11,
            "tokens": 56,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Events/ComponentProgressUpdated.php": {
            "lines": 11,
            "tokens": 56,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Events/ChangeRequestApproved.php": {
            "lines": 30,
            "tokens": 196,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Events/BaseEvent.php": {
            "lines": 118,
            "tokens": 518,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Decorators/RequirePermissions.php": {
            "lines": 68,
            "tokens": 349,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Controllers/FileController.php": {
            "lines": 160,
            "tokens": 1035,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/DocumentManagement/routes/api.php": {
            "lines": 33,
            "tokens": 252,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/DocumentManagement/Services/DocumentService.php": {
            "lines": 283,
            "tokens": 2210,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 10,
            "duplicatedTokens": 69,
            "percentage": 3.53,
            "percentageTokens": 3.12,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/DocumentManagement/Resources/DocumentVersionResource.php": {
            "lines": 57,
            "tokens": 452,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/DocumentManagement/Resources/DocumentResource.php": {
            "lines": 63,
            "tokens": 560,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/DocumentManagement/Resources/DocumentCollection.php": {
            "lines": 32,
            "tokens": 184,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 18,
            "duplicatedTokens": 132,
            "percentage": 56.25,
            "percentageTokens": 71.74,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/DocumentManagement/Requests/UpdateDocumentRequest.php": {
            "lines": 89,
            "tokens": 447,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 42,
            "duplicatedTokens": 237,
            "percentage": 47.19,
            "percentageTokens": 53.02,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/DocumentManagement/Requests/StoreDocumentRequest.php": {
            "lines": 108,
            "tokens": 559,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 42,
            "duplicatedTokens": 237,
            "percentage": 38.89,
            "percentageTokens": 42.4,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/DocumentManagement/Providers/DocumentManagementServiceProvider.php": {
            "lines": 35,
            "tokens": 187,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/DocumentManagement/Models/DocumentVersion.php": {
            "lines": 235,
            "tokens": 1319,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/DocumentManagement/Models/Document.php": {
            "lines": 262,
            "tokens": 1420,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 46,
            "duplicatedTokens": 202,
            "percentage": 17.56,
            "percentageTokens": 14.23,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/DocumentManagement/Listeners/DocumentEventListener.php": {
            "lines": 427,
            "tokens": 3044,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 10,
            "duplicatedTokens": 69,
            "percentage": 2.34,
            "percentageTokens": 2.27,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/DocumentManagement/Events/DocumentVersionReverted.php": {
            "lines": 39,
            "tokens": 252,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/DocumentManagement/Events/DocumentVersionCreated.php": {
            "lines": 41,
            "tokens": 292,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/DocumentManagement/Events/DocumentUpdated.php": {
            "lines": 42,
            "tokens": 295,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 30,
            "duplicatedTokens": 245,
            "percentage": 71.43,
            "percentageTokens": 83.05,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/DocumentManagement/Events/DocumentDeleted.php": {
            "lines": 40,
            "tokens": 242,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/DocumentManagement/Events/DocumentCreated.php": {
            "lines": 43,
            "tokens": 319,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 24,
            "duplicatedTokens": 201,
            "percentage": 55.81,
            "percentageTokens": 63.01,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/DocumentManagement/Events/DocumentApprovedForClient.php": {
            "lines": 40,
            "tokens": 274,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 26,
            "duplicatedTokens": 206,
            "percentage": 65,
            "percentageTokens": 75.18,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/DocumentManagement/Controllers/DocumentController.php": {
            "lines": 299,
            "tokens": 1924,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/routes/api.php": {
            "lines": 102,
            "tokens": 1331,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Services/WorkTemplateApplicationService.php": {
            "lines": 428,
            "tokens": 3094,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 33,
            "duplicatedTokens": 130,
            "percentage": 7.71,
            "percentageTokens": 4.2,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Services/TaskService.php": {
            "lines": 450,
            "tokens": 3439,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 20,
            "duplicatedTokens": 204,
            "percentage": 4.44,
            "percentageTokens": 5.93,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Services/TaskDependencyService.php": {
            "lines": 278,
            "tokens": 2034,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Services/ProjectService.php": {
            "lines": 452,
            "tokens": 3384,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 26,
            "duplicatedTokens": 103,
            "percentage": 5.75,
            "percentageTokens": 3.04,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Services/ConditionalTagService.php": {
            "lines": 344,
            "tokens": 1921,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Services/ComponentService.php": {
            "lines": 369,
            "tokens": 2535,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 26,
            "duplicatedTokens": 103,
            "percentage": 7.05,
            "percentageTokens": 4.06,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Services/BaselineService.php": {
            "lines": 483,
            "tokens": 3635,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Resources/WorkTemplateResource.php": {
            "lines": 79,
            "tokens": 523,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Resources/UserResource.php": {
            "lines": 50,
            "tokens": 351,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 15,
            "duplicatedTokens": 85,
            "percentage": 30,
            "percentageTokens": 24.22,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Resources/TaskResource.php": {
            "lines": 110,
            "tokens": 862,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Resources/TaskAssignmentResource.php": {
            "lines": 63,
            "tokens": 466,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Resources/ProjectResource.php": {
            "lines": 81,
            "tokens": 656,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 15,
            "duplicatedTokens": 85,
            "percentage": 18.52,
            "percentageTokens": 12.96,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Resources/ComponentResource.php": {
            "lines": 77,
            "tokens": 546,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Resources/BaselineResource.php": {
            "lines": 72,
            "tokens": 516,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Requests/UpdateWorkTemplateRequest.php": {
            "lines": 142,
            "tokens": 860,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 58,
            "duplicatedTokens": 387,
            "percentage": 40.85,
            "percentageTokens": 45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Requests/UpdateTaskRequest.php": {
            "lines": 314,
            "tokens": 2223,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 27,
            "duplicatedTokens": 121,
            "percentage": 8.6,
            "percentageTokens": 5.44,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Requests/UpdateTaskAssignmentRequest.php": {
            "lines": 83,
            "tokens": 535,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Requests/UpdateProjectRequest.php": {
            "lines": 161,
            "tokens": 1038,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 65,
            "duplicatedTokens": 279,
            "percentage": 40.37,
            "percentageTokens": 26.88,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Requests/UpdateComponentRequest.php": {
            "lines": 127,
            "tokens": 783,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 83,
            "duplicatedTokens": 348,
            "percentage": 65.35,
            "percentageTokens": 44.44,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Requests/UpdateBaselineRequest.php": {
            "lines": 77,
            "tokens": 450,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Requests/StoreWorkTemplateRequest.php": {
            "lines": 144,
            "tokens": 825,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 58,
            "duplicatedTokens": 387,
            "percentage": 40.28,
            "percentageTokens": 46.91,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Requests/StoreTaskAssignmentRequest.php": {
            "lines": 96,
            "tokens": 569,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Requests/StoreProjectRequest.php": {
            "lines": 98,
            "tokens": 514,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Requests/StoreComponentRequest.php": {
            "lines": 110,
            "tokens": 614,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 45,
            "duplicatedTokens": 190,
            "percentage": 40.91,
            "percentageTokens": 30.94,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Requests/StoreBaselineRequest.php": {
            "lines": 79,
            "tokens": 428,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Requests/RebaselineRequest.php": {
            "lines": 80,
            "tokens": 468,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Requests/IndexProjectRequest.php": {
            "lines": 106,
            "tokens": 550,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Requests/CreateBaselineFromProjectRequest.php": {
            "lines": 54,
            "tokens": 281,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Providers/EventServiceProvider.php": {
            "lines": 29,
            "tokens": 149,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Providers/CoreProjectServiceProvider.php": {
            "lines": 104,
            "tokens": 252,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Models/WorkTemplate.php": {
            "lines": 186,
            "tokens": 1242,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 23,
            "duplicatedTokens": 127,
            "percentage": 12.37,
            "percentageTokens": 10.23,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Models/TaskAssignment.php": {
            "lines": 101,
            "tokens": 517,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Models/Task.php": {
            "lines": 306,
            "tokens": 1804,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Models/Project.php": {
            "lines": 290,
            "tokens": 1715,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Models/ComponentKpi.php": {
            "lines": 59,
            "tokens": 245,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Models/Component.php": {
            "lines": 245,
            "tokens": 1525,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Models/BaselineHistory.php": {
            "lines": 138,
            "tokens": 718,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Models/Baseline.php": {
            "lines": 224,
            "tokens": 1252,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 23,
            "duplicatedTokens": 101,
            "percentage": 10.27,
            "percentageTokens": 8.07,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Middleware/TaskAccessMiddleware.php": {
            "lines": 126,
            "tokens": 710,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 76,
            "duplicatedTokens": 339,
            "percentage": 60.32,
            "percentageTokens": 47.75,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Middleware/ProjectStatusMiddleware.php": {
            "lines": 82,
            "tokens": 477,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Middleware/ProjectOwnershipMiddleware.php": {
            "lines": 125,
            "tokens": 657,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 36,
            "duplicatedTokens": 135,
            "percentage": 28.8,
            "percentageTokens": 20.55,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Middleware/ProjectAccessMiddleware.php": {
            "lines": 186,
            "tokens": 1109,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 66,
            "duplicatedTokens": 267,
            "percentage": 35.48,
            "percentageTokens": 24.08,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Middleware/ComponentAccessMiddleware.php": {
            "lines": 115,
            "tokens": 620,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 46,
            "duplicatedTokens": 207,
            "percentage": 40,
            "percentageTokens": 33.39,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Listeners/UpdateProjectProgressListener.php": {
            "lines": 60,
            "tokens": 393,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Listeners/TaskScheduleListener.php": {
            "lines": 201,
            "tokens": 1342,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Listeners/ProjectProgressListener.php": {
            "lines": 166,
            "tokens": 1144,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Listeners/ProjectCalculationListener.php": {
            "lines": 184,
            "tokens": 1199,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Listeners/ProgressCalculationListener.php": {
            "lines": 94,
            "tokens": 642,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Listeners/NotificationListener.php": {
            "lines": 494,
            "tokens": 3315,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Listeners/ConditionalTagListener.php": {
            "lines": 72,
            "tokens": 404,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 26,
            "duplicatedTokens": 204,
            "percentage": 36.11,
            "percentageTokens": 50.5,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Jobs/RecalculateProjectRollupJob.php": {
            "lines": 254,
            "tokens": 1734,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Events/TaskStatusChanged.php": {
            "lines": 62,
            "tokens": 352,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Events/ProjectVarianceUpdated.php": {
            "lines": 68,
            "tokens": 396,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Events/ProjectRollupUpdated.php": {
            "lines": 80,
            "tokens": 482,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Events/ProjectCreated.php": {
            "lines": 59,
            "tokens": 313,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Events/ComponentProgressUpdated.php": {
            "lines": 72,
            "tokens": 414,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Events/BaselineUpdated.php": {
            "lines": 65,
            "tokens": 374,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 90,
            "percentage": 21.54,
            "percentageTokens": 24.06,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Events/BaselineRebaselined.php": {
            "lines": 68,
            "tokens": 396,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Events/BaselineCreated.php": {
            "lines": 59,
            "tokens": 330,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 90,
            "percentage": 23.73,
            "percentageTokens": 27.27,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Events/BaselineCompared.php": {
            "lines": 56,
            "tokens": 308,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Controllers/WorkTemplateController.php": {
            "lines": 321,
            "tokens": 2272,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Controllers/TaskController.php": {
            "lines": 578,
            "tokens": 4292,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Controllers/TaskAssignmentController.php": {
            "lines": 237,
            "tokens": 1715,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 20,
            "duplicatedTokens": 204,
            "percentage": 8.44,
            "percentageTokens": 11.9,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Controllers/ProjectController.php": {
            "lines": 294,
            "tokens": 2133,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Controllers/ComponentController.php": {
            "lines": 146,
            "tokens": 904,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/CoreProject/Controllers/BaselineController.php": {
            "lines": 446,
            "tokens": 3151,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 20,
            "duplicatedTokens": 190,
            "percentage": 4.48,
            "percentageTokens": 6.03,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Compensation/routes/api.php": {
            "lines": 57,
            "tokens": 418,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Compensation/Services/CompensationService.php": {
            "lines": 434,
            "tokens": 3250,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Compensation/Resources/TaskCompensationResource.php": {
            "lines": 84,
            "tokens": 583,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Compensation/Resources/TaskCompensationCollection.php": {
            "lines": 44,
            "tokens": 352,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 18,
            "duplicatedTokens": 132,
            "percentage": 40.91,
            "percentageTokens": 37.5,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Compensation/Resources/TaskAssignmentResource.php": {
            "lines": 87,
            "tokens": 563,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Compensation/Resources/ContractResource.php": {
            "lines": 114,
            "tokens": 765,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Compensation/Resources/CompensationPreviewResource.php": {
            "lines": 99,
            "tokens": 656,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Compensation/Requests/UpdateTaskCompensationRequest.php": {
            "lines": 55,
            "tokens": 235,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Compensation/Requests/SyncTaskAssignmentsRequest.php": {
            "lines": 50,
            "tokens": 203,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Compensation/Requests/PreviewCompensationRequest.php": {
            "lines": 62,
            "tokens": 272,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 33,
            "duplicatedTokens": 141,
            "percentage": 53.23,
            "percentageTokens": 51.84,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Compensation/Requests/ApplyContractRequest.php": {
            "lines": 69,
            "tokens": 315,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 33,
            "duplicatedTokens": 141,
            "percentage": 47.83,
            "percentageTokens": 44.76,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Compensation/Providers/CompensationServiceProvider.php": {
            "lines": 77,
            "tokens": 290,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Compensation/Models/TaskCompensation.php": {
            "lines": 175,
            "tokens": 897,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Compensation/Models/Contract.php": {
            "lines": 135,
            "tokens": 631,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Compensation/Listeners/CompensationEventListener.php": {
            "lines": 176,
            "tokens": 1054,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Compensation/Events/ContractUpdated.php": {
            "lines": 112,
            "tokens": 412,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Compensation/Events/CompensationPreviewed.php": {
            "lines": 80,
            "tokens": 299,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Compensation/Events/CompensationApplied.php": {
            "lines": 91,
            "tokens": 341,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Compensation/Controllers/CompensationController.php": {
            "lines": 314,
            "tokens": 1772,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 30,
            "duplicatedTokens": 156,
            "percentage": 9.55,
            "percentageTokens": 8.8,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Common/Services/ValidationService.php": {
            "lines": 472,
            "tokens": 2505,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Common/Services/CacheService.php": {
            "lines": 425,
            "tokens": 2299,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Common/Services/AuditService.php": {
            "lines": 231,
            "tokens": 1696,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 28,
            "duplicatedTokens": 178,
            "percentage": 12.12,
            "percentageTokens": 10.5,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ChangeRequest/routes/api.php": {
            "lines": 73,
            "tokens": 573,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ChangeRequest/Services/ChangeRequestService.php": {
            "lines": 254,
            "tokens": 1852,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ChangeRequest/Resources/ChangeRequestStatsResource.php": {
            "lines": 54,
            "tokens": 606,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ChangeRequest/Resources/ChangeRequestResource.php": {
            "lines": 114,
            "tokens": 883,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ChangeRequest/Resources/ChangeRequestCollection.php": {
            "lines": 92,
            "tokens": 536,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ChangeRequest/Requests/UpdateChangeRequestRequest.php": {
            "lines": 150,
            "tokens": 792,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 45,
            "duplicatedTokens": 316,
            "percentage": 30,
            "percentageTokens": 39.9,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ChangeRequest/Requests/SubmitChangeRequestRequest.php": {
            "lines": 45,
            "tokens": 177,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ChangeRequest/Requests/StoreChangeRequestRequest.php": {
            "lines": 140,
            "tokens": 754,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 45,
            "duplicatedTokens": 316,
            "percentage": 32.14,
            "percentageTokens": 41.91,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ChangeRequest/Requests/DecideChangeRequestRequest.php": {
            "lines": 44,
            "tokens": 166,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ChangeRequest/Providers/ChangeRequestServiceProvider.php": {
            "lines": 77,
            "tokens": 290,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ChangeRequest/Models/CrLink.php": {
            "lines": 207,
            "tokens": 1197,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ChangeRequest/Models/ChangeRequest.php": {
            "lines": 340,
            "tokens": 1967,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 23,
            "duplicatedTokens": 101,
            "percentage": 6.76,
            "percentageTokens": 5.13,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ChangeRequest/Listeners/ChangeRequestEventListener.php": {
            "lines": 771,
            "tokens": 5656,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ChangeRequest/Events/ChangeRequestUpdated.php": {
            "lines": 70,
            "tokens": 265,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 20,
            "duplicatedTokens": 118,
            "percentage": 28.57,
            "percentageTokens": 44.53,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ChangeRequest/Events/ChangeRequestSubmitted.php": {
            "lines": 59,
            "tokens": 223,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 18,
            "duplicatedTokens": 101,
            "percentage": 30.51,
            "percentageTokens": 45.29,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ChangeRequest/Events/ChangeRequestRejected.php": {
            "lines": 81,
            "tokens": 313,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ChangeRequest/Events/ChangeRequestDeleted.php": {
            "lines": 59,
            "tokens": 223,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ChangeRequest/Events/ChangeRequestCreated.php": {
            "lines": 59,
            "tokens": 223,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 18,
            "duplicatedTokens": 101,
            "percentage": 30.51,
            "percentageTokens": 45.29,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ChangeRequest/Events/ChangeRequestApproved.php": {
            "lines": 93,
            "tokens": 355,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ChangeRequest/Controllers/ChangeRequestController.php": {
            "lines": 339,
            "tokens": 1880,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 30,
            "duplicatedTokens": 156,
            "percentage": 8.85,
            "percentageTokens": 8.3,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Auth/Services/AuthService.php": {
            "lines": 13,
            "tokens": 36,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/PermissionContext.php": {
            "lines": 95,
            "tokens": 414,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Permission.php": {
            "lines": 268,
            "tokens": 1726,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Foundation.php": {
            "lines": 259,
            "tokens": 1431,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/EventBus.php": {
            "lines": 383,
            "tokens": 2357,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/Foundation/Constants.php": {
            "lines": 42,
            "tokens": 287,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 40131,
          "tokens": 251974,
          "sources": 264,
          "clones": 55,
          "duplicatedLines": 1318,
          "duplicatedTokens": 7783,
          "percentage": 3.28,
          "percentageTokens": 3.09,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "json": {
        "sources": {
          "resources/js/tsconfig.json": {
            "lines": 27,
            "tokens": 164,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 27,
          "tokens": 164,
          "sources": 1,
          "clones": 0,
          "duplicatedLines": 0,
          "duplicatedTokens": 0,
          "percentage": 0,
          "percentageTokens": 0,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      }
    },
    "total": {
      "lines": 48718,
      "tokens": 318166,
      "sources": 318,
      "clones": 70,
      "duplicatedLines": 1615,
      "duplicatedTokens": 10158,
      "percentage": 3.31,
      "percentageTokens": 3.19,
      "newDuplicatedLines": 0,
      "newClones": 0
    }
  },
  "duplicates": [
    {
      "format": "tsx",
      "lines": 15,
      "fragment": "\">\n            <p className=\"text-sm font-medium text-header-fg truncate\">\n              {user.name}\n            </p>\n            <p className=\"text-xs text-header-fg-muted truncate\">\n              {user.email}\n            </p>\n            {user.tenant && (\n              <p className=\"text-xs text-header-fg-muted truncate\">\n                {user.tenant.name}\n              </p>\n            )}\n          </div>\n\n          {",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/ui/header/UserMenu.tsx",
        "start": 240,
        "end": 254,
        "startLoc": {
          "line": 240,
          "column": 40,
          "position": 1899
        },
        "endLoc": {
          "line": 254,
          "column": 2,
          "position": 1994
        }
      },
      "secondFile": {
        "name": "src/components/ui/header/UserMenu.tsx",
        "start": 163,
        "end": 176,
        "startLoc": {
          "line": 163,
          "column": 15,
          "position": 1347
        },
        "endLoc": {
          "line": 176,
          "column": 3,
          "position": 1441
        }
      }
    },
    {
      "format": "tsx",
      "lines": 15,
      "fragment": ".current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isOpen]);\n\n  // Handle escape key",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/ui/header/SearchToggle.tsx",
        "start": 36,
        "end": 50,
        "startLoc": {
          "line": 36,
          "column": 11,
          "position": 373
        },
        "endLoc": {
          "line": 50,
          "column": 21,
          "position": 468
        }
      },
      "secondFile": {
        "name": "src/components/ui/header/UserMenu.tsx",
        "start": 36,
        "end": 50,
        "startLoc": {
          "line": 36,
          "column": 8,
          "position": 299
        },
        "endLoc": {
          "line": 50,
          "column": 30,
          "position": 394
        }
      }
    },
    {
      "format": "tsx",
      "lines": 15,
      "fragment": "\n                onClick={() => handleNotificationClick(notification)}\n              >\n                <div className=\"flex items-start space-x-3\">\n                  {/* Icon */}\n                  <div className=\"flex-shrink-0 mt-0.5\">\n                    <i className={`${getNotificationIcon(notification.type)} text-sm`} aria-hidden=\"true\" />\n                  </div>\n\n                  {/* Content */}\n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"flex items-center justify-between\">\n                      <p className={`text-sm font-medium ${\n                        !notification.read ? 'text-header-fg' : 'text-header-fg-muted'\n                      }`}>",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/ui/header/NotificationsOverlay.tsx",
        "start": 86,
        "end": 100,
        "startLoc": {
          "line": 86,
          "column": 2,
          "position": 771
        },
        "endLoc": {
          "line": 100,
          "column": 2,
          "position": 900
        }
      },
      "secondFile": {
        "name": "src/components/ui/header/SearchOverlay.tsx",
        "start": 138,
        "end": 150,
        "startLoc": {
          "line": 138,
          "column": 2,
          "position": 1131
        },
        "endLoc": {
          "line": 150,
          "column": 2,
          "position": 1240
        }
      }
    },
    {
      "format": "tsx",
      "lines": 26,
      "fragment": "= useRef<HTMLButtonElement>(null);\n  const overlayRef = useRef<HTMLDivElement>(null);\n\n  // Handle click outside to close\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (overlayRef.current && !overlayRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isOpen]);\n\n  // Handle escape key\n  useEffect(() => {\n    const handleEscape = (event: KeyboardEvent) => {\n      if (event.key === 'Escape' && isOpen) {\n        setIsOpen(false);\n        bellRef",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/ui/header/NotificationsBell.tsx",
        "start": 35,
        "end": 60,
        "startLoc": {
          "line": 35,
          "column": 2,
          "position": 313
        },
        "endLoc": {
          "line": 60,
          "column": 8,
          "position": 536
        }
      },
      "secondFile": {
        "name": "src/components/ui/header/SearchToggle.tsx",
        "start": 30,
        "end": 55,
        "startLoc": {
          "line": 30,
          "column": 2,
          "position": 302
        },
        "endLoc": {
          "line": 55,
          "column": 10,
          "position": 525
        }
      }
    },
    {
      "format": "php",
      "lines": 16,
      "fragment": "// Chun ha conditional_tag v lowercase\n        if ($this->has('phases')) {\n            $phases = $this->input('phases');\n            foreach ($phases as $phaseIndex => $phase) {\n                if (isset($phase['tasks'])) {\n                    foreach ($phase['tasks'] as $taskIndex => $task) {\n                        if (isset($task['conditional_tag'])) {\n                            $phases[$phaseIndex]['tasks'][$taskIndex]['conditional_tag'] = \n                                strtolower(trim($task['conditional_tag']));\n                        }\n                    }\n                }\n            }\n            $this->merge(['phases' => $phases]);\n        }\n    }",
      "tokens": 0,
      "firstFile": {
        "name": "src/WorkTemplate/Requests/CreateTemplateRequest.php",
        "start": 165,
        "end": 180,
        "startLoc": {
          "line": 165,
          "column": 9,
          "position": 800
        },
        "endLoc": {
          "line": 180,
          "column": 2,
          "position": 964
        }
      },
      "secondFile": {
        "name": "src/WorkTemplate/Requests/UpdateTemplateRequest.php",
        "start": 164,
        "end": 180,
        "startLoc": {
          "line": 164,
          "column": 9,
          "position": 780
        },
        "endLoc": {
          "line": 180,
          "column": 44,
          "position": 946
        }
      }
    },
    {
      "format": "php",
      "lines": 46,
      "fragment": "});\n    }\n\n    /**\n     * Validate phase orders are unique\n     */\n    private function validatePhaseOrders($validator): void\n    {\n        $phases = $this->input('phases', []);\n        $orders = array_column($phases, 'order');\n        \n        if (count($orders) !== count(array_unique($orders))) {\n            $validator->errors()->add('phases', 'Th t cc giai on khng c trng lp.');\n        }\n    }\n\n    /**\n     * Validate task orders are unique within each phase\n     */\n    private function validateTaskOrders($validator): void\n    {\n        $phases = $this->input('phases', []);\n        \n        foreach ($phases as $phaseIndex => $phase) {\n            if (isset($phase['tasks'])) {\n                $orders = array_column($phase['tasks'], 'order');\n                \n                if (count($orders) !== count(array_unique($orders))) {\n                    $validator->errors()->add(\n                        \"phases.{$phaseIndex}.tasks\",\n                        'Th t cc cng vic trong giai on khng c trng lp.'\n                    );\n                }\n            }\n        }\n    }\n\n    /**\n     * Validate task dependencies reference valid tasks\n     */\n    private function validateTaskDependencies($validator): void\n    {\n        $phases = $this->input('phases', []);\n        $allTaskIds = [];\n        \n        // Collect all task IDs (s dng t",
      "tokens": 0,
      "firstFile": {
        "name": "src/WorkTemplate/Requests/CreateTemplateRequest.php",
        "start": 196,
        "end": 241,
        "startLoc": {
          "line": 196,
          "column": 9,
          "position": 1044
        },
        "endLoc": {
          "line": 241,
          "column": 63,
          "position": 1349
        }
      },
      "secondFile": {
        "name": "src/WorkTemplate/Requests/UpdateTemplateRequest.php",
        "start": 198,
        "end": 243,
        "startLoc": {
          "line": 198,
          "column": 9,
          "position": 1073
        },
        "endLoc": {
          "line": 243,
          "column": 24,
          "position": 1378
        }
      }
    },
    {
      "format": "php",
      "lines": 27,
      "fragment": "IDs cho validation)\n        foreach ($phases as $phaseIndex => $phase) {\n            if (isset($phase['tasks'])) {\n                foreach ($phase['tasks'] as $taskIndex => $task) {\n                    $allTaskIds[] = \"phase_{$phaseIndex}_task_{$taskIndex}\";\n                }\n            }\n        }\n        \n        // Validate dependencies\n        foreach ($phases as $phaseIndex => $phase) {\n            if (isset($phase['tasks'])) {\n                foreach ($phase['tasks'] as $taskIndex => $task) {\n                    if (isset($task['dependencies'])) {\n                        foreach ($task['dependencies'] as $depIndex => $dependency) {\n                            if (!in_array($dependency, $allTaskIds)) {\n                                $validator->errors()->add(\n                                    \"phases.{$phaseIndex}.tasks.{$taskIndex}.dependencies.{$depIndex}\",\n                                    'Ph thuc cng vic khng hp l.'\n                             ",
      "tokens": 0,
      "firstFile": {
        "name": "src/WorkTemplate/Requests/CreateTemplateRequest.php",
        "start": 242,
        "end": 268,
        "startLoc": {
          "line": 242,
          "column": 9,
          "position": 1352
        },
        "endLoc": {
          "line": 268,
          "column": 2,
          "position": 1577
        }
      },
      "secondFile": {
        "name": "src/WorkTemplate/Requests/UpdateTemplateRequest.php",
        "start": 244,
        "end": 270,
        "startLoc": {
          "line": 244,
          "column": 9,
          "position": 1381
        },
        "endLoc": {
          "line": 270,
          "column": 2,
          "position": 1606
        }
      }
    },
    {
      "format": "php",
      "lines": 22,
      "fragment": ";\nuse Illuminate\\Database\\Eloquent\\Relations\\BelongsTo;\nuse Illuminate\\Database\\Eloquent\\Relations\\HasMany;\nuse Illuminate\\Database\\Eloquent\\SoftDeletes;\nuse Illuminate\\Database\\Eloquent\\Concerns\\HasUlids;\nuse Src\\Foundation\\Traits\\HasAuditFields;\n\n/**\n * ProjectPhase Model\n * \n * Qun l cc giai on (phases) trong d n\n * c to t template hoc thm th cng\n * \n * @property string $id\n * @property string $project_id\n * @property string $name\n * @property int $order\n * @property string|null $template_id\n * @property string|null $template_phase_id\n * @property string|null $created_by\n * @property string|null $updated_by\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/WorkTemplate/Models/ProjectPhase.php",
        "start": 6,
        "end": 27,
        "startLoc": {
          "line": 6,
          "column": 11,
          "position": 43
        },
        "endLoc": {
          "line": 27,
          "column": 4,
          "position": 107
        }
      },
      "secondFile": {
        "name": "src/WorkTemplate/Models/ProjectTask.php",
        "start": 5,
        "end": 33,
        "startLoc": {
          "line": 5,
          "column": 6,
          "position": 30
        },
        "endLoc": {
          "line": 33,
          "column": 4,
          "position": 94
        }
      }
    },
    {
      "format": "php",
      "lines": 16,
      "fragment": ";\n        $this->actorId = $this->resolveActorId();\n        $this->timestamp = Carbon::now();\n    }\n    \n    /**\n     * Resolve actor ID vi fallback an ton\n     * \n     * @return string\n     */\n    protected function resolveActorId(): string\n    {\n        try {\n            return AuthHelper::idOrSystem();\n        } catch (\\Exception $e) {\n            Log::warning('Failed to resolve actor ID in TaskConditionalToggled'",
      "tokens": 0,
      "firstFile": {
        "name": "src/WorkTemplate/Events/TaskConditionalToggled.php",
        "start": 101,
        "end": 116,
        "startLoc": {
          "line": 101,
          "column": 20,
          "position": 329
        },
        "endLoc": {
          "line": 116,
          "column": 55,
          "position": 419
        }
      },
      "secondFile": {
        "name": "src/WorkTemplate/Events/TemplateApplied.php",
        "start": 92,
        "end": 107,
        "startLoc": {
          "line": 92,
          "column": 9,
          "position": 312
        },
        "endLoc": {
          "line": 107,
          "column": 48,
          "position": 402
        }
      }
    },
    {
      "format": "php",
      "lines": 11,
      "fragment": "));\n        }\n        \n        // Search theo name nu c\n        if ($request->has('search')) {\n            $query->where('name', 'like', '%' . $request->get('search') . '%');\n        }\n        \n        // Sp xp\n        $sortBy = $request->get('sort_by', 'created_at');\n        $sortOrder = $request->get('sort_order', 'asc'",
      "tokens": 0,
      "firstFile": {
        "name": "src/WorkTemplate/Controllers/ProjectTaskController.php",
        "start": 67,
        "end": 77,
        "startLoc": {
          "line": 67,
          "column": 18,
          "position": 388
        },
        "endLoc": {
          "line": 77,
          "column": 6,
          "position": 483
        }
      },
      "secondFile": {
        "name": "src/WorkTemplate/Controllers/TemplateController.php",
        "start": 69,
        "end": 79,
        "startLoc": {
          "line": 69,
          "column": 12,
          "position": 391
        },
        "endLoc": {
          "line": 79,
          "column": 7,
          "position": 486
        }
      }
    },
    {
      "format": "php",
      "lines": 28,
      "fragment": "       $userRoles = UserRoleCustom::where('user_id', $userId)\n            ->active() // S dng scope active  lc soft delete\n            ->with(['role.permissions'])\n            ->get();\n\n        $permissions = [];\n        $overrides = [];\n\n        foreach ($userRoles as $userRole) {\n            foreach ($userRole->role->permissions as $permission) {\n                $permissions[] = $permission->code;\n                \n                // Kim tra allow_override  pivot table role_permissions\n                if ($permission->pivot->allow_override) {\n                    $overrides[] = $permission->code;\n                }\n            }\n        }\n\n        return [\n            'permissions' => array_unique($permissions),\n            'overrides' => array_unique($overrides)\n        ];\n    }\n\n    /**\n     * Ly quyn d",
      "tokens": 0,
      "firstFile": {
        "name": "src/RBAC/Services/RBACManager.php",
        "start": 136,
        "end": 163,
        "startLoc": {
          "line": 136,
          "column": 15,
          "position": 995
        },
        "endLoc": {
          "line": 163,
          "column": 8,
          "position": 1176
        }
      },
      "secondFile": {
        "name": "src/RBAC/Services/RBACManager.php",
        "start": 106,
        "end": 133,
        "startLoc": {
          "line": 106,
          "column": 15,
          "position": 788
        },
        "endLoc": {
          "line": 133,
          "column": 8,
          "position": 969
        }
      }
    },
    {
      "format": "php",
      "lines": 28,
      "fragment": "  ->where('project_id', $projectId)\n            ->active() // S dng scope active  lc soft delete\n            ->with(['role.permissions'])\n            ->get();\n\n        $permissions = [];\n        $overrides = [];\n\n        foreach ($userRoles as $userRole) {\n            foreach ($userRole->role->permissions as $permission) {\n                $permissions[] = $permission->code;\n                \n                // Kim tra allow_override  pivot table role_permissions\n                if ($permission->pivot->allow_override) {\n                    $overrides[] = $permission->code;\n                }\n            }\n        }\n\n        return [\n            'permissions' => array_unique($permissions),\n            'overrides' => array_unique($overrides)\n        ];\n    }\n\n    /**\n     * Kim tra ",
      "tokens": 0,
      "firstFile": {
        "name": "src/RBAC/Services/RBACManager.php",
        "start": 167,
        "end": 194,
        "startLoc": {
          "line": 167,
          "column": 11,
          "position": 1225
        },
        "endLoc": {
          "line": 194,
          "column": 8,
          "position": 1399
        }
      },
      "secondFile": {
        "name": "src/RBAC/Services/RBACManager.php",
        "start": 106,
        "end": 133,
        "startLoc": {
          "line": 106,
          "column": 8,
          "position": 795
        },
        "endLoc": {
          "line": 133,
          "column": 8,
          "position": 969
        }
      }
    },
    {
      "format": "php",
      "lines": 21,
      "fragment": "<?php declare(strict_types=1);\n\nnamespace Src\\RBAC\\Models;\n\nuse Illuminate\\Database\\Eloquent\\Model;\nuse Illuminate\\Database\\Eloquent\\Relations\\BelongsTo;\nuse Illuminate\\Database\\Eloquent\\Concerns\\HasUlids;\nuse Src\\Foundation\\Traits\\HasTimestamps;\nuse Src\\Foundation\\Traits\\HasSoftDeletes;\nuse Src\\Foundation\\Traits\\HasAuditLog;\n\n/**\n * Model UserRoleCustom - Qun l vai tr ty chnh ca user\n * \n * @property string $id\n * @property string $user_id ID ngi dng (ULID)\n * @property string $role_id ID vai tr (ULID)\n * @property \\Carbon\\Carbon $created_at\n * @property \\Carbon\\Carbon $updated_at\n * @property \\Carbon\\Carbon|null $deleted_at Soft delete timestamp\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/RBAC/Models/UserRoleCustom.php",
        "start": 1,
        "end": 21,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 21,
          "column": 4,
          "position": 92
        }
      },
      "secondFile": {
        "name": "src/RBAC/Models/UserRoleProject.php",
        "start": 1,
        "end": 22,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 22,
          "column": 4,
          "position": 92
        }
      }
    },
    {
      "format": "php",
      "lines": 22,
      "fragment": "=> 'datetime:c'\n    ];\n\n    /**\n     * Relationship: Thuc v user\n     */\n    public function user(): BelongsTo\n    {\n        return $this->belongsTo(\\App\\Models\\User::class);\n    }\n\n    /**\n     * Relationship: Thuc v role\n     */\n    public function role(): BelongsTo\n    {\n        return $this->belongsTo(Role::class);\n    }\n\n    /**\n     * Scope: Lc theo user\n     */",
      "tokens": 0,
      "firstFile": {
        "name": "src/RBAC/Models/UserRoleCustom.php",
        "start": 46,
        "end": 67,
        "startLoc": {
          "line": 46,
          "column": 2,
          "position": 212
        },
        "endLoc": {
          "line": 67,
          "column": 8,
          "position": 300
        }
      },
      "secondFile": {
        "name": "src/RBAC/Models/UserRoleSystem.php",
        "start": 36,
        "end": 57,
        "startLoc": {
          "line": 36,
          "column": 2,
          "position": 186
        },
        "endLoc": {
          "line": 57,
          "column": 8,
          "position": 274
        }
      }
    },
    {
      "format": "php",
      "lines": 27,
      "fragment": ");\n    }\n\n    /**\n     * Scope: Lc theo user\n     */\n    public function scopeForUser($query, string $userId)\n    {\n        return $query->where('user_id', $userId);\n    }\n\n    /**\n     * Scope: Lc theo role\n     */\n    public function scopeForRole($query, string $roleId)\n    {\n        return $query->where('role_id', $roleId);\n    }\n\n    /**\n     * Scope: Ch ly cc assignment ang hot ng (cha b soft delete)\n     */\n    public function scopeActive($query)\n    {\n        return $query->whereNull('deleted_at');\n    }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/RBAC/Models/UserRoleCustom.php",
        "start": 62,
        "end": 88,
        "startLoc": {
          "line": 62,
          "column": 6,
          "position": 292
        },
        "endLoc": {
          "line": 88,
          "column": 2,
          "position": 410
        }
      },
      "secondFile": {
        "name": "src/RBAC/Models/UserRoleProject.php",
        "start": 80,
        "end": 109,
        "startLoc": {
          "line": 80,
          "column": 11,
          "position": 379
        },
        "endLoc": {
          "line": 109,
          "column": 8,
          "position": 499
        }
      }
    },
    {
      "format": "php",
      "lines": 16,
      "fragment": "(Request $request): JsonResponse\n    {\n        $errors = [];\n        \n        $userId = $request->get('user_id');\n        $roleId = $request->get('role_id');\n        \n        if (empty($userId)) {\n            $errors['user_id'] = 'User ID khng c  trng';\n        }\n        \n        if (empty($roleId)) {\n            $errors['role_id'] = 'Role ID khng c  trng';\n        }\n        \n        // Kim tra role c scope custom khng",
      "tokens": 0,
      "firstFile": {
        "name": "src/RBAC/Controllers/AssignmentController.php",
        "start": 75,
        "end": 90,
        "startLoc": {
          "line": 75,
          "column": 13,
          "position": 465
        },
        "endLoc": {
          "line": 90,
          "column": 39,
          "position": 575
        }
      },
      "secondFile": {
        "name": "src/RBAC/Controllers/AssignmentController.php",
        "start": 27,
        "end": 42,
        "startLoc": {
          "line": 27,
          "column": 13,
          "position": 118
        },
        "endLoc": {
          "line": 42,
          "column": 39,
          "position": 228
        }
      }
    },
    {
      "format": "php",
      "lines": 12,
      "fragment": "($userId, $roleId);\n        \n        if (!$success) {\n            return response()->json([\n                'status' => 'error',\n                'message' => 'Khng th gn role'\n            ], 500);\n        }\n\n        return response()->json([\n            'status' => 'success',\n            'message' => ' gn role custom thnh cng'",
      "tokens": 0,
      "firstFile": {
        "name": "src/RBAC/Controllers/AssignmentController.php",
        "start": 104,
        "end": 115,
        "startLoc": {
          "line": 104,
          "column": 17,
          "position": 704
        },
        "endLoc": {
          "line": 115,
          "column": 32,
          "position": 792
        }
      },
      "secondFile": {
        "name": "src/RBAC/Controllers/AssignmentController.php",
        "start": 56,
        "end": 67,
        "startLoc": {
          "line": 56,
          "column": 17,
          "position": 357
        },
        "endLoc": {
          "line": 67,
          "column": 32,
          "position": 445
        }
      }
    },
    {
      "format": "php",
      "lines": 30,
      "fragment": "'nullable',\n                'array'\n            ],\n            'conditions.*.field' => [\n                'required_with:conditions',\n                'string',\n                'max:100'\n            ],\n            'conditions.*.operator' => [\n                'required_with:conditions',\n                'string',\n                Rule::in(['=', '!=', '>', '<', '>=', '<=', 'contains', 'not_contains', 'in', 'not_in'])\n            ],\n            'conditions.*.value' => [\n                'required_with:conditions'\n            ],\n            'is_enabled' => [\n                'sometimes',\n                'boolean'\n            ]\n        ];\n    }\n\n    /**\n     * Cc thng bo li ty chnh\n     */\n    public function messages(): array\n    {\n        return [\n            'user_id.required'",
      "tokens": 0,
      "firstFile": {
        "name": "src/Notification/Requests/StoreNotificationRuleRequest.php",
        "start": 61,
        "end": 90,
        "startLoc": {
          "line": 61,
          "column": 17,
          "position": 291
        },
        "endLoc": {
          "line": 90,
          "column": 19,
          "position": 446
        }
      },
      "secondFile": {
        "name": "src/Notification/Requests/UpdateNotificationRuleRequest.php",
        "start": 60,
        "end": 89,
        "startLoc": {
          "line": 60,
          "column": 17,
          "position": 277
        },
        "endLoc": {
          "line": 89,
          "column": 20,
          "position": 432
        }
      }
    },
    {
      "format": "php",
      "lines": 20,
      "fragment": "'project_id.exists' => 'Project khng tn ti.',\n            'event_key.required' => 'Event key l bt buc.',\n            'event_key.max' => 'Event key khng c vt qu 100 k t.',\n            'min_priority.required' => 'Mc  u tin ti thiu l bt buc.',\n            'min_priority.in' => 'Mc  u tin phi l: critical, normal, hoc low.',\n            'channels.required' => 't nht mt knh gi l bt buc.',\n            'channels.min' => 'Phi c t nht mt knh gi.',\n            'channels.*.in' => 'Knh gi phi l: inapp, email, hoc webhook.',\n            'conditions.*.field.required_with' => 'Trng iu kin l bt buc.',\n            'conditions.*.operator.required_with' => 'Ton t iu kin l bt buc.',\n            'conditions.*.operator.in' => 'Ton t phi l mt trong: =, !=, >, <, >=, <=, contains, not_contains, in, not_in.',\n            'conditions.*.value.required_with' => 'Gi tr iu kin l bt buc.'\n        ];\n    }\n\n    /**\n     * Ly ID ca user hin ti mt cch an ton\n     * \n     * @return int|null\n     */",
      "tokens": 0,
      "firstFile": {
        "name": "src/Notification/Requests/StoreNotificationRuleRequest.php",
        "start": 92,
        "end": 111,
        "startLoc": {
          "line": 92,
          "column": 13,
          "position": 464
        },
        "endLoc": {
          "line": 111,
          "column": 8,
          "position": 579
        }
      },
      "secondFile": {
        "name": "src/Notification/Requests/UpdateNotificationRuleRequest.php",
        "start": 89,
        "end": 106,
        "startLoc": {
          "line": 89,
          "column": 13,
          "position": 432
        },
        "endLoc": {
          "line": 106,
          "column": 8,
          "position": 547
        }
      }
    },
    {
      "format": "php",
      "lines": 23,
      "fragment": "}\n\n    /**\n     * X l sau khi validation thnh cng\n     */\n    public function withValidator($validator): void\n    {\n        $validator->after(function ($validator) {\n            // Validate event_key format\n            if ($this->has('event_key')) {\n                $eventKey = $this->input('event_key');\n                if (!preg_match('/^[A-Za-z]+\\.[A-Za-z]+\\.[A-Za-z]+$/', $eventKey)) {\n                    $validator->errors()->add('event_key', 'Event key phi c nh dng Domain.Entity.Action (v d: Project.Task.Created)');\n                }\n            }\n\n            // Validate channels array khng rng\n            if ($this->has('channels') && empty($this->input('channels'))) {\n                $validator->errors()->add('channels', 'Phi c t nht mt knh gi.');\n            }\n        });\n    }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/Notification/Requests/StoreNotificationRuleRequest.php",
        "start": 147,
        "end": 169,
        "startLoc": {
          "line": 147,
          "column": 5,
          "position": 798
        },
        "endLoc": {
          "line": 169,
          "column": 2,
          "position": 967
        }
      },
      "secondFile": {
        "name": "src/Notification/Requests/UpdateNotificationRuleRequest.php",
        "start": 102,
        "end": 124,
        "startLoc": {
          "line": 102,
          "column": 5,
          "position": 543
        },
        "endLoc": {
          "line": 124,
          "column": 2,
          "position": 712
        }
      }
    },
    {
      "format": "php",
      "lines": 18,
      "fragment": "'priority.required' => 'Mc  u tin l bt buc.',\n            'priority.in' => 'Mc  u tin phi l: critical, normal, hoc low.',\n            'title.required' => 'Tiu  l bt buc.',\n            'title.max' => 'Tiu  khng c vt qu 255 k t.',\n            'body.required' => 'Ni dung l bt buc.',\n            'body.max' => 'Ni dung khng c vt qu 5000 k t.',\n            'link_url.url' => 'Link URL phi c nh dng hp l.',\n            'link_url.max' => 'Link URL khng c vt qu 500 k t.',\n            'channel.required' => 'Knh gi l bt buc.',\n            'channel.in' => 'Knh gi phi l: inapp, email, hoc webhook.'\n        ];\n    }\n\n    /**\n     * Ly ID ca user hin ti mt cch an ton\n     * \n     * @return int|null\n     */",
      "tokens": 0,
      "firstFile": {
        "name": "src/Notification/Requests/StoreNotificationRequest.php",
        "start": 73,
        "end": 90,
        "startLoc": {
          "line": 73,
          "column": 13,
          "position": 336
        },
        "endLoc": {
          "line": 90,
          "column": 8,
          "position": 433
        }
      },
      "secondFile": {
        "name": "src/Notification/Requests/UpdateNotificationRequest.php",
        "start": 69,
        "end": 81,
        "startLoc": {
          "line": 69,
          "column": 13,
          "position": 303
        },
        "endLoc": {
          "line": 81,
          "column": 2,
          "position": 398
        }
      }
    },
    {
      "format": "php",
      "lines": 38,
      "fragment": "];\n    }\n\n    /**\n     * Ly ID ca user hin ti mt cch an ton\n     * \n     * @return int|null\n     */\n    private function getUserId(): ?int\n    {\n        try {\n            if (AuthHelper::check()) {\n                return AuthHelper::id();\n            }\n        } catch (\\Exception $e) {\n            // Log error nu cn thit\n            // Log::warning('Cannot get user ID: ' . $e->getMessage());\n        }\n        \n        return null;\n    }\n\n    /**\n     * Chun b d liu cho validation\n     */\n    protected function prepareForValidation(): void\n    {\n        // Nu khng c user_id, s dng user hin ti\n        if (!$this->has('user_id')) {\n            $userId = $this->getUserId();\n            if ($userId !== null) {\n                $this->merge([\n                    'user_id' => $userId\n                ]);\n            }\n        }\n\n        // Mc nh channel l inapp nu khng c ch nh",
      "tokens": 0,
      "firstFile": {
        "name": "src/Notification/Requests/StoreNotificationRequest.php",
        "start": 83,
        "end": 120,
        "startLoc": {
          "line": 83,
          "column": 9,
          "position": 425
        },
        "endLoc": {
          "line": 120,
          "column": 53,
          "position": 609
        }
      },
      "secondFile": {
        "name": "src/Notification/Requests/StoreNotificationRuleRequest.php",
        "start": 104,
        "end": 141,
        "startLoc": {
          "line": 104,
          "column": 9,
          "position": 571
        },
        "endLoc": {
          "line": 141,
          "column": 55,
          "position": 755
        }
      }
    },
    {
      "format": "php",
      "lines": 21,
      "fragment": "=> AuthHelper::id(),\n                'timestamp' => now()\n            ]);\n            \n            DB::commit();\n            \n            return $log->fresh(['project', 'linkedTask', 'creator']);\n            \n        } catch (\\Exception $e) {\n            DB::rollBack();\n            throw $e;\n        }\n    }\n\n    /**\n     * Validate d liu interaction log\n     * \n     * @param array $data\n     * @param bool $isUpdate\n     * @throws ValidationException\n     */",
      "tokens": 0,
      "firstFile": {
        "name": "src/InteractionLogs/Services/InteractionLogService.php",
        "start": 260,
        "end": 280,
        "startLoc": {
          "line": 260,
          "column": 2,
          "position": 1776
        },
        "endLoc": {
          "line": 280,
          "column": 8,
          "position": 1871
        }
      },
      "secondFile": {
        "name": "src/InteractionLogs/Services/InteractionLogService.php",
        "start": 221,
        "end": 241,
        "startLoc": {
          "line": 221,
          "column": 2,
          "position": 1523
        },
        "endLoc": {
          "line": 241,
          "column": 8,
          "position": 1618
        }
      }
    },
    {
      "format": "php",
      "lines": 61,
      "fragment": "eractionLog\n    {\n        // Validate d liu cp nht\n        $this->validateLogData($data, true);\n        \n        // Kim tra quyn cp nht (ch ngi to hoc admin mi c cp nht)\n        if ($log->created_by !== AuthHelper::id() && !$this->hasAdminPermission()) {\n            throw new \\Exception('Khng c quyn cp nht interaction log ny');\n        }\n        \n        DB::beginTransaction();\n        try {\n            $oldData = $log->toArray();\n            \n            // Cp nht cc trng c php\n            $updateData = [];\n            $allowedFields = ['description', 'tag_path', 'visibility'];\n            \n            foreach ($allowedFields as $field) {\n                if (array_key_exists($field, $data)) {\n                    $updateData[$field] = $data[$field];\n                }\n            }\n            \n            // Nu thay i visibility thnh client, reset client_approved\n            if (isset($updateData['visibility']) && \n                $updateData['visibility'] === InteractionLog::VISIBILITY_CLIENT &&\n                $log->visibility !== InteractionLog::VISIBILITY_CLIENT) {\n                $updateData['client_approved'] = false;\n            }\n            \n            $log->update($updateData);\n            \n            // Dispatch event nu c thay i\n            if (!empty($updateData)) {\n                EventBus::dispatch('InteractionLog.Updated', [\n                    'log_id' => $log->id,\n                    'project_id' => $log->project_id,\n                    'linked_task_id' => $log->linked_task_id,\n                    'changed_fields' => array_keys($updateData),\n                    'old_data' => $oldData,\n                    'new_data' => $log->fresh()->toArray(),\n                    'actor_id' => AuthHelper::id(),\n                    'timestamp' => now()\n                ]);\n            }\n            \n            DB::commit();\n            \n            return $log->fresh(['project', 'linkedTask', 'creator']);\n            \n        } catch (\\Exception $e) {\n            DB::rollBack();\n            throw $e;\n        }\n    }\n\n    /**\n     * Xa interaction log vi instance\n     * \n     * @param InteractionLog $log Instance ca log\n ",
      "tokens": 0,
      "firstFile": {
        "name": "src/InteractionLogs/Services/InteractionLogService.php",
        "start": 505,
        "end": 565,
        "startLoc": {
          "line": 505,
          "column": 9,
          "position": 3285
        },
        "endLoc": {
          "line": 565,
          "column": 8,
          "position": 3738
        }
      },
      "secondFile": {
        "name": "src/InteractionLogs/Services/InteractionLogService.php",
        "start": 96,
        "end": 157,
        "startLoc": {
          "line": 96,
          "column": 9,
          "position": 616
        },
        "endLoc": {
          "line": 157,
          "column": 8,
          "position": 1069
        }
      }
    },
    {
      "format": "php",
      "lines": 35,
      "fragment": "$log): bool\n    {\n        // Kim tra quyn xa\n        if ($log->created_by !== AuthHelper::id() && !$this->hasAdminPermission()) {\n            throw new \\Exception('Khng c quyn xa interaction log ny');\n        }\n        \n        DB::beginTransaction();\n        try {\n            // Dispatch event trc khi xa\n            EventBus::dispatch('InteractionLog.Deleted', [\n                'log_id' => $log->id,\n                'project_id' => $log->project_id,\n                'linked_task_id' => $log->linked_task_id,\n                'type' => $log->type,\n                'actor_id' => AuthHelper::id(),\n                'timestamp' => now()\n            ]);\n            \n            $result = $log->delete();\n            \n            DB::commit();\n            \n            return $result;\n            \n        } catch (\\Exception $e) {\n            DB::rollBack();\n            throw $e;\n        }\n    }\n\n    /**\n     * Approve log  hin th cho client vi instance\n     * \n     * @param InteractionLog $log Instance ca log\n     * @ret",
      "tokens": 0,
      "firstFile": {
        "name": "src/InteractionLogs/Services/InteractionLogService.php",
        "start": 568,
        "end": 602,
        "startLoc": {
          "line": 568,
          "column": 9,
          "position": 3759
        },
        "endLoc": {
          "line": 602,
          "column": 8,
          "position": 3981
        }
      },
      "secondFile": {
        "name": "src/InteractionLogs/Services/InteractionLogService.php",
        "start": 162,
        "end": 197,
        "startLoc": {
          "line": 162,
          "column": 9,
          "position": 1105
        },
        "endLoc": {
          "line": 197,
          "column": 8,
          "position": 1327
        }
      }
    },
    {
      "format": "php",
      "lines": 33,
      "fragment": "eractionLog\n    {\n        // Kim tra quyn approve (ch admin hoc project manager)\n        if (!$this->hasApprovalPermission($log->project_id)) {\n            throw new \\Exception('Khng c quyn approve interaction log ny');\n        }\n        \n        // Ch approve c log c visibility = client\n        if ($log->visibility !== InteractionLog::VISIBILITY_CLIENT) {\n            throw new \\Exception('Ch c th approve log c visibility l client');\n        }\n        \n        DB::beginTransaction();\n        try {\n            $log->update(['client_approved' => true]);\n            \n            // Dispatch event\n            EventBus::dispatch('InteractionLog.ClientApproved', [\n                'log_id' => $log->id,\n                'project_id' => $log->project_id,\n                'linked_task_id' => $log->linked_task_id,\n                'approved_by' => AuthHelper::id(),\n                'timestamp' => now()\n            ]);\n            \n            DB::commit();\n            \n            return $log->fresh(['project', 'linkedTask', 'creator']);\n            \n        } catch (\\Exception $e) {\n            DB::rollBack();\n            t",
      "tokens": 0,
      "firstFile": {
        "name": "src/InteractionLogs/Services/InteractionLogService.php",
        "start": 605,
        "end": 637,
        "startLoc": {
          "line": 605,
          "column": 9,
          "position": 4002
        },
        "endLoc": {
          "line": 637,
          "column": 2,
          "position": 4255
        }
      },
      "secondFile": {
        "name": "src/InteractionLogs/Services/InteractionLogService.php",
        "start": 202,
        "end": 241,
        "startLoc": {
          "line": 202,
          "column": 9,
          "position": 1363
        },
        "endLoc": {
          "line": 241,
          "column": 8,
          "position": 1618
        }
      }
    },
    {
      "format": "php",
      "lines": 20,
      "fragment": "(\n                $interactionLog,\n                $request->validated()\n            );\n\n            return JSendResponse::success(\n                new InteractionLogResource($updatedLog),\n                'Interaction log c cp nht thnh cng'\n            );\n        } catch (\\Exception $e) {\n            return JSendResponse::error(\n                'Khng th cp nht interaction log: ' . $e->getMessage(),\n                500\n            );\n        }\n    }\n\n    /**\n     * Xa interaction log ca project c th\n     */",
      "tokens": 0,
      "firstFile": {
        "name": "src/InteractionLogs/Controllers/InteractionLogController.php",
        "start": 258,
        "end": 277,
        "startLoc": {
          "line": 258,
          "column": 10,
          "position": 1427
        },
        "endLoc": {
          "line": 277,
          "column": 8,
          "position": 1520
        }
      },
      "secondFile": {
        "name": "src/InteractionLogs/Controllers/InteractionLogController.php",
        "start": 143,
        "end": 165,
        "startLoc": {
          "line": 143,
          "column": 18,
          "position": 816
        },
        "endLoc": {
          "line": 165,
          "column": 8,
          "position": 909
        }
      }
    },
    {
      "format": "php",
      "lines": 28,
      "fragment": "'required',\n                'string',\n                'max:255'\n            ],\n            'description' => [\n                'nullable',\n                'string',\n                'max:2000'\n            ],\n            'linked_entity_type' => [\n                'nullable',\n                Rule::in(['task', 'diary', 'cr'])\n            ],\n            'linked_entity_id' => [\n                'nullable',\n                'integer',\n                'required_with:linked_entity_type'\n            ],\n            'tags' => [\n                'nullable',\n                'array'\n            ],\n            'tags.*' => [\n                'string',\n                'max:50'\n            ],\n            'visibility' => [\n                'required'",
      "tokens": 0,
      "firstFile": {
        "name": "src/DocumentManagement/Requests/StoreDocumentRequest.php",
        "start": 35,
        "end": 62,
        "startLoc": {
          "line": 35,
          "column": 17,
          "position": 139
        },
        "endLoc": {
          "line": 62,
          "column": 11,
          "position": 278
        }
      },
      "secondFile": {
        "name": "src/DocumentManagement/Requests/UpdateDocumentRequest.php",
        "start": 31,
        "end": 58,
        "startLoc": {
          "line": 31,
          "column": 17,
          "position": 120
        },
        "endLoc": {
          "line": 58,
          "column": 12,
          "position": 259
        }
      }
    },
    {
      "format": "php",
      "lines": 16,
      "fragment": "];\n    }\n\n    /**\n     * Prepare data for validation\n     */\n    protected function prepareForValidation(): void\n    {\n        // Convert tags string to array if needed\n        if ($this->has('tags') && is_string($this->tags)) {\n            $this->merge([\n                'tags' => array_filter(array_map('trim', explode(',', $this->tags)))\n            ]);\n        }\n    }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/DocumentManagement/Requests/StoreDocumentRequest.php",
        "start": 94,
        "end": 109,
        "startLoc": {
          "line": 94,
          "column": 9,
          "position": 461
        },
        "endLoc": {
          "line": 109,
          "column": 2,
          "position": 559
        }
      },
      "secondFile": {
        "name": "src/DocumentManagement/Requests/UpdateDocumentRequest.php",
        "start": 75,
        "end": 90,
        "startLoc": {
          "line": 75,
          "column": 9,
          "position": 349
        },
        "endLoc": {
          "line": 90,
          "column": 2,
          "position": 447
        }
      }
    },
    {
      "format": "php",
      "lines": 11,
      "fragment": ";\nuse Src\\DocumentManagement\\Events\\DocumentCreated;\nuse Src\\DocumentManagement\\Events\\DocumentUpdated;\nuse Src\\DocumentManagement\\Events\\DocumentDeleted;\nuse Src\\DocumentManagement\\Events\\DocumentVersionCreated;\nuse Src\\DocumentManagement\\Events\\DocumentVersionReverted;\nuse Src\\DocumentManagement\\Events\\DocumentApprovedForClient;\n\n/**\n * Event Listener cho cc s kin ca Document Management\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/DocumentManagement/Listeners/DocumentEventListener.php",
        "start": 10,
        "end": 20,
        "startLoc": {
          "line": 10,
          "column": 5,
          "position": 81
        },
        "endLoc": {
          "line": 20,
          "column": 4,
          "position": 150
        }
      },
      "secondFile": {
        "name": "src/DocumentManagement/Services/DocumentService.php",
        "start": 9,
        "end": 16,
        "startLoc": {
          "line": 9,
          "column": 16,
          "position": 72
        },
        "endLoc": {
          "line": 16,
          "column": 4,
          "position": 140
        }
      }
    },
    {
      "format": "php",
      "lines": 15,
      "fragment": ");\n    }\n\n    /**\n     * Ly payload cho event\n     */\n    public function getPayload(): array\n    {\n        return array_merge(parent::getPayload(), [\n            'document' => [\n                'id' => $this->document->id,\n                'ulid' => $this->document->ulid,\n                'title' => $this->document->title,\n                'visibility' => $this->document->visibility,\n                'client_approved' => $this->document->client_approved,",
      "tokens": 0,
      "firstFile": {
        "name": "src/DocumentManagement/Events/DocumentCreated.php",
        "start": 23,
        "end": 37,
        "startLoc": {
          "line": 23,
          "column": 9,
          "position": 142
        },
        "endLoc": {
          "line": 37,
          "column": 2,
          "position": 262
        }
      },
      "secondFile": {
        "name": "src/DocumentManagement/Events/DocumentUpdated.php",
        "start": 24,
        "end": 39,
        "startLoc": {
          "line": 24,
          "column": 9,
          "position": 151
        },
        "endLoc": {
          "line": 39,
          "column": 2,
          "position": 273
        }
      }
    },
    {
      "format": "php",
      "lines": 11,
      "fragment": "extends BaseEvent\n{\n    public function __construct(\n        public Document $document,\n        public int $userId\n    ) {\n        parent::__construct(\n            entityId: $this->document->id,\n            projectId: $this->document->project_id,\n            actorId: $this->userId,\n            changedFields: ['client_approved'",
      "tokens": 0,
      "firstFile": {
        "name": "src/DocumentManagement/Events/DocumentApprovedForClient.php",
        "start": 11,
        "end": 21,
        "startLoc": {
          "line": 11,
          "column": 2,
          "position": 50
        },
        "endLoc": {
          "line": 21,
          "column": 18,
          "position": 131
        }
      },
      "secondFile": {
        "name": "src/DocumentManagement/Events/DocumentCreated.php",
        "start": 11,
        "end": 21,
        "startLoc": {
          "line": 11,
          "column": 2,
          "position": 50
        },
        "endLoc": {
          "line": 21,
          "column": 10,
          "position": 131
        }
      }
    },
    {
      "format": "php",
      "lines": 17,
      "fragment": ");\n    }\n\n    /**\n     * Ly payload cho event\n     */\n    public function getPayload(): array\n    {\n        return array_merge(parent::getPayload(), [\n            'document' => [\n                'id' => $this->document->id,\n                'ulid' => $this->document->ulid,\n                'title' => $this->document->title,\n                'visibility' => $this->document->visibility,\n                'client_approved' => $this->document->client_approved\n            ]\n        ]",
      "tokens": 0,
      "firstFile": {
        "name": "src/DocumentManagement/Events/DocumentApprovedForClient.php",
        "start": 23,
        "end": 39,
        "startLoc": {
          "line": 23,
          "column": 9,
          "position": 142
        },
        "endLoc": {
          "line": 39,
          "column": 2,
          "position": 267
        }
      },
      "secondFile": {
        "name": "src/DocumentManagement/Events/DocumentUpdated.php",
        "start": 24,
        "end": 39,
        "startLoc": {
          "line": 24,
          "column": 9,
          "position": 151
        },
        "endLoc": {
          "line": 39,
          "column": 2,
          "position": 274
        }
      }
    },
    {
      "format": "php",
      "lines": 34,
      "fragment": ";\n    }\n    \n    /**\n     * Resolve actor ID t Auth facade vi fallback an ton\n     * \n     * @return string|int\n     */\n    private function resolveActorId()\n    {\n        try {\n            if (AuthHelper::check()) {\n                return AuthHelper::id();\n            }\n            return 'system';\n        } catch (\\Throwable $e) {\n            Log::warning('Failed to resolve actor ID from Auth facade', [\n                'error' => $e->getMessage(),\n                'trace' => $e->getTraceAsString()\n            ]);\n            return 'system';\n        }\n    }\n    \n    /**\n     * p dng work template vo project\n     * \n     * @param WorkTemplate $template Template cn p dng\n     * @param Project $project Project ch\n     * @param Component|null $component Component ch (optional)\n     * @param array $options Ty chn b sung\n     * @return array Kt qu p dng template\n     * @throws ValidationException\n     */",
      "tokens": 0,
      "firstFile": {
        "name": "src/CoreProject/Services/WorkTemplateApplicationService.php",
        "start": 37,
        "end": 70,
        "startLoc": {
          "line": 37,
          "column": 13,
          "position": 201
        },
        "endLoc": {
          "line": 70,
          "column": 8,
          "position": 331
        }
      },
      "secondFile": {
        "name": "src/WorkTemplate/Services/TemplateService.php",
        "start": 484,
        "end": 507,
        "startLoc": {
          "line": 484,
          "column": 2,
          "position": 3131
        },
        "endLoc": {
          "line": 507,
          "column": 2,
          "position": 3258
        }
      }
    },
    {
      "format": "php",
      "lines": 11,
      "fragment": "sk $task): void\n    {\n        // Validate status\n        if (isset($data['status']) && !in_array($data['status'], Task::VALID_STATUSES)) {\n            throw new \\InvalidArgumentException('Trng thi khng hp l.');\n        }\n        \n        // Validate priority\n        if (isset($data['priority']) && !in_array($data['priority'], Task::VALID_PRIORITIES)) {\n            throw new \\InvalidArgumentException(' u tin khng hp l.');\n        }\n       ",
      "tokens": 0,
      "firstFile": {
        "name": "src/CoreProject/Services/TaskService.php",
        "start": 348,
        "end": 358,
        "startLoc": {
          "line": 348,
          "column": 9,
          "position": 2695
        },
        "endLoc": {
          "line": 358,
          "column": 21,
          "position": 2797
        }
      },
      "secondFile": {
        "name": "src/CoreProject/Services/TaskService.php",
        "start": 319,
        "end": 329,
        "startLoc": {
          "line": 319,
          "column": 9,
          "position": 2469
        },
        "endLoc": {
          "line": 329,
          "column": 18,
          "position": 2571
        }
      }
    },
    {
      "format": "php",
      "lines": 27,
      "fragment": "{\n    /**\n     * Resolve actor ID t auth helper vi fallback an ton\n     * \n     * @return string|int\n     */\n    private function resolveActorId()\n    {\n        try {\n            return AuthHelper::idOrSystem();\n        } catch (\\Throwable $e) {\n            Log::warning('Failed to resolve actor ID from auth helper', [\n                'error' => $e->getMessage(),\n                'trace' => $e->getTraceAsString()\n            ]);\n            return 'system';\n        }\n    }\n    \n    /**\n     * To component mi cho project\n     *\n     * @param string $projectId\n     * @param array $data\n     * @return Component\n     * @throws Exception\n     */",
      "tokens": 0,
      "firstFile": {
        "name": "src/CoreProject/Services/ComponentService.php",
        "start": 22,
        "end": 48,
        "startLoc": {
          "line": 22,
          "column": 1,
          "position": 135
        },
        "endLoc": {
          "line": 48,
          "column": 8,
          "position": 238
        }
      },
      "secondFile": {
        "name": "src/CoreProject/Services/ProjectService.php",
        "start": 28,
        "end": 53,
        "startLoc": {
          "line": 28,
          "column": 1,
          "position": 143
        },
        "endLoc": {
          "line": 53,
          "column": 8,
          "position": 245
        }
      }
    },
    {
      "format": "php",
      "lines": 16,
      "fragment": "extends BaseApiResource\n{\n    /**\n     * Transform the resource into an array.\n     *\n     * @param  \\Illuminate\\Http\\Request  $request\n     * @return array\n     */\n    public function toArray($request): array\n    {\n        return [\n            'id' => $this->id,\n            'ulid' => $this->formatUlid($this->ulid),\n            'tenant_id' => $this->tenant_id,\n            'name' => $this->name,\n            'description'",
      "tokens": 0,
      "firstFile": {
        "name": "src/CoreProject/Resources/ProjectResource.php",
        "start": 11,
        "end": 26,
        "startLoc": {
          "line": 11,
          "column": 2,
          "position": 39
        },
        "endLoc": {
          "line": 26,
          "column": 14,
          "position": 124
        }
      },
      "secondFile": {
        "name": "src/CoreProject/Resources/UserResource.php",
        "start": 11,
        "end": 26,
        "startLoc": {
          "line": 11,
          "column": 2,
          "position": 39
        },
        "endLoc": {
          "line": 26,
          "column": 8,
          "position": 124
        }
      }
    },
    {
      "format": "php",
      "lines": 28,
      "fragment": "],\n            'tags' => [\n                'nullable',\n                'array'\n            ],\n            'tags.*' => [\n                'string',\n                'max:50'\n            ],\n            'visibility' => [\n                'nullable',\n                'string',\n                'in:internal,client'\n            ],\n            'client_approved' => [\n                'nullable',\n                'boolean'\n            ]\n        ];\n    }\n\n    /**\n     * Validation sau khi rules c bn  pass\n     */\n    public function withValidator($validator)\n    {\n        $validator->after(function ($validator) {\n            $this",
      "tokens": 0,
      "firstFile": {
        "name": "src/CoreProject/Requests/UpdateProjectRequest.php",
        "start": 71,
        "end": 98,
        "startLoc": {
          "line": 71,
          "column": 13,
          "position": 383
        },
        "endLoc": {
          "line": 98,
          "column": 6,
          "position": 504
        }
      },
      "secondFile": {
        "name": "src/CoreProject/Requests/UpdateTaskRequest.php",
        "start": 130,
        "end": 157,
        "startLoc": {
          "line": 130,
          "column": 13,
          "position": 842
        },
        "endLoc": {
          "line": 157,
          "column": 37,
          "position": 963
        }
      }
    },
    {
      "format": "php",
      "lines": 39,
      "fragment": "=> [\n                'nullable',\n                'numeric',\n                'min:0',\n                'max:100'\n            ],\n            'planned_cost' => [\n                'nullable',\n                'numeric',\n                'min:0'\n            ],\n            'actual_cost' => [\n                'nullable',\n                'numeric',\n                'min:0'\n            ],\n            'tags' => [\n                'nullable',\n                'array'\n            ],\n            'tags.*' => [\n                'string',\n                'max:50'\n            ],\n            'visibility' => [\n                'nullable',\n                'string',\n                'in:internal,client'\n            ],\n            'client_approved' => [\n                'nullable',\n                'boolean'\n            ]\n        ];\n    }\n\n    /**\n     * Kim tra xem vic thay i parent c to vng lp khng\n     */",
      "tokens": 0,
      "firstFile": {
        "name": "src/CoreProject/Requests/UpdateComponentRequest.php",
        "start": 72,
        "end": 110,
        "startLoc": {
          "line": 72,
          "column": 2,
          "position": 473
        },
        "endLoc": {
          "line": 110,
          "column": 8,
          "position": 631
        }
      },
      "secondFile": {
        "name": "src/CoreProject/Requests/UpdateProjectRequest.php",
        "start": 56,
        "end": 94,
        "startLoc": {
          "line": 56,
          "column": 2,
          "position": 316
        },
        "endLoc": {
          "line": 94,
          "column": 8,
          "position": 474
        }
      }
    },
    {
      "format": "php",
      "lines": 30,
      "fragment": "'required',\n                'array'\n            ],\n            'template_data.tasks' => [\n                'nullable',\n                'array'\n            ],\n            'template_data.tasks.*.name' => [\n                'required_with:template_data.tasks',\n                'string',\n                'max:255'\n            ],\n            'template_data.tasks.*.description' => [\n                'nullable',\n                'string'\n            ],\n            'template_data.tasks.*.estimated_hours' => [\n                'nullable',\n                'numeric',\n                'min:0'\n            ],\n            'template_data.tasks.*.dependencies' => [\n                'nullable',\n                'array'\n            ],\n            'template_data.metadata' => [\n                'nullable',\n                'array'\n            ],\n            'version'",
      "tokens": 0,
      "firstFile": {
        "name": "src/CoreProject/Requests/StoreWorkTemplateRequest.php",
        "start": 42,
        "end": 71,
        "startLoc": {
          "line": 42,
          "column": 17,
          "position": 213
        },
        "endLoc": {
          "line": 71,
          "column": 10,
          "position": 346
        }
      },
      "secondFile": {
        "name": "src/CoreProject/Requests/UpdateWorkTemplateRequest.php",
        "start": 47,
        "end": 76,
        "startLoc": {
          "line": 47,
          "column": 17,
          "position": 255
        },
        "endLoc": {
          "line": 76,
          "column": 12,
          "position": 388
        }
      }
    },
    {
      "format": "php",
      "lines": 30,
      "fragment": "$templateData = $this->input('template_data', []);\n            \n            if (isset($templateData['tasks']) && is_array($templateData['tasks'])) {\n                $taskNames = [];\n                foreach ($templateData['tasks'] as $index => $task) {\n                    // Kim tra tn task trng lp\n                    if (isset($task['name'])) {\n                        if (in_array($task['name'], $taskNames)) {\n                            $validator->errors()->add(\n                                \"template_data.tasks.{$index}.name\",\n                                'Tn task b trng lp trong template.'\n                            );\n                        }\n                        $taskNames[] = $task['name'];\n                    }\n                    \n                    // Kim tra dependencies hp l\n                    if (isset($task['dependencies']) && is_array($task['dependencies'])) {\n                        foreach ($task['dependencies'] as $depIndex => $dependency) {\n                            if (!is_string($dependency)) {\n                                $validator->errors()->add(\n                                    \"template_data.tasks.{$index}.dependencies.{$depIndex}\",\n                                    'Dependency phi l chui tn task.'\n                                );\n                            }\n",
      "tokens": 0,
      "firstFile": {
        "name": "src/CoreProject/Requests/StoreWorkTemplateRequest.php",
        "start": 98,
        "end": 127,
        "startLoc": {
          "line": 98,
          "column": 13,
          "position": 466
        },
        "endLoc": {
          "line": 127,
          "column": 2,
          "position": 720
        }
      },
      "secondFile": {
        "name": "src/CoreProject/Requests/UpdateWorkTemplateRequest.php",
        "start": 99,
        "end": 130,
        "startLoc": {
          "line": 99,
          "column": 17,
          "position": 500
        },
        "endLoc": {
          "line": 130,
          "column": 65,
          "position": 758
        }
      }
    },
    {
      "format": "php",
      "lines": 46,
      "fragment": ")\n            ],\n            'description' => [\n                'nullable',\n                'string',\n                'max:1000'\n            ],\n            'progress_percent' => [\n                'nullable',\n                'numeric',\n                'min:0',\n                'max:100'\n            ],\n            'planned_cost' => [\n                'nullable',\n                'numeric',\n                'min:0'\n            ],\n            'actual_cost' => [\n                'nullable',\n                'numeric',\n                'min:0'\n            ],\n            'tags' => [\n                'nullable',\n                'array'\n            ],\n            'tags.*' => [\n                'string',\n                'max:50'\n            ],\n            'visibility' => [\n                'nullable',\n                'string',\n                'in:internal,client'\n            ],\n            'client_approved' => [\n                'nullable',\n                'boolean'\n            ]\n        ];\n    }\n\n    /**\n     * Chun b d liu trc khi validation\n     */",
      "tokens": 0,
      "firstFile": {
        "name": "src/CoreProject/Requests/StoreComponentRequest.php",
        "start": 54,
        "end": 99,
        "startLoc": {
          "line": 54,
          "column": 20,
          "position": 304
        },
        "endLoc": {
          "line": 99,
          "column": 8,
          "position": 494
        }
      },
      "secondFile": {
        "name": "src/CoreProject/Requests/UpdateComponentRequest.php",
        "start": 65,
        "end": 94,
        "startLoc": {
          "line": 65,
          "column": 2,
          "position": 441
        },
        "endLoc": {
          "line": 94,
          "column": 8,
          "position": 474
        }
      }
    },
    {
      "format": "php",
      "lines": 24,
      "fragment": ");\n    }\n\n    /**\n     * Resolve actor ID t Auth facade vi fallback an ton\n     * \n     * @return string|int\n     */\n    private function resolveActorId()\n    {\n        try {\n            if (AuthHelper::check()) {\n                return AuthHelper::id();\n            }\n            return 'system';\n        } catch (\\Throwable $e) {\n            Log::warning('Failed to resolve actor ID from Auth facade', [\n                'error' => $e->getMessage(),\n                'trace' => $e->getTraceAsString()\n            ]);\n            return 'system';\n        }\n    }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/CoreProject/Models/WorkTemplate.php",
        "start": 164,
        "end": 187,
        "startLoc": {
          "line": 164,
          "column": 2,
          "position": 1115
        },
        "endLoc": {
          "line": 187,
          "column": 2,
          "position": 1242
        }
      },
      "secondFile": {
        "name": "src/WorkTemplate/Services/TemplateService.php",
        "start": 484,
        "end": 507,
        "startLoc": {
          "line": 484,
          "column": 2,
          "position": 3130
        },
        "endLoc": {
          "line": 507,
          "column": 2,
          "position": 3258
        }
      }
    },
    {
      "format": "php",
      "lines": 24,
      "fragment": ",\n        'created_at' => 'datetime',\n        'updated_at' => 'datetime',\n    ];\n\n    /**\n     * Quan h vi Project\n     */\n    public function project(): BelongsTo\n    {\n        return $this->belongsTo(Project::class);\n    }\n\n    /**\n     * Quan h vi User (ngi to)\n     */\n    public function creator(): BelongsTo\n    {\n        return $this->belongsTo(User::class, 'created_by');\n    }\n\n    /**\n     * Quan h vi ChangeRequest (contract lin quan)\n     */",
      "tokens": 0,
      "firstFile": {
        "name": "src/CoreProject/Models/Baseline.php",
        "start": 68,
        "end": 91,
        "startLoc": {
          "line": 68,
          "column": 10,
          "position": 321
        },
        "endLoc": {
          "line": 91,
          "column": 8,
          "position": 422
        }
      },
      "secondFile": {
        "name": "src/DocumentManagement/Models/Document.php",
        "start": 88,
        "end": 111,
        "startLoc": {
          "line": 88,
          "column": 10,
          "position": 391
        },
        "endLoc": {
          "line": 111,
          "column": 8,
          "position": 492
        }
      }
    },
    {
      "format": "php",
      "lines": 37,
      "fragment": "           'message' => $message\n        ], 400);\n    }\n    \n    /**\n     * Return unauthorized response\n     * \n     * @param string $message\n     * @return Response\n     */\n    private function unauthorizedResponse(string $message): Response\n    {\n        return response()->json([\n            'status' => 'error',\n            'message' => $message\n        ], 401);\n    }\n    \n    /**\n     * Return forbidden response\n     * \n     * @param string $message\n     * @return Response\n     */\n    private function forbiddenResponse(string $message): Response\n    {\n        return response()->json([\n            'status' => 'error',\n            'message' => $message\n        ], 403);\n    }\n    \n    /**\n     * Return not found response\n     * \n     * @param ",
      "tokens": 0,
      "firstFile": {
        "name": "src/CoreProject/Middleware/ProjectAccessMiddleware.php",
        "start": 143,
        "end": 179,
        "startLoc": {
          "line": 143,
          "column": 4,
          "position": 914
        },
        "endLoc": {
          "line": 179,
          "column": 8,
          "position": 1049
        }
      },
      "secondFile": {
        "name": "src/CoreProject/Middleware/ProjectOwnershipMiddleware.php",
        "start": 96,
        "end": 126,
        "startLoc": {
          "line": 96,
          "column": 11,
          "position": 525
        },
        "endLoc": {
          "line": 126,
          "column": 2,
          "position": 657
        }
      }
    },
    {
      "format": "php",
      "lines": 31,
      "fragment": "           'message' => $message\n        ], 401);\n    }\n    \n    /**\n     * Return forbidden response\n     * \n     * @param string $message\n     * @return Response\n     */\n    private function forbiddenResponse(string $message): Response\n    {\n        return response()->json([\n            'status' => 'error',\n            'message' => $message\n        ], 403);\n    }\n    \n    /**\n     * Return not found response\n     * \n     * @param string $message\n     * @return Response\n     */\n    private function notFoundResponse(string $message): Response\n    {\n        return response()->json([\n            'status' => 'error',\n           ",
      "tokens": 0,
      "firstFile": {
        "name": "src/CoreProject/Middleware/ProjectAccessMiddleware.php",
        "start": 157,
        "end": 187,
        "startLoc": {
          "line": 157,
          "column": 4,
          "position": 977
        },
        "endLoc": {
          "line": 187,
          "column": 2,
          "position": 1109
        }
      },
      "secondFile": {
        "name": "src/CoreProject/Middleware/TaskAccessMiddleware.php",
        "start": 97,
        "end": 127,
        "startLoc": {
          "line": 97,
          "column": 4,
          "position": 578
        },
        "endLoc": {
          "line": 127,
          "column": 2,
          "position": 710
        }
      }
    },
    {
      "format": "php",
      "lines": 47,
      "fragment": "]);\n        \n        return $next($request);\n    }\n    \n    /**\n     * Return bad request response\n     * \n     * @param string $message\n     * @return Response\n     */\n    private function badRequestResponse(string $message): Response\n    {\n        return response()->json([\n            'status' => 'error',\n            'message' => $message\n        ], 400);\n    }\n    \n    /**\n     * Return forbidden response\n     * \n     * @param string $message\n     * @return Response\n     */\n    private function forbiddenResponse(string $message): Response\n    {\n        return response()->json([\n            'status' => 'error',\n            'message' => $message\n        ], 403);\n    }\n    \n    /**\n     * Return not found response\n     * \n     * @param string $message\n     * @return Response\n     */\n    private function notFoundResponse(string $message): Response\n    {\n        return response()->json([\n            'status' => 'error',\n            'message' => $message\n        ], 404);\n    }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/CoreProject/Middleware/ComponentAccessMiddleware.php",
        "start": 70,
        "end": 116,
        "startLoc": {
          "line": 70,
          "column": 9,
          "position": 413
        },
        "endLoc": {
          "line": 116,
          "column": 2,
          "position": 620
        }
      },
      "secondFile": {
        "name": "src/CoreProject/Middleware/TaskAccessMiddleware.php",
        "start": 81,
        "end": 127,
        "startLoc": {
          "line": 81,
          "column": 9,
          "position": 503
        },
        "endLoc": {
          "line": 127,
          "column": 2,
          "position": 710
        }
      }
    },
    {
      "format": "php",
      "lines": 14,
      "fragment": ";\n            \n            // X l li conditional tags khi project tags thay i\n            $this->conditionalTagService->processProjectConditionalTags($projectId);\n            \n            Log::info(\"Conditional tags reprocessed after project tags update\", [\n                'project_id' => $projectId\n            ]);\n            \n        } catch (\\Exception $e) {\n            Log",
      "tokens": 0,
      "firstFile": {
        "name": "src/CoreProject/Listeners/ConditionalTagListener.php",
        "start": 60,
        "end": 73,
        "startLoc": {
          "line": 60,
          "column": 13,
          "position": 302
        },
        "endLoc": {
          "line": 73,
          "column": 2,
          "position": 404
        }
      },
      "secondFile": {
        "name": "src/CoreProject/Listeners/ConditionalTagListener.php",
        "start": 34,
        "end": 53,
        "startLoc": {
          "line": 34,
          "column": 13,
          "position": 156
        },
        "endLoc": {
          "line": 53,
          "column": 8,
          "position": 260
        }
      }
    },
    {
      "format": "php",
      "lines": 15,
      "fragment": ";\n    }\n\n    /**\n     * Ly payload y  ca event\n     */\n    public function getPayload(): array\n    {\n        return [\n            'baseline_id' => $this->baselineId,\n            'project_id' => $this->projectId,\n            'type' => $this->type,\n            'version' => $this->version,\n            'actor_id' => $this->actorId,\n            'baseline_data'",
      "tokens": 0,
      "firstFile": {
        "name": "src/CoreProject/Events/BaselineCreated.php",
        "start": 42,
        "end": 56,
        "startLoc": {
          "line": 42,
          "column": 27,
          "position": 205
        },
        "endLoc": {
          "line": 56,
          "column": 16,
          "position": 295
        }
      },
      "secondFile": {
        "name": "src/CoreProject/Events/BaselineUpdated.php",
        "start": 46,
        "end": 60,
        "startLoc": {
          "line": 46,
          "column": 27,
          "position": 225
        },
        "endLoc": {
          "line": 60,
          "column": 17,
          "position": 315
        }
      }
    },
    {
      "format": "php",
      "lines": 11,
      "fragment": "(string $projectId, string $taskId, string $assignmentId): JsonResponse\n    {\n        try {\n            $assignment = TaskAssignment::where('id', $assignmentId)\n                ->where('task_id', $taskId)\n                ->whereHas('task', function ($query) use ($projectId) {\n                    $query->where('project_id', $projectId);\n                })\n                ->firstOrFail();\n\n            $assignment",
      "tokens": 0,
      "firstFile": {
        "name": "src/CoreProject/Controllers/TaskAssignmentController.php",
        "start": 184,
        "end": 194,
        "startLoc": {
          "line": 184,
          "column": 8,
          "position": 1246
        },
        "endLoc": {
          "line": 194,
          "column": 12,
          "position": 1348
        }
      },
      "secondFile": {
        "name": "src/CoreProject/Controllers/TaskAssignmentController.php",
        "start": 103,
        "end": 143,
        "startLoc": {
          "line": 103,
          "column": 5,
          "position": 614
        },
        "endLoc": {
          "line": 143,
          "column": 16,
          "position": 949
        }
      }
    },
    {
      "format": "php",
      "lines": 11,
      "fragment": "(Request $request, string $projectId): JsonResponse\n    {\n        try {\n            // Kim tra quyn\n            if (!$this->hasPermission($request, 'baseline.create', $projectId)) {\n                return JSendResponse::error('Khng c quyn to baseline', 403);\n            }\n            \n            $validator = Validator::make($request->all(), [\n                'type' => 'required|in:contract,execution',\n                'note'",
      "tokens": 0,
      "firstFile": {
        "name": "src/CoreProject/Controllers/BaselineController.php",
        "start": 257,
        "end": 267,
        "startLoc": {
          "line": 257,
          "column": 18,
          "position": 1799
        },
        "endLoc": {
          "line": 267,
          "column": 7,
          "position": 1894
        }
      },
      "secondFile": {
        "name": "src/CoreProject/Controllers/BaselineController.php",
        "start": 82,
        "end": 92,
        "startLoc": {
          "line": 82,
          "column": 6,
          "position": 469
        },
        "endLoc": {
          "line": 92,
          "column": 13,
          "position": 563
        }
      }
    },
    {
      "format": "php",
      "lines": 19,
      "fragment": "extends ResourceCollection\n{\n    /**\n     * Transform the resource collection into an array.\n     *\n     * @param  \\Illuminate\\Http\\Request  $request\n     * @return array\n     */\n    public function toArray($request): array\n    {\n        return [\n            'data' => $this->collection,\n            'meta' => [\n                'total' => $this->total(),\n                'count' => $this->count(),\n                'per_page' => $this->perPage(),\n                'current_page' => $this->currentPage(),\n                'total_pages' => $this->lastPage(),\n                'has_more_pages' => $this->hasMorePages(),",
      "tokens": 0,
      "firstFile": {
        "name": "src/Compensation/Resources/TaskCompensationCollection.php",
        "start": 11,
        "end": 29,
        "startLoc": {
          "line": 11,
          "column": 2,
          "position": 41
        },
        "endLoc": {
          "line": 29,
          "column": 2,
          "position": 173
        }
      },
      "secondFile": {
        "name": "src/DocumentManagement/Resources/DocumentCollection.php",
        "start": 11,
        "end": 30,
        "startLoc": {
          "line": 11,
          "column": 2,
          "position": 41
        },
        "endLoc": {
          "line": 30,
          "column": 2,
          "position": 175
        }
      }
    },
    {
      "format": "php",
      "lines": 34,
      "fragment": "extends FormRequest\n{\n    /**\n     * Xc nh user c quyn thc hin request ny khng\n     */\n    public function authorize(): bool\n    {\n        return true; // Authorization c x l bi RBAC middleware\n    }\n\n    /**\n     * Cc quy tc validation cho request\n     */\n    public function rules(): array\n    {\n        return [\n            'project_id' => [\n                'required',\n                'integer',\n                'exists:projects,id'\n            ],\n            'contract_id' => [\n                'required',\n                'integer',\n                'exists:contracts,id'\n            ],\n            'task_ids' => [\n                'nullable',\n                'array'\n            ],\n            'task_ids.*' => [\n                'integer',\n                'exists:tasks,id'\n            ],",
      "tokens": 0,
      "firstFile": {
        "name": "src/Compensation/Requests/ApplyContractRequest.php",
        "start": 12,
        "end": 45,
        "startLoc": {
          "line": 12,
          "column": 2,
          "position": 39
        },
        "endLoc": {
          "line": 45,
          "column": 2,
          "position": 180
        }
      },
      "secondFile": {
        "name": "src/Compensation/Requests/PreviewCompensationRequest.php",
        "start": 12,
        "end": 46,
        "startLoc": {
          "line": 12,
          "column": 2,
          "position": 39
        },
        "endLoc": {
          "line": 46,
          "column": 2,
          "position": 182
        }
      }
    },
    {
      "format": "php",
      "lines": 15,
      "fragment": ");\n\n        if ($tenantId) {\n            $query->where('tenant_id', $tenantId);\n        }\n\n        if ($startDate) {\n            $query->where('created_at', '>=', $startDate);\n        }\n\n        if ($endDate) {\n            $query->where('created_at', '<=', $endDate);\n        }\n\n        return",
      "tokens": 0,
      "firstFile": {
        "name": "src/Common/Services/AuditService.php",
        "start": 216,
        "end": 230,
        "startLoc": {
          "line": 216,
          "column": 2,
          "position": 1585
        },
        "endLoc": {
          "line": 230,
          "column": 7,
          "position": 1674
        }
      },
      "secondFile": {
        "name": "src/Common/Services/AuditService.php",
        "start": 172,
        "end": 186,
        "startLoc": {
          "line": 172,
          "column": 2,
          "position": 1206
        },
        "endLoc": {
          "line": 186,
          "column": 11,
          "position": 1295
        }
      }
    },
    {
      "format": "php",
      "lines": 46,
      "fragment": "'required',\n                Rule::in(['internal', 'client'])\n            ]\n        ];\n    }\n\n    /**\n     * Thng bo li ty chnh\n     */\n    public function messages(): array\n    {\n        return [\n            'title.required' => 'Tiu  change request l bt buc',\n            'title.max' => 'Tiu  khng c vt qu 255 k t',\n            'description.required' => 'M t change request l bt buc',\n            'description.max' => 'M t khng c vt qu 5000 k t',\n            'impact_days.integer' => 'S ngy nh hng phi l s nguyn',\n            'impact_days.min' => 'S ngy nh hng khng c m',\n            'impact_days.max' => 'S ngy nh hng khng c vt qu 365 ngy',\n            'impact_cost.numeric' => 'Chi ph nh hng phi l s',\n            'impact_cost.min' => 'Chi ph nh hng khng c m',\n            'priority.required' => 'Mc  u tin l bt buc',\n            'priority.in' => 'Mc  u tin khng hp l',\n            'visibility.required' => 'Mc  hin th l bt buc',\n            'visibility.in' => 'Mc  hin th khng hp l'\n        ];\n    }\n\n    /**\n     * Chun b d liu trc khi validation\n     */\n    protected function prepareForValidation(): void\n    {\n        // Chuyn i tags thnh array nu l string\n        if ($this->has('tags') && is_string($this->tags)) {\n            $this->merge([\n                'tags' => array_filter(array_map('trim', explode(',', $this->tags)))\n            ]);\n        }\n\n        // m bo impact_kpi l array\n        if ($this->has('impact_kpi') && !is_array($this->impact_kpi)) {\n            $this->merge(['impact_kpi' => []]);\n        }\n    }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/ChangeRequest/Requests/StoreChangeRequestRequest.php",
        "start": 96,
        "end": 141,
        "startLoc": {
          "line": 96,
          "column": 17,
          "position": 438
        },
        "endLoc": {
          "line": 141,
          "column": 2,
          "position": 754
        }
      },
      "secondFile": {
        "name": "src/ChangeRequest/Requests/UpdateChangeRequestRequest.php",
        "start": 106,
        "end": 151,
        "startLoc": {
          "line": 106,
          "column": 17,
          "position": 476
        },
        "endLoc": {
          "line": 151,
          "column": 2,
          "position": 792
        }
      }
    },
    {
      "format": "php",
      "lines": 24,
      "fragment": ",\n        'created_at' => 'datetime',\n        'updated_at' => 'datetime',\n    ];\n\n    /**\n     * Quan h vi Project\n     */\n    public function project(): BelongsTo\n    {\n        return $this->belongsTo(Project::class);\n    }\n\n    /**\n     * Quan h vi User (ngi to)\n     */\n    public function creator(): BelongsTo\n    {\n        return $this->belongsTo(User::class, 'created_by');\n    }\n\n    /**\n     * Quan h vi User (ngi quyt nh)\n     */",
      "tokens": 0,
      "firstFile": {
        "name": "src/ChangeRequest/Models/ChangeRequest.php",
        "start": 91,
        "end": 114,
        "startLoc": {
          "line": 91,
          "column": 11,
          "position": 501
        },
        "endLoc": {
          "line": 114,
          "column": 8,
          "position": 602
        }
      },
      "secondFile": {
        "name": "src/DocumentManagement/Models/Document.php",
        "start": 88,
        "end": 111,
        "startLoc": {
          "line": 88,
          "column": 10,
          "position": 391
        },
        "endLoc": {
          "line": 111,
          "column": 8,
          "position": 492
        }
      }
    },
    {
      "format": "php",
      "lines": 21,
      "fragment": "public function __construct(\n        string $entityId,\n        string $projectId,\n        string $actorId,\n        array $oldData,\n        array $newData,\n        array $changedFields = []\n    ) {\n        parent::__construct($entityId, $projectId, $actorId, $changedFields);\n        $this->oldData = $oldData;\n        $this->newData = $newData;\n    }\n    \n    /**\n     * Ly tn s kin theo format Domain.Entity.Action\n     * \n     * @return string\n     */\n    public function getEventName(): string\n    {\n        return 'ChangeRequest.ChangeRequest.Updated'",
      "tokens": 0,
      "firstFile": {
        "name": "src/ChangeRequest/Events/ChangeRequestUpdated.php",
        "start": 36,
        "end": 56,
        "startLoc": {
          "line": 36,
          "column": 5,
          "position": 75
        },
        "endLoc": {
          "line": 56,
          "column": 38,
          "position": 193
        }
      },
      "secondFile": {
        "name": "src/Notification/Events/NotificationRuleUpdated.php",
        "start": 36,
        "end": 56,
        "startLoc": {
          "line": 36,
          "column": 5,
          "position": 75
        },
        "endLoc": {
          "line": 56,
          "column": 40,
          "position": 193
        }
      }
    },
    {
      "format": "php",
      "lines": 19,
      "fragment": "public function __construct(\n        string $entityId,\n        string $projectId,\n        string $actorId,\n        array $changeRequestData,\n        array $changedFields = []\n    ) {\n        parent::__construct($entityId, $projectId, $actorId, $changedFields);\n        $this->changeRequestData = $changeRequestData;\n    }\n    \n    /**\n     * Ly tn s kin theo format Domain.Entity.Action\n     * \n     * @return string\n     */\n    public function getEventName(): string\n    {\n        return 'ChangeRequest.ChangeRequest.Created'",
      "tokens": 0,
      "firstFile": {
        "name": "src/ChangeRequest/Events/ChangeRequestCreated.php",
        "start": 28,
        "end": 46,
        "startLoc": {
          "line": 28,
          "column": 5,
          "position": 62
        },
        "endLoc": {
          "line": 46,
          "column": 38,
          "position": 163
        }
      },
      "secondFile": {
        "name": "src/ChangeRequest/Events/ChangeRequestSubmitted.php",
        "start": 28,
        "end": 46,
        "startLoc": {
          "line": 28,
          "column": 5,
          "position": 62
        },
        "endLoc": {
          "line": 46,
          "column": 40,
          "position": 163
        }
      }
    },
    {
      "format": "php",
      "lines": 31,
      "fragment": ". $e->getMessage());\n        }\n    }\n\n    /**\n     * Resolve the current actor ID for audit trails\n     * Uses Auth facade instead of auth() helper for better testability\n     *\n     * @return string|int The actor ID or 'system' as fallback\n     */\n    private function resolveActorId()\n    {\n        try {\n            // Check if user is authenticated using Auth facade\n            if (AuthHelper::check()) {\n                return AuthHelper::idOrSystem();\n            }\n        } catch (\\Throwable $e) {\n            // Log the error for debugging in non-production environments\n            if (config('app.debug')) {\n                \\Log::warning('Controller: Unable to resolve actor ID', [\n                    'error' => $e->getMessage(),\n                    'controller' => static::class\n                ]);\n            }\n        }\n        \n        // Fallback to 'system' for test environments or when auth is unavailable\n        return 'system';\n    }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/ChangeRequest/Controllers/ChangeRequestController.php",
        "start": 310,
        "end": 340,
        "startLoc": {
          "line": 310,
          "column": 2,
          "position": 1724
        },
        "endLoc": {
          "line": 340,
          "column": 2,
          "position": 1880
        }
      },
      "secondFile": {
        "name": "src/Compensation/Controllers/CompensationController.php",
        "start": 285,
        "end": 315,
        "startLoc": {
          "line": 285,
          "column": 2,
          "position": 1616
        },
        "endLoc": {
          "line": 315,
          "column": 2,
          "position": 1772
        }
      }
    },
    {
      "format": "javascript",
      "lines": 25,
      "fragment": "(false);\n            resetForm();\n          }}\n          title=\"Chnh sa ngi dng\"\n        >\n          <div className=\"space-y-4\">\n            <Input\n              label=\"Tn ngi dng\"\n              value={formData.name}\n              onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n              placeholder=\"Nhp tn ngi dng\"\n            />\n            <Input\n              label=\"Email\"\n              type=\"email\"\n              value={formData.email}\n              onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n              placeholder=\"Nhp email\"\n            />\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Trng thi\n              </label>\n              <select\n                value={formData.status",
      "tokens": 0,
      "firstFile": {
        "name": "resources/js/pages/admin/UsersManagementPage.tsx",
        "start": 551,
        "end": 575,
        "startLoc": {
          "line": 551,
          "column": 19,
          "position": 4672
        },
        "endLoc": {
          "line": 575,
          "column": 7,
          "position": 4851
        }
      },
      "secondFile": {
        "name": "resources/js/pages/admin/UsersManagementPage.tsx",
        "start": 457,
        "end": 479,
        "startLoc": {
          "line": 457,
          "column": 21,
          "position": 3951
        },
        "endLoc": {
          "line": 479,
          "column": 9,
          "position": 4116
        }
      }
    },
    {
      "format": "javascript",
      "lines": 25,
      "fragment": "}\n              placeholder=\"Nhp email\"\n            />\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Trng thi\n              </label>\n              <select\n                value={formData.status}\n                onChange={(e) => setFormData({ \n                  ...formData, \n                  status: e.target.value as 'active' | 'inactive' | 'suspended'\n                })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"active\">Hot ng</option>\n                <option value=\"inactive\">Khng hot ng</option>\n                <option value=\"suspended\">B kha</option>\n              </select>\n            </div>\n            <div className=\"flex justify-end space-x-3 pt-4\">\n              <Button\n                variant=\"outline\"\n                onClick={() => {\n                  setIsEditModalOpen",
      "tokens": 0,
      "firstFile": {
        "name": "resources/js/pages/admin/UsersManagementPage.tsx",
        "start": 567,
        "end": 591,
        "startLoc": {
          "line": 567,
          "column": 2,
          "position": 4806
        },
        "endLoc": {
          "line": 591,
          "column": 19,
          "position": 4996
        }
      },
      "secondFile": {
        "name": "resources/js/pages/admin/UsersManagementPage.tsx",
        "start": 489,
        "end": 534,
        "startLoc": {
          "line": 489,
          "column": 3,
          "position": 4211
        },
        "endLoc": {
          "line": 534,
          "column": 21,
          "position": 4581
        }
      }
    },
    {
      "format": "tsx",
      "lines": 17,
      "fragment": "\"\n        >\n          <div className=\"space-y-4\">\n            <Input\n              label=\"Tn ngi dng\"\n              value={formData.name}\n              onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n              placeholder=\"Nhp tn ngi dng\"\n            />\n            <Input\n              label=\"Email\"\n              type=\"email\"\n              value={formData.email}\n              onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n              placeholder=\"Nhp email\"\n            />\n            <div",
      "tokens": 0,
      "firstFile": {
        "name": "resources/js/pages/admin/UsersManagementPage.tsx",
        "start": 554,
        "end": 570,
        "startLoc": {
          "line": 554,
          "column": 21,
          "position": 4689
        },
        "endLoc": {
          "line": 570,
          "column": 4,
          "position": 4818
        }
      },
      "secondFile": {
        "name": "resources/js/pages/admin/UsersManagementPage.tsx",
        "start": 460,
        "end": 476,
        "startLoc": {
          "line": 460,
          "column": 20,
          "position": 3968
        },
        "endLoc": {
          "line": 476,
          "column": 6,
          "position": 4097
        }
      }
    },
    {
      "format": "tsx",
      "lines": 29,
      "fragment": "<div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Trng thi\n              </label>\n              <select\n                value={formData.status}\n                onChange={(e) => setFormData({ \n                  ...formData, \n                  status: e.target.value as 'active' | 'inactive' | 'suspended'\n                })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"active\">Hot ng</option>\n                <option value=\"inactive\">Khng hot ng</option>\n                <option value=\"suspended\">B kha</option>\n              </select>\n            </div>\n            <div className=\"flex justify-end space-x-3 pt-4\">\n              <Button\n                variant=\"outline\"\n                onClick={() => {\n                  setIsEditModalOpen(false);\n                  resetForm();\n                }}\n              >\n                Hy\n              </Button>\n              <Button onClick={handleUpdateUser}>\n                C",
      "tokens": 0,
      "firstFile": {
        "name": "resources/js/pages/admin/UsersManagementPage.tsx",
        "start": 570,
        "end": 598,
        "startLoc": {
          "line": 570,
          "column": 13,
          "position": 4817
        },
        "endLoc": {
          "line": 598,
          "column": 2,
          "position": 5033
        }
      },
      "secondFile": {
        "name": "resources/js/pages/admin/UsersManagementPage.tsx",
        "start": 513,
        "end": 541,
        "startLoc": {
          "line": 513,
          "column": 13,
          "position": 4402
        },
        "endLoc": {
          "line": 541,
          "column": 2,
          "position": 4618
        }
      }
    },
    {
      "format": "javascript",
      "lines": 35,
      "fragment": "(el, {labels, datasets}) {\n    if (el._chart) { \n        el._chart.destroy(); \n    }\n    \n    el._chart = new Chart(el.getContext('2d'), {\n        type: 'line',\n        data: { labels, datasets },\n        options: {\n            responsive: true,\n            maintainAspectRatio: false,\n            animation: false,\n            interaction: { \n                mode: 'index', \n                intersect: false \n            },\n            plugins: { \n                legend: { display: true }, \n                tooltip: { enabled: true } \n            },\n            scales: { \n                x: { \n                    ticks: { maxRotation: 0 },\n                    type: 'time',\n                    time: {\n                        displayFormats: {\n                            hour: 'MMM dd HH:mm',\n                            day: 'MMM dd',\n                            week: 'MMM dd',\n                            month: 'MMM yyyy'\n                        }\n                    }\n                }, \n                y: { beginAtZero: true } \n            },",
      "tokens": 0,
      "firstFile": {
        "name": "resources/js/security/charts.js",
        "start": 44,
        "end": 78,
        "startLoc": {
          "line": 44,
          "column": 10,
          "position": 303
        },
        "endLoc": {
          "line": 78,
          "column": 2,
          "position": 581
        }
      },
      "secondFile": {
        "name": "resources/js/security/charts.js",
        "start": 5,
        "end": 40,
        "startLoc": {
          "line": 5,
          "column": 10,
          "position": 8
        },
        "endLoc": {
          "line": 40,
          "column": 2,
          "position": 288
        }
      }
    },
    {
      "format": "javascript",
      "lines": 29,
      "fragment": ",\n        data: { labels, datasets },\n        options: {\n            responsive: true,\n            maintainAspectRatio: false,\n            animation: false,\n            interaction: { \n                mode: 'index', \n                intersect: false \n            },\n            plugins: { \n                legend: { display: true }, \n                tooltip: { enabled: true } \n            },\n            scales: { \n                x: { \n                    ticks: { maxRotation: 0 },\n                    type: 'time',\n                    time: {\n                        displayFormats: {\n                            hour: 'MMM dd HH:mm',\n                            day: 'MMM dd',\n                            week: 'MMM dd',\n                            month: 'MMM yyyy'\n                        }\n                    }\n                }, \n                y: { \n                    beginAtZero: true,",
      "tokens": 0,
      "firstFile": {
        "name": "resources/js/security/charts.js",
        "start": 94,
        "end": 122,
        "startLoc": {
          "line": 94,
          "column": 6,
          "position": 691
        },
        "endLoc": {
          "line": 122,
          "column": 2,
          "position": 897
        }
      },
      "secondFile": {
        "name": "resources/js/security/charts.js",
        "start": 11,
        "end": 38,
        "startLoc": {
          "line": 11,
          "column": 7,
          "position": 76
        },
        "endLoc": {
          "line": 38,
          "column": 2,
          "position": 281
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "} = useApi();\n  const [stats, setStats] = useState<DashboardStats>({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchData = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const response = await getAppDashboard",
      "tokens": 0,
      "firstFile": {
        "name": "resources/js/hooks/useDashboard.ts",
        "start": 66,
        "end": 76,
        "startLoc": {
          "line": 66,
          "column": 2,
          "position": 556
        },
        "endLoc": {
          "line": 76,
          "column": 16,
          "position": 679
        }
      },
      "secondFile": {
        "name": "resources/js/hooks/useDashboard.ts",
        "start": 28,
        "end": 38,
        "startLoc": {
          "line": 28,
          "column": 2,
          "position": 217
        },
        "endLoc": {
          "line": 38,
          "column": 18,
          "position": 340
        }
      }
    },
    {
      "format": "tsx",
      "lines": 33,
      "fragment": "dashboard...</span>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\">\n        <div className=\"flex\">\n          <div className=\"py-1\">\n            <i className=\"fas fa-exclamation-circle\"></i>\n          </div>\n          <div className=\"ml-3\">\n            <p className=\"font-bold\">Error loading dashboard</p>\n            <p>{error}</p>\n            <button \n              onClick={refetch}\n              className=\"mt-2 bg-red-500 text-white px-3 py-1 rounded text-sm hover:bg-red-600\"\n            >\n              Retry\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n      <div className=\"bg-white p-6 rounded-lg shadow\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <p className=\"text-sm font-medium text-gray-500\">Active",
      "tokens": 0,
      "firstFile": {
        "name": "resources/js/components/DashboardDemo.tsx",
        "start": 90,
        "end": 122,
        "startLoc": {
          "line": 90,
          "column": 2,
          "position": 814
        },
        "endLoc": {
          "line": 122,
          "column": 7,
          "position": 1042
        }
      },
      "secondFile": {
        "name": "resources/js/components/DashboardDemo.tsx",
        "start": 11,
        "end": 43,
        "startLoc": {
          "line": 11,
          "column": 2,
          "position": 123
        },
        "endLoc": {
          "line": 43,
          "column": 6,
          "position": 351
        }
      }
    },
    {
      "format": "javascript",
      "lines": 12,
      "fragment": ",\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRF-TOKEN': document.querySelector('meta[name=\"csrf-token\"]').getAttribute('content')\n                },\n                credentials: 'same-origin'\n            });\n\n            if (response.ok) {\n                const data = await response.json();\n                if (data.success) {\n                    this.isActive = data.data.rewards_enabled",
      "tokens": 0,
      "firstFile": {
        "name": "resources/js/rewards.js",
        "start": 97,
        "end": 108,
        "startLoc": {
          "line": 97,
          "column": 7,
          "position": 649
        },
        "endLoc": {
          "line": 108,
          "column": 16,
          "position": 745
        }
      },
      "secondFile": {
        "name": "resources/js/rewards.js",
        "start": 72,
        "end": 83,
        "startLoc": {
          "line": 72,
          "column": 6,
          "position": 471
        },
        "endLoc": {
          "line": 83,
          "column": 15,
          "position": 567
        }
      }
    },
    {
      "format": "javascript",
      "lines": 12,
      "fragment": ", {\n                method: 'GET',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRF-TOKEN': document.querySelector('meta[name=\"csrf-token\"]').getAttribute('content')\n                },\n                credentials: 'same-origin'\n            });\n\n            if (response.ok) {\n                const data = await response.json();\n                if (data.success &&",
      "tokens": 0,
      "firstFile": {
        "name": "resources/js/focus-mode.js",
        "start": 31,
        "end": 42,
        "startLoc": {
          "line": 31,
          "column": 32,
          "position": 145
        },
        "endLoc": {
          "line": 42,
          "column": 3,
          "position": 236
        }
      },
      "secondFile": {
        "name": "resources/js/rewards.js",
        "start": 71,
        "end": 82,
        "startLoc": {
          "line": 71,
          "column": 29,
          "position": 462
        },
        "endLoc": {
          "line": 82,
          "column": 2,
          "position": 552
        }
      }
    },
    {
      "format": "javascript",
      "lines": 13,
      "fragment": ", {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRF-TOKEN': document.querySelector('meta[name=\"csrf-token\"]').getAttribute('content')\n                },\n                credentials: 'same-origin'\n            });\n\n            if (response.ok) {\n                const data = await response.json();\n                if (data.success) {\n                    this.toggleUI",
      "tokens": 0,
      "firstFile": {
        "name": "resources/js/focus-mode.js",
        "start": 56,
        "end": 68,
        "startLoc": {
          "line": 56,
          "column": 32,
          "position": 325
        },
        "endLoc": {
          "line": 68,
          "column": 9,
          "position": 422
        }
      },
      "secondFile": {
        "name": "resources/js/rewards.js",
        "start": 96,
        "end": 83,
        "startLoc": {
          "line": 96,
          "column": 29,
          "position": 640
        },
        "endLoc": {
          "line": 83,
          "column": 9,
          "position": 559
        }
      }
    }
  ],
  "filename": "/Applications/XAMPP/xamppfiles/htdocs/zenamanage/node_modules/@jscpd/html-reporter/dist/templates/main.pug"
}