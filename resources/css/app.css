/* Import Z-Index System */
@import './z-index-system.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Table Design Tokens */
:root {
  /* Table Colors */
  --table-bg: #ffffff;
  --table-border: #e5e7eb;
  --table-header-bg: #f9fafb;
  --table-header-fg: #374151;
  --table-row-hover: #f9fafb;
  --table-row-selected: #eff6ff;
  
  /* Table Dimensions */
  --table-cell-padding: 0.75rem 1.5rem;
  --table-cell-padding-sm: 0.5rem 1rem;
  --table-cell-padding-lg: 1rem 2rem;
  
  /* Card Colors */
  --card-bg: #ffffff;
  --card-border: #e5e7eb;
  --card-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  --card-shadow-hover: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  
  /* Form Colors */
  --form-input-bg: #ffffff;
  --form-input-border: #d1d5db;
  --form-input-border-focus: #3b82f6;
  --form-input-border-error: #ef4444;
  --form-label-fg: #374151;
  --form-help-fg: #6b7280;
  --form-error-fg: #ef4444;
  
  /* Button Colors */
  --btn-primary-bg: #3b82f6;
  --btn-primary-hover: #2563eb;
  --btn-secondary-bg: #6b7280;
  --btn-secondary-hover: #4b5563;
  --btn-success-bg: #10b981;
  --btn-success-hover: #059669;
  --btn-danger-bg: #ef4444;
  --btn-danger-hover: #dc2626;
}

/* Header Design Tokens - Dark Theme */
[data-theme="dark"] {
  /* Header Colors */
  --hdr-bg: #0b0f14;
  --hdr-fg: #e6e7e8;
  --hdr-border: #1f2937;
  --hdr-bg-hover: #1f2937;
  --hdr-fg-muted: #9ca3af;
  
  /* Navigation Colors */
  --nav-active: #60a5fa;
  --nav-hover: #93c5fd;
  --nav-active-bg: #1e3a8a;
  
  /* Shadows remain the same */
  --hdr-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.3);
  --hdr-shadow-condensed: 0 4px 6px -1px rgb(0 0 0 / 0.4), 0 2px 4px -1px rgb(0 0 0 / 0.3);
  
  /* Component States */
  --component-hover: #1f2937;
  --component-active: #1e3a8a;
  --component-focus: #60a5fa;
  --component-disabled: #374151;
  
  /* Notification Colors */
  --notification-success: #34d399;
  --notification-warning: #fbbf24;
  --notification-error: #f87171;
  --notification-info: #60a5fa;
}

/* Component Base Styles */
@layer components {
  /* Table Styles */
  .table-container {
    @apply bg-white rounded-lg shadow-sm overflow-hidden;
  }
  
  .table-header {
    @apply px-6 py-4 border-b border-gray-200 bg-gray-50;
  }
  
  .table-title {
    @apply text-lg font-medium text-gray-900;
  }
  
  .table-subtitle {
    @apply text-sm text-gray-600 mt-1;
  }
  
  .table-search-input {
    @apply pl-10 pr-4 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500;
  }
  
  .table-filter-btn {
    @apply px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500;
  }
  
  .table-bulk-action-btn {
    @apply px-3 py-1 text-sm font-medium text-red-700 bg-red-100 rounded-md hover:bg-red-200 transition-colors;
  }
  
  .table-wrapper {
    @apply relative;
  }
  
  .table-loading-overlay {
    @apply absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center z-10;
  }
  
  .table-loading-spinner {
    @apply text-center;
  }
  
  .table-scroll-container {
    @apply overflow-x-auto;
  }
  
  .table {
    @apply min-w-full divide-y divide-gray-200;
  }
  
  .table-head {
    @apply bg-gray-50;
  }
  
  .table-th {
    @apply px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider;
  }
  
  .table-th-content {
    @apply flex items-center space-x-1;
  }
  
  .table-th-label {
    @apply text-gray-500;
  }
  
  .table-sort-btn {
    @apply text-gray-400 hover:text-gray-600 focus:outline-none;
  }
  
  .table-sort-btn.active {
    @apply text-blue-600;
  }
  
  .table-body {
    @apply bg-white divide-y divide-gray-200;
  }
  
  .table-row {
    @apply hover:bg-gray-50 transition-colors;
  }
  
  .table-row.selected {
    @apply bg-blue-50;
  }
  
  .table-td {
    @apply px-6 py-4 whitespace-nowrap text-sm text-gray-900;
  }
  
  .table-checkbox {
    @apply rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50;
  }
  
  .table-actions {
    @apply flex items-center justify-end space-x-2;
  }
  
  .table-action-link {
    @apply text-blue-600 hover:text-blue-900 transition-colors;
  }
  
  .table-action-btn {
    @apply text-gray-400 hover:text-gray-600 transition-colors;
  }
  
  .table-dropdown {
    @apply absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10;
  }
  
  .table-dropdown-item {
    @apply block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100;
  }
  
  .table-empty-cell {
    @apply px-6 py-12 text-center text-sm text-gray-500;
  }
  
  .table-empty-state {
    @apply flex flex-col items-center;
  }
  
  .table-empty-action-btn {
    @apply mt-4 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors;
  }
  
  .table-pagination {
    @apply px-6 py-4 border-t border-gray-200;
  }
  
  /* Card Styles */
  .card {
    @apply bg-white rounded-lg shadow-sm border border-gray-200 relative;
  }
  
  .card.bordered {
    @apply border-2;
  }
  
  .card.elevated {
    @apply shadow-lg;
  }
  
  .card.flat {
    @apply shadow-none border-0;
  }
  
  .card.hover:hover {
    @apply shadow-md transition-shadow duration-200;
  }
  
  .card.clickable {
    @apply cursor-pointer;
  }
  
  .card.loading {
    @apply pointer-events-none;
  }
  
  .card-loading-overlay {
    @apply absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center z-10;
  }
  
  .card-loading-spinner {
    @apply text-center;
  }
  
  .card-header {
    @apply px-6 py-4 border-b border-gray-200 bg-gray-50;
  }
  
  .card-header-content {
    @apply flex items-center justify-between;
  }
  
  .card-title {
    @apply text-lg font-semibold text-gray-900;
  }
  
  .card-subtitle {
    @apply text-sm text-gray-600 mt-1;
  }
  
  .card-body {
    @apply text-gray-900;
  }
  
  .card-footer {
    @apply px-6 py-4 border-t border-gray-200 bg-gray-50;
  }
  
  /* Form Styles */
  .form-group {
    @apply mb-4;
  }
  
  .form-label {
    @apply block text-sm font-medium text-gray-700 mb-2;
  }
  
  .form-input-container {
    @apply relative;
  }
  
  .form-input {
    @apply block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500;
  }
  
  .form-input.error {
    @apply border-red-300 focus:ring-red-500 focus:border-red-500;
  }
  
  .form-input.with-icon {
    @apply pl-10;
  }
  
  .form-input.icon-right {
    @apply pr-10 pl-4;
  }
  
  .form-input-icon-left {
    @apply absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none;
  }
  
  .form-input-icon-right {
    @apply absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none;
  }
  
  .form-error {
    @apply mt-1 text-sm text-red-600 flex items-center;
  }
  
  .form-help {
    @apply mt-1 text-sm text-gray-500;
  }
  
  /* Button Styles */
  .btn {
    @apply inline-flex items-center justify-center border border-transparent font-medium rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors duration-200;
  }
  
  .btn:disabled {
    @apply opacity-50 cursor-not-allowed;
  }
  
  /* Header Styles */
  .header-shell {
    @apply sticky top-0 z-header bg-header-bg text-header-fg border-b border-header-border;
    @apply transition-all duration-200 ease-out;
    height: var(--hdr-h);
    box-shadow: var(--hdr-shadow);
  }
  
  .header-shell.condensed {
    height: var(--hdr-h-condensed);
    box-shadow: var(--hdr-shadow-condensed);
  }
  
  .header-container {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
    @apply flex items-center justify-between;
    height: 100%;
  }
  
  .header-logo {
    @apply flex items-center space-x-2;
  }
  
  .header-nav {
    @apply hidden md:flex items-center space-x-8;
  }
  
  .header-nav-item {
    @apply text-header-fg hover:text-nav-hover px-3 py-2 rounded-md text-sm font-medium;
    @apply transition-colors duration-200;
  }
  
  .header-nav-item.active {
    @apply text-nav-active bg-nav-active-bg;
  }
  
  .header-actions {
    @apply flex items-center space-x-3;
  }
  
  .header-action-btn {
    @apply p-2 text-header-fg-muted hover:text-header-fg hover:bg-header-bg-hover;
    @apply rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-nav-active;
  }
  
  .header-user-menu {
    @apply relative;
  }
  
  .header-user-avatar {
    @apply w-8 h-8 bg-nav-active rounded-full flex items-center justify-center;
    @apply text-white text-sm font-medium cursor-pointer;
    @apply hover:ring-2 hover:ring-nav-active hover:ring-offset-2;
    @apply transition-all duration-200;
  }
  
  .header-dropdown {
    @apply absolute right-0 mt-2 w-48 bg-header-bg rounded-lg shadow-lg border border-header-border;
    @apply py-1 z-header-dropdown;
    @apply animate-fade-in;
  }
  
  .header-dropdown-item {
    @apply block px-4 py-2 text-sm text-header-fg hover:bg-header-bg-hover;
    @apply transition-colors duration-200;
  }
  
  .mobile-sheet {
    @apply fixed inset-y-0 left-0 w-64 bg-header-bg border-r border-header-border;
    @apply z-50 transform transition-transform duration-300 ease-out;
    @apply pt-header;
  }
  
  .mobile-sheet.open {
    @apply translate-x-0;
  }
  
  .mobile-sheet.closed {
    @apply -translate-x-full;
  }
  
  .mobile-overlay {
    @apply fixed inset-0 bg-black bg-opacity-50 z-40;
    @apply transition-opacity duration-300;
  }
  
  .hamburger {
    @apply md:hidden p-2 text-header-fg hover:text-nav-hover;
    @apply rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-nav-active;
  }
  
  .hamburger-line {
    @apply block w-6 h-0.5 bg-current transition-all duration-300;
  }
  
  .hamburger.active .hamburger-line:nth-child(1) {
    @apply rotate-45 translate-y-1.5;
  }
  
  .hamburger.active .hamburger-line:nth-child(2) {
    @apply opacity-0;
  }
  
  .hamburger.active .hamburger-line:nth-child(3) {
    @apply -rotate-45 -translate-y-1.5;
  }
}

/* Focus Management */
@layer utilities {
  .focus-trap {
    @apply focus:outline-none focus:ring-2 focus:ring-nav-active focus:ring-offset-2;
  }
  
  .sr-only {
    @apply absolute w-px h-px p-0 -m-px overflow-hidden;
    @apply whitespace-nowrap border-0;
    clip: rect(0, 0, 0, 0);
  }
}

/* Print Styles */
@media print {
  .header-shell {
    @apply static shadow-none border-b-0;
  }
  
  .header-actions,
  .hamburger {
    @apply hidden;
  }
}