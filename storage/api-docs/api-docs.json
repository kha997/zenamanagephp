{
    "openapi": "3.0.0",
    "info": {
        "title": "ZenaManage API v1",
        "description": "ZenaManage Project Management System API Documentation",
        "contact": {
            "name": "ZenaManage Support",
            "email": "support@zenamanage.com"
        },
        "license": {
            "name": "MIT",
            "url": "https://opensource.org/licenses/MIT"
        },
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "http://localhost:8000",
            "description": "Local Development Server"
        },
        {
            "url": "https://api.zenamanage.com",
            "description": "Production Server"
        }
    ],
    "paths": {
        "/api/v1/public/health": {
            "get": {
                "tags": [
                    "Public"
                ],
                "summary": "Health Check",
                "description": "Returns the health status of the API",
                "operationId": "94a9635f24d27a32b6f8317c89e925b0",
                "responses": {
                    "200": {
                        "description": "API is healthy",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "ok"
                                        },
                                        "timestamp": {
                                            "type": "string",
                                            "format": "date-time"
                                        },
                                        "version": {
                                            "type": "string",
                                            "example": "1.0.0"
                                        },
                                        "environment": {
                                            "type": "string",
                                            "example": "local"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/admin/perf/health": {
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "Admin Performance Health Check",
                "description": "Returns detailed health status including database, queue, and storage",
                "operationId": "6caf0dac87af70e3a04aa3fb03163ec9",
                "responses": {
                    "200": {
                        "description": "Detailed health status",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "ok"
                                        },
                                        "timestamp": {
                                            "type": "string",
                                            "format": "date-time"
                                        },
                                        "services": {
                                            "properties": {
                                                "database": {
                                                    "type": "string",
                                                    "example": "ok"
                                                },
                                                "queue": {
                                                    "type": "string",
                                                    "example": "ok"
                                                },
                                                "storage": {
                                                    "type": "string",
                                                    "example": "ok"
                                                },
                                                "cache": {
                                                    "type": "string",
                                                    "example": "ok"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Forbidden - Admin access required",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Access denied. Admin privileges required."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/v1/admin/perf/metrics": {
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "Performance Metrics",
                "description": "Returns system performance metrics",
                "operationId": "1412c5cb8f4e8c2881720ded90e92019",
                "responses": {
                    "200": {
                        "description": "Performance metrics",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "timestamp": {
                                            "type": "string",
                                            "format": "date-time"
                                        },
                                        "memory_usage": {
                                            "type": "string",
                                            "example": "45.2 MB"
                                        },
                                        "execution_time": {
                                            "type": "string",
                                            "example": "125ms"
                                        },
                                        "database_queries": {
                                            "type": "integer",
                                            "example": 12
                                        },
                                        "cache_hits": {
                                            "type": "integer",
                                            "example": 8
                                        },
                                        "cache_misses": {
                                            "type": "integer",
                                            "example": 2
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/v1/admin/perf/clear-caches": {
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Clear System Caches",
                "description": "Clears all system caches",
                "operationId": "42e82b4da519a06b54b5ec6f67e72bd7",
                "responses": {
                    "200": {
                        "description": "Caches cleared successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "All caches cleared successfully"
                                        },
                                        "timestamp": {
                                            "type": "string",
                                            "format": "date-time"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/v1/project-manager/dashboard/stats": {
            "get": {
                "tags": [
                    "Project Manager"
                ],
                "summary": "Get Project Manager dashboard statistics",
                "description": "Retrieve comprehensive statistics for project manager dashboard including project metrics, task counts, and financial data",
                "operationId": "9597469eac264e7f0fa278b4f38769ee",
                "responses": {
                    "200": {
                        "description": "Dashboard statistics retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "totalProjects": {
                                                    "type": "integer",
                                                    "example": 15
                                                },
                                                "activeProjects": {
                                                    "type": "integer",
                                                    "example": 8
                                                },
                                                "completedProjects": {
                                                    "type": "integer",
                                                    "example": 5
                                                },
                                                "totalTasks": {
                                                    "type": "integer",
                                                    "example": 120
                                                },
                                                "completedTasks": {
                                                    "type": "integer",
                                                    "example": 85
                                                },
                                                "pendingTasks": {
                                                    "type": "integer",
                                                    "example": 25
                                                },
                                                "overdueTasks": {
                                                    "type": "integer",
                                                    "example": 10
                                                },
                                                "financial": {
                                                    "properties": {
                                                        "totalBudget": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 500000
                                                        },
                                                        "totalActual": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 450000
                                                        },
                                                        "totalRevenue": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 480000
                                                        },
                                                        "budgetUtilization": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 90
                                                        },
                                                        "profitMargin": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 15.5
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Project Manager dashboard statistics retrieved successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Authentication required",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorEnvelope"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Insufficient permissions - Project Manager role required",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorEnvelope"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/v1/project-manager/dashboard/timeline": {
            "get": {
                "tags": [
                    "Project Manager"
                ],
                "summary": "Get Project Manager project timeline",
                "description": "Retrieve project timeline data for project manager dashboard showing project schedules and progress",
                "operationId": "fd1d32c0d1f348f0d3371dc6c99ac2d6",
                "responses": {
                    "200": {
                        "description": "Project timeline retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Website Redesign"
                                                    },
                                                    "start_date": {
                                                        "type": "string",
                                                        "format": "date",
                                                        "example": "2024-01-01"
                                                    },
                                                    "end_date": {
                                                        "type": "string",
                                                        "format": "date",
                                                        "example": "2024-03-31"
                                                    },
                                                    "status": {
                                                        "type": "string",
                                                        "example": "active"
                                                    },
                                                    "progress": {
                                                        "type": "integer",
                                                        "example": 75
                                                    },
                                                    "duration_days": {
                                                        "type": "integer",
                                                        "example": 90
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Project timeline retrieved successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Authentication required",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorEnvelope"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Insufficient permissions - Project Manager role required",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorEnvelope"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        }
    },
    "components": {
        "schemas": {
            "ErrorEnvelope": {
                "required": [
                    "error"
                ],
                "properties": {
                    "error": {
                        "required": [
                            "id",
                            "code",
                            "message"
                        ],
                        "properties": {
                            "id": {
                                "description": "Unique error identifier for correlation",
                                "type": "string",
                                "example": "req_abc12345"
                            },
                            "code": {
                                "description": "Error code following pattern E{HTTP_CODE}.{CATEGORY}",
                                "type": "string",
                                "example": "E422.VALIDATION"
                            },
                            "message": {
                                "description": "Human-readable error message",
                                "type": "string",
                                "example": "Validation failed"
                            },
                            "details": {
                                "description": "Additional error details",
                                "properties": {
                                    "validation": {
                                        "description": "Validation errors (for E422.VALIDATION)",
                                        "type": "object",
                                        "additionalProperties": {
                                            "type": "array",
                                            "items": {
                                                "type": "string"
                                            }
                                        }
                                    },
                                    "retry_after": {
                                        "description": "Seconds to wait before retry (for E429.RATE_LIMIT, E503.SERVICE_UNAVAILABLE)",
                                        "type": "integer",
                                        "example": 60
                                    },
                                    "exception": {
                                        "description": "Exception details (non-production only)",
                                        "type": "string",
                                        "example": "Database connection failed"
                                    }
                                },
                                "type": "object"
                            }
                        },
                        "type": "object"
                    }
                },
                "type": "object"
            },
            "ErrorCodes": {
                "description": "Standard error codes used in ZenaManage API",
                "properties": {
                    "E400.BAD_REQUEST": {
                        "description": "Bad request - invalid request format or parameters",
                        "type": "string"
                    },
                    "E401.AUTHENTICATION": {
                        "description": "Authentication required or failed",
                        "type": "string"
                    },
                    "E403.AUTHORIZATION": {
                        "description": "Insufficient permissions to access resource",
                        "type": "string"
                    },
                    "E404.NOT_FOUND": {
                        "description": "Requested resource not found",
                        "type": "string"
                    },
                    "E409.CONFLICT": {
                        "description": "Resource conflict - resource already exists or is in use",
                        "type": "string"
                    },
                    "E422.VALIDATION": {
                        "description": "Validation failed - invalid input data",
                        "type": "string"
                    },
                    "E429.RATE_LIMIT": {
                        "description": "Rate limit exceeded - too many requests",
                        "type": "string"
                    },
                    "E500.SERVER_ERROR": {
                        "description": "Internal server error",
                        "type": "string"
                    },
                    "E503.SERVICE_UNAVAILABLE": {
                        "description": "Service temporarily unavailable",
                        "type": "string"
                    }
                },
                "type": "object"
            }
        },
        "securitySchemes": {
            "sanctum": {
                "type": "http",
                "description": "Laravel Sanctum Token Authentication",
                "bearerFormat": "JWT",
                "scheme": "bearer"
            },
            "cookie": {
                "type": "apiKey",
                "description": "CSRF Token for SPA Authentication",
                "name": "XSRF-TOKEN",
                "in": "cookie"
            }
        }
    },
    "tags": [
        {
            "name": "Admin",
            "description": "Super admin only endpoints"
        },
        {
            "name": "Public",
            "description": "Public endpoints (no authentication required)"
        },
        {
            "name": "Project Manager",
            "description": "Project Manager dashboard and analytics endpoints"
        }
    ]
}